### Install Project Dependencies

Source: https://docs.solidjs.com/solid-start/getting-started

Commands to install project dependencies after initializing SolidStart. This step is crucial before running the application.

```bash
npm i
```

```bash
pnpm i
```

```bash
yarn i
```

```bash
bun i
```

```bash
deno i
```

--------------------------------

### Install Dependencies and Start Development Server for Solid Project

Source: https://docs.solidjs.com/quick-start

Instructions to navigate into the created Solid project directory, install project dependencies, and start the development server. This process varies slightly depending on the package manager used.

```bash
cd <solid-project>
npm install
npm run dev
```

```bash
cd <solid-project>
pnpm install
pnpm dev
```

```bash
cd <solid-project>
yarn install
yarn dev
```

```bash
cd <solid-project>
bun install
bun run dev
```

```bash
cd <solid-project>
den install
den run dev
```

--------------------------------

### Initialize SolidStart Project

Source: https://docs.solidjs.com/solid-start/getting-started

Commands to initialize a new SolidStart project using different package managers. This creates a new project directory based on user input.

```bash
npm init solid@latest
```

```bash
pnpm create solid@latest
```

```bash
yarn create solid@latest
```

```bash
bun create solid@latest
```

```bash
deno init --npm solid@latest
```

--------------------------------

### Run SolidStart Development Server

Source: https://docs.solidjs.com/solid-start/getting-started

Commands to run the SolidStart application locally for development. This command typically starts a server on http://localhost:3000.

```bash
npm run dev
```

```bash
pnpm dev
```

```bash
yarn dev
```

```bash
bun run dev
```

```bash
deno run dev
```

--------------------------------

### Solid Start Server Entrypoint Configuration

Source: https://docs.solidjs.com/solid-start/reference/entrypoints/entry-server

This code snippet demonstrates the typical setup for entry-server.tsx in a Solid Start application. It configures the server-side rendering process by providing a custom document component to the StartServer handler, which includes essential HTML elements, assets, and scripts for the application.

```typescript
import { createHandler, StartServer } from "@solidjs/start/server";


export default createHandler(() => (
  <StartServer
    document={({ assets, children, scripts }) => (
      <html lang="en">
        <head>
          <meta charset="utf-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1" />
          <link rel="icon" href="/favicon.ico" />
          {assets}
        </head>
        <body>
          <div id="app">{children}</div>
          {scripts}
        </body>
      </html>
    )}
  />
));
```

--------------------------------

### Basic createAsync Usage Example

Source: https://docs.solidjs.com/solid-router/reference/data-apis/create-async

Demonstrates a basic implementation of createAsync for fetching user data. It shows how to define a query function and use createAsync to get the user data, then render the user's name.

```typescript
import { createAsync, query } from "@solidjs/router";


const getUserQuery = query(async (id: string) => {
  // ... Fetches the user from the server.
}, "user");


function UserProfile() {
  const user = createAsync(() => getUserQuery());


  return <p>{user()?.name}</p>;
}
```

--------------------------------

### Setup Router Component (SolidJS)

Source: https://docs.solidjs.com/guides/routing-and-navigation

Demonstrates the basic setup of the `<Router />` component in a Solid application. This component is essential for enabling routing and will match the URL to display the correct page.

```javascript
import { render } from "solid-js/web";
import { Router } from "@solidjs/router";


render(() => <Router />, document.getElementById("root"));
```

--------------------------------

### SolidJS onMount Example with Refs

Source: https://docs.solidjs.com/reference/lifecycle/on-mount

An example demonstrating how to use the onMount hook in SolidJS to get a reference to a DOM element and manipulate it after mounting.

```typescript
// example that shows how to use onMount to get a reference to an element
import { onMount } from "solid-js"


function MyComponent() {
  let ref: HTMLButtonElement


  // when the component is mounted, the button will be disabled
  onMount(() => {
    ref.disabled = true
  })
  return <button ref={ref}>Focus me!</button>
}
```

--------------------------------

### SolidStart: Show Loading UI with Suspense

Source: https://docs.solidjs.com/solid-start/guides/data-fetching

This example demonstrates how to display a loading indicator while data is being fetched in SolidStart. It utilizes the `Suspense` component from `solid-js` to wrap the data-dependent UI and provides a fallback UI via the `fallback` prop. This requires importing `Suspense` from `solid-js`.

```typescript
// src/routes/index.tsx
import { Suspense, For } from "solid-js";
import { query, createAsync } from "@solidjs/router";


const getPosts = query(async () => {
  const posts = await fetch("https://my-api.com/posts");
  return await posts.json();
}, "posts");


export default function Page() {
  const posts = createAsync(() => getPosts());
  return (
    <ul>
      <Suspense fallback={<div>Loading...</div>}>
        <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
      </Suspense>
    </ul>
  );
}

```

```javascript
// src/routes/index.jsx
import { Suspense, For } from "solid-js";
import { query, createAsync } from "@solidjs/router";


const getPosts = query(async () => {
  const posts = await fetch("https://my-api.com/posts");
  return await posts.json();
}, "posts");


export default function Page() {
  const posts = createAsync(() => getPosts());
  return (
    <ul>
      <Suspense fallback={<div>Loading...</div>}>
        <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
      </Suspense>
    </ul>
  );
}

```

--------------------------------

### Action Examples

Source: https://docs.solidjs.com/solid-router/reference/data-apis/action

Illustrates how to use the `action` function for form submissions, passing additional arguments, and programmatic triggering.

```APIDOC
## Action Examples

### Form Submission

```javascript
import { action } from "@solidjs/router";

const addTodoAction = action(async (formData: FormData) => {
  // Adds a new todo to the server.
}, "addTodo");

function TodoForm() {
  return (
    <form action={addTodoAction} method="post">
      <input name="name" />
      <button>Add todo</button>
    </form>
  );
}
```

### Passing Additional Arguments

```javascript
import { action } from "@solidjs/router";

const addTodoAction = action(async (userId: number, formData: FormData) => {
  // ... Adds a new todo for a specific user.
}, "addTodo");

function TodoForm() {
  const userId = 1;
  return (
    <form action={addTodoAction.with(userId)} method="post">
      <input name="name" />
      <button>Add todo</button>
    </form>
  );
}
```

### Triggering Actions Programmatically

```javascript
import { action, useAction } from "@solidjs/router";

const markDoneAction = action(async (id: string) => {
  // ... Marks a todo as done on the server.
});

function NotificationItem(props: { id: string }) {
  const markDone = useAction(markDoneAction);

  return <button onClick={() => markDone(props.id)}>Mark as done</button>;
}
```
```

--------------------------------

### Install Solid Meta with bun

Source: https://docs.solidjs.com/solid-meta/getting-started/installation-and-setup

Installs the Solid Meta library using bun. This command integrates the meta tag management capabilities into your SolidJS application.

```bash
bun i @solidjs/meta
```

--------------------------------

### Basic Usage of createAsyncStore with Solid.js

Source: https://docs.solidjs.com/solid-router/reference/data-apis/create-async-store

Illustrates a basic example of using createAsyncStore in a Solid.js component. It shows how to fetch notifications, conditionally display them, and toggle a filter using signals and the For component.

```javascript
import { For, createSignal } from "solid-js";
import { createAsyncStore, query } from "@solidjs/router";


const getNotificationsQuery = query(async (unreadOnly: boolean) => {
  // ... Fetches the list of notifications from the server.
}, "notifications");


function Notifications() {
  const [unreadOnly, setUnreadOnly] = createSignal(false);
  const notifications = createAsyncStore(() =>
    getNotificationsQuery(unreadOnly())
  );


  return (
    <div>
      <button onClick={() => setUnreadOnly(!unreadOnly())}>
        Toggle unread
      </button>
      <ul>
        <For each={notifications()}>
          {(notification) => (
            <li>
              <div>{notification.message}</div>
              <div>{notification.user.name}</div>
            </li>
          )}
        </For>
      </ul>
    </div>
  );
}
```

--------------------------------

### Install Testing Dependencies (bun)

Source: https://docs.solidjs.com/guides/testing

Installs the recommended testing packages for Solid applications using bun. This includes the testing framework (vitest), a virtual DOM (jsdom), and libraries for component testing and user event simulation.

```bash
bun i vitest jsdom @solidjs/testing-library @testing-library/user-event @testing-library/jest-dom -d
```

--------------------------------

### Install Solid Meta with deno

Source: https://docs.solidjs.com/solid-meta/getting-started/installation-and-setup

Installs the Solid Meta library using deno. This command allows you to add the meta tag management functionality to your SolidJS project.

```bash
deno add npm:@solidjs/meta
```

--------------------------------

### Install Zerops CLI globally with deno

Source: https://docs.solidjs.com/guides/deployment-options/zerops

Installs the Zerops CLI (zCLI) globally using deno, making the `zcli` command available system-wide.

```bash
deno add npm:@zerops/zcli -g
```

--------------------------------

### Install Zerops CLI on Windows

Source: https://docs.solidjs.com/guides/deployment-options/zerops

This command installs the Zerops CLI (zCLI) on Windows systems using Invoke-WebRequest (irm) to download and execute the installation script.

```powershell
irm https://zerops.io/zcli/install.ps1 | iex
```

--------------------------------

### Install Testing Dependencies (deno)

Source: https://docs.solidjs.com/guides/testing

Installs the recommended testing packages for Solid applications using deno. This includes the testing framework (vitest), a virtual DOM (jsdom), and libraries for component testing and user event simulation.

```bash
deno add npm:vitest jsdom @solidjs/testing-library @testing-library/user-event @testing-library/jest-dom -D
```

--------------------------------

### Install Testing Dependencies (npm)

Source: https://docs.solidjs.com/guides/testing

Installs the recommended testing packages for Solid applications using npm. This includes the testing framework (vitest), a virtual DOM (jsdom), and libraries for component testing and user event simulation.

```bash
npm i vitest jsdom @solidjs/testing-library @testing-library/user-event @testing-library/jest-dom -D
```

--------------------------------

### Install Solid Router

Source: https://docs.solidjs.com/guides/routing-and-navigation

Installs the Solid Router package using various package managers. This is a prerequisite for using the router in a Solid application.

```bash
npm i @solidjs/router
```

```bash
pnpm i @solidjs/router
```

```bash
yarn add @solidjs/router
```

```bash
bun i @solidjs/router
```

```bash
deno add npm:@solidjs/router
```

--------------------------------

### Install Solid Meta with npm

Source: https://docs.solidjs.com/solid-meta/getting-started/installation-and-setup

Installs the Solid Meta library using npm. This is the first step to integrating meta tag management into your SolidJS application.

```bash
npm i @solidjs/meta
```

--------------------------------

### Tailwind CSS Configuration File

Source: https://docs.solidjs.com/guides/styling-components/tailwind-v3

Example `tailwind.config.js` file. It specifies the `content` paths to scan for Tailwind class names and an empty `theme` and `plugins` object for initial setup. Customize these as needed.

```javascript
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],
  theme: {
    extend: {},
  },
  plugins: [],
};
```

--------------------------------

### SolidJS Meta Tag Management Setup

Source: https://docs.solidjs.com/solid-meta/getting-started/installation-and-setup

Demonstrates setting up meta tag management in a SolidJS application using the MetaProvider and associated components. It shows how to set the page title, add canonical links, and include meta tags.

```jsx
import { MetaProvider, Title, Link, Meta } from "@solidjs/meta";


const App = () => (
  <MetaProvider>
    <div class="Home">
      <Title>Title of page</Title>
      <Link rel="canonical" href="http://solidjs.com/" />
      <Meta name="example" content="whatever" />
    </div>
  </MetaProvider>
);

```

--------------------------------

### Install Zerops CLI globally with bun

Source: https://docs.solidjs.com/guides/deployment-options/zerops

Installs the Zerops CLI (zCLI) globally using bun, making the `zcli` command available system-wide.

```bash
bun i @zerops/zcli -g
```

--------------------------------

### SolidJS createStore Initialization Example

Source: https://docs.solidjs.com/reference/store-utilities/create-store

Demonstrates how to initialize a SolidJS store with an object containing a number and an array of user objects. The store is reactive and can be accessed using the getter and modified using the setter.

```javascript
import { createStore } from "solid-js/store";


// Initialize store
const [store, setStore] = createStore({
  userCount: 3,
  users: [
    {
      id: 0,
      username: "felix909",
      location: "England",
      loggedIn: false,
    },
    {
      id: 1,
      username: "tracy634",
      location: "Canada",
      loggedIn: true,
    },
    {
      id: 1,
      username: "johny123",
      location: "India",
      loggedIn: true,
    },
  ],
});

```

--------------------------------

### Install Zerops CLI on Linux/MacOS

Source: https://docs.solidjs.com/guides/deployment-options/zerops

This command installs the Zerops CLI (zCLI) on Linux or MacOS systems using curl to download and execute the installation script.

```bash
curl -L https://zerops.io/zcli/install.sh | sh
```

--------------------------------

### GET Server Function

Source: https://docs.solidjs.com/solid-start/reference/server/get

Defines a server function that is accessed via an HTTP GET request. Arguments are serialized into the URL, enabling the use of HTTP cache-control headers. Example shows a streaming promise with a 60-second cache life.

```APIDOC
## GET /api/server-function

### Description
Defines a server function that is accessed via an HTTP GET request. Arguments are serialized into the URL, enabling the use of HTTP cache-control headers. This example demonstrates how to create a streaming promise with a specified cache life.

### Method
GET

### Endpoint
/api/server-function (or dynamically generated based on function name)

### Parameters
#### Function Signature
`GET<T extends (...args: any[]) => any>(fn: T): (...args: Parameters<T>) => ReturnType<T>`

- `fn`: The async function to be exposed as a GET server function.

#### Request Body
N/A (Arguments are serialized into the URL for GET requests)

### Request Example
```javascript
import { json } from "@solidjs/router";
import { GET } from "@solidjs/start";


const hello = GET(async (name: string) => {
  "use server";
  return json(
    { hello: new Promise<string>((r) => setTimeout(() => r(name), 1000)) },
    { headers: { "cache-control": "max-age=60" } }
  );
});
```

### Response
#### Success Response (200)
- **hello** (Promise<string>) - A promise that resolves to the string value passed as the argument, with a cache control header set to "max-age=60".

#### Response Example
```json
{
  "hello": "[streaming string value]"
}
```
```

--------------------------------

### Solid.js Dynamic Component Usage Example

Source: https://docs.solidjs.com/reference/components/dynamic

Demonstrates a basic example of using the Solid.js Dynamic component. It shows how to specify a component to render (MyComponent) and pass additional props (someProp) to it.

```jsx
<Dynamic component={MyComponent} someProp={state.something} />
```

--------------------------------

### Install Testing Dependencies (pnpm)

Source: https://docs.solidjs.com/guides/testing

Installs the recommended testing packages for Solid applications using pnpm. This includes the testing framework (vitest), a virtual DOM (jsdom), and libraries for component testing and user event simulation.

```bash
pnpm i vitest jsdom @solidjs/testing-library @testing-library/user-event @testing-library/jest-dom -D
```

--------------------------------

### Test Counter Primitive with SolidJS

Source: https://docs.solidjs.com/guides/testing

This example shows how to test a `createCounter` primitive using `renderHook`. It verifies that the counter starts at 0 and increments correctly when the `increment` function is called. It requires `@solidjs/testing-library` and vitest.

```typescript
import { test, expect } from "vitest"
import { renderHook } from "@solidjs/testing-library"
import { createCounter } from "./counter"

test("increments count", () => {
  const { result } = renderHook(createCounter)
  expect(result.count).toBe(0)
  result.increment()
  expect(result.count).toBe(1)
})
```

--------------------------------

### Install Zerops CLI globally with npm

Source: https://docs.solidjs.com/guides/deployment-options/zerops

Installs the Zerops CLI (zCLI) globally using npm, making the `zcli` command available system-wide.

```bash
npm i @zerops/zcli -g
```

--------------------------------

### SolidJS createRoot Basic Usage Example

Source: https://docs.solidjs.com/reference/reactive-utilities/create-root

Demonstrates the basic usage of `createRoot` by creating a counter component within a root context. It shows how to use `createSignal`, `createEffect`, and manage component state, including explicit disposal of the root's computations using the `dispose` function.

```javascript
import { createSignal, createEffect, createRoot } from "solid-js";


function createCounter(initial = 0) {
  const [count, setCount] = createSignal(initial);


  createEffect(() => {
    console.log(`Count changed, new value: ${count()}`);
  });


  function increment() {
    setCount((c) => c + 1);
  }


  function reset() {
    setCount(initial);
  }


  return { count, increment, reset };
}


test("createCounter works correctly", () => {
  createRoot((dispose) => {
    const { count, increment, reset } = createCounter(10);


    expect(count()).toBe(10);
    increment();
    expect(count()).toBe(11);
    reset();
    expect(count()).toBe(10);


    dispose();
  });
});
```

--------------------------------

### SolidJS useTransition Hook Usage Example

Source: https://docs.solidjs.com/reference/reactive-utilities/use-transition

Demonstrates how to use the useTransition hook in SolidJS. It shows how to get the pending state, check if a transition is in progress, and how to wrap asynchronous operations within startTransition to defer updates. The second argument to startTransition is an optional callback executed once the transition is complete.

```typescript
const [isPending, start] = useTransition();


// check if transitioning
isPending();


// wrap in transition
start(() => setSignal(newValue), () => /* transition is done */)
```

--------------------------------

### SolidStart App Component without Routing (TypeScript)

Source: https://docs.solidjs.com/solid-start/reference/entrypoints/app

This example demonstrates a minimal SolidStart App component that does not include any routing. It directly renders a main element with a "Hello world!" heading, suitable for simple applications or when routing is handled elsewhere.

```typescript
export default function App() {
  return (
    <main>
      <h1>Hello world!</h1>
    </main>
  );
}
```

--------------------------------

### Configure Router with Preloaded Routes in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Illustrates the setup of the SolidJS router, including defining routes with components and associating preload functions exported from data files. This enables eager data fetching.

```javascript
import { lazy } from "solid-js";
import { render } from "solid-js/web";
import { Router, Route } from "@solidjs/router";
import { preloadUser } from "./pages/users/[id].data.js";


const Home = lazy(() => import("./pages/Home"));
const User = lazy(() => import("./pages/users/[id]"));


render(
  () => (
    <Router>
      <Route path="/" component={Home} />
      <Route path="/users/:id" component={User} preload={preloadUser} />
    </Router>
  ),
  document.getElementById("root")
);
```

--------------------------------

### Install Zerops CLI globally with pnpm

Source: https://docs.solidjs.com/guides/deployment-options/zerops

Installs the Zerops CLI (zCLI) globally using pnpm, making the `zcli` command available system-wide.

```bash
pnpm i @zerops/zcli -g
```

--------------------------------

### Serve Static Assets from Public Directory in SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/static-assets

Demonstrates how to place static assets in the `/public` directory of a SolidStart project. Assets are served at their exact path relative to `/public`, allowing for stable, human-readable references. This method is suitable for assets like favicons, documents, service workers, and metadata files.

```directory
|-- public
|   favicon.ico                   ->  /favicon.ico
|   |-- images
|   |   |-- logo.png              ->  /images/logo.png
|   |   |-- background.png        ->  /images/background.png
|   |-- models
|   |   |-- player.gltf           ->  /models/player.gltf
|   |-- documents
|   |   |-- report.pdf            ->  /documents/report.pdf
```

```javascript
export default function About() {
  return (
    <>
      <h1>About</h1>
      <img src="/images/logo.png" alt="Solid logo" />
    </>
  );
}
```

--------------------------------

### Install Macaron CSS Core and Solid Integration

Source: https://docs.solidjs.com/guides/styling-components/macaron

Installs the necessary Macaron CSS core and Solid integration packages using various package managers. Ensure these packages are installed before proceeding with configuration and usage.

```npm
npm i @macaron-css/core @macaron-css/solid
```

```pnpm
pnpm i @macaron-css/core @macaron-css/solid
```

```yarn
yarn add @macaron-css/core @macaron-css/solid
```

```bun
bun i @macaron-css/core @macaron-css/solid
```

```deno
deno add npm:@macaron-css/core @macaron-css/solid
```

--------------------------------

### SolidStart: Fetch Data with createAsync and query

Source: https://docs.solidjs.com/solid-start/guides/data-fetching

This snippet shows how to define a data query using the `query` primitive and then access its data asynchronously using `createAsync` in SolidStart. It fetches posts from a remote API and displays their titles. Dependencies include `@solidjs/router` and `solid-js`.

```typescript
// src/routes/index.tsx
import { For } from "solid-js";
import { query, createAsync } from "@solidjs/router";


const getPosts = query(async () => {
  const posts = await fetch("https://my-api.com/posts");
  return await posts.json();
}, "posts");


export default function Page() {
  const posts = createAsync(() => getPosts());
  return (
    <ul>
      <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
    </ul>
  );
}

```

```javascript
// src/routes/index.jsx
import { For } from "solid-js";
import { query, createAsync } from "@solidjs/router";


const getPosts = query(async () => {
  const posts = await fetch("https://my-api.com/posts");
  return await posts.json();
}, "posts");


export default function Page() {
  const posts = createAsync(() => getPosts());
  return (
    <ul>
      <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
    </ul>
  );
}

```

--------------------------------

### Install Solid Router with npm

Source: https://docs.solidjs.com/solid-router/getting-started/installation-and-setup

Install the Solid Router package using npm. This is the standard package manager for Node.js projects.

```bash
npm i @solidjs/router
```

--------------------------------

### SolidStart App Component with Routing (TypeScript)

Source: https://docs.solidjs.com/solid-start/reference/entrypoints/app

This example shows the isomorphic App component configured with routing using `@solidjs/router`. It sets up navigation links and uses Suspense for data loading, integrating with SolidStart's FileRouter to discover page routes.

```typescript
import { A, Router } from "@solidjs/router";
import { FileRoutes } from "@solidjs/start/router";
import { Suspense } from "solid-js";


export default function App() {
  return (
    <Router
      root={(props) => (
          <A href="/">Index</A>
          <A href="/about">About</A>
          <Suspense>{props.children}</Suspense>
      )}    >
      <FileRoutes />
    </Router>
  );
}
```

--------------------------------

### Install Solid Meta with yarn

Source: https://docs.solidjs.com/solid-meta/getting-started/installation-and-setup

Installs the Solid Meta library using yarn. This command adds the meta tag management library to your SolidJS project.

```bash
yarn add @solidjs/meta
```

--------------------------------

### Install Tailwind CSS and Dependencies

Source: https://docs.solidjs.com/guides/styling-components/tailwind-v3

Installs Tailwind CSS v3 along with PostCSS and Autoprefixer as development dependencies using various package managers. Ensure you have the correct package manager command for your project.

```npm
npm i tailwindcss@3 postcss autoprefixer -D
```

```pnpm
pnpm i tailwindcss@3 postcss autoprefixer -D
```

```yarn
yarn add tailwindcss@3 postcss autoprefixer -D
```

```bun
bun i tailwindcss@3 postcss autoprefixer -d
```

```deno
deno add npm:tailwindcss@3 postcss autoprefixer -D
```

--------------------------------

### Install Solid Router with deno

Source: https://docs.solidjs.com/solid-router/getting-started/installation-and-setup

Install the Solid Router package for use with Deno, a modern JavaScript runtime. This command fetches the package from npm.

```bash
deno add npm:@solidjs/router
```

--------------------------------

### Install Testing Dependencies (yarn)

Source: https://docs.solidjs.com/guides/testing

Installs the recommended testing packages for Solid applications using yarn. This includes the testing framework (vitest), a virtual DOM (jsdom), and libraries for component testing and user event simulation.

```bash
yarn add vitest jsdom @solidjs/testing-library @testing-library/user-event @testing-library/jest-dom -D
```

--------------------------------

### Example: Using useAction to Trigger a Like Action

Source: https://docs.solidjs.com/solid-router/reference/data-apis/use-action

Demonstrates a practical implementation of `useAction`. It shows how to define a server action using `action` and then use `useAction` in a component to trigger that action when a button is clicked, passing necessary parameters.

```typescript
import { action, useAction } from "@solidjs/router";


const likePostAction = action(async (id: string) => {
  // ... Likes a post on the server.
});


function LikeButton(props: { postId: string }) {
  const likePost = useAction(likePostAction);


  return <button onClick={() => likePost(props.postId)}>Like</button>;
}
```

--------------------------------

### Install Solid Router with bun

Source: https://docs.solidjs.com/solid-router/getting-started/installation-and-setup

Install the Solid Router package using bun, a fast JavaScript runtime and build tool. This command is for projects using bun as their package manager.

```bash
bun i @solidjs/router
```

--------------------------------

### Install Solid Meta with pnpm

Source: https://docs.solidjs.com/solid-meta/getting-started/installation-and-setup

Installs the Solid Meta library using pnpm. This command is used to add the meta tag management library to your project via the pnpm package manager.

```bash
pnpm i @solidjs/meta
```

--------------------------------

### Client-Side Data Fetching with createResource in SolidJS

Source: https://docs.solidjs.com/solid-start/guides/data-fetching

This snippet demonstrates fetching data on the client-side using SolidJS's `createResource`. It fetches a list of posts from a given API endpoint and displays them. The implementation includes Suspense for loading states and ErrorBoundary for error handling. It is suitable for scenarios where data fetching should not occur during server-side rendering.

```typescript
// src/routes/index.tsx
import { createResource, ErrorBoundary, Suspense, For } from "solid-js";


export default function Page() {
  const [posts] = createResource(async () => {
    const posts = await fetch("https://my-api.com/posts");
    return await posts.json();
  });
  return (
    <ul>
      <ErrorBoundary fallback={<div>Something went wrong!</div>}>
        <Suspense fallback={<div>Loading...</div>}>
          <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
        </Suspense>
      </ErrorBoundary>
    </ul>
  );
}

```

```javascript
// src/routes/index.jsx
import { createResource, ErrorBoundary, Suspense, For } from "solid-js";


export default function Page() {
  const [posts] = createResource(async () => {
    const posts = await fetch("https://my-api.com/posts");
    return await posts.json();
  });
  return (
    <ul>
      <ErrorBoundary fallback={<div>Something went wrong!</div>}>
        <Suspense fallback={<div>Loading...</div>}>
          <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
        </Suspense>
      </ErrorBoundary>
    </ul>
  );
}

```

--------------------------------

### Install Tailwind CSS (deno)

Source: https://docs.solidjs.com/guides/styling-components/tailwind

Installs Tailwind CSS and its necessary PostCSS plugins as development dependencies using deno.

```bash
deno add npm:tailwindcss @tailwindcss/postcss postcss -D
```

--------------------------------

### Install SASS with bun

Source: https://docs.solidjs.com/guides/styling-components/sass

Installs SASS as a development dependency using bun. This command is specific to the bun runtime and package manager.

```bash
bun i sass -d

```

--------------------------------

### Solid Meta Link Component: Emoji Favicon Usage

Source: https://docs.solidjs.com/solid-meta/reference/meta/link

This example shows how to use the emojiSvg function to set an emoji as a favicon. The generated data URI is passed to the href property of the Link component within a MetaProvider, allowing for dynamic favicon setup.

```jsx
import { MetaProvider, Link } from "@solidjs/meta";


export default function Root() {
  return (
    <MetaProvider>
      <Link rel="icon" href={emojiSvg("ðŸ˜Ž")} />
    </MetaProvider>
  );
}
```

--------------------------------

### Trigger SolidJS Action Programmatically (TypeScript)

Source: https://docs.solidjs.com/solid-start/guides/data-mutation

Demonstrates how to programmatically trigger an action in SolidJS using TypeScript. It imports `useAction` from `@solidjs/router`, defines an asynchronous `addPost` action that performs a POST request, and uses `useAction` to get a function for triggering the action from a button click event.

```typescript
// src/routes/index.tsx
import { createSignal } from "solid-js";
import { action, useAction } from "@solidjs/router";


const addPost = action(async (title: string) => {
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  const [title, setTitle] = createSignal("");
  const addPostAction = useAction(addPost);
  return (
    <div>
      <input value={title()} onInput={(e) => setTitle(e.target.value)} />
      <button onClick={() => addPostAction(title())}>Add Post</button>
    </div>
  );
}
```

--------------------------------

### Install Zerops CLI globally with yarn

Source: https://docs.solidjs.com/guides/deployment-options/zerops

Installs the Zerops CLI (zCLI) globally using yarn, making the `zcli` command available system-wide.

```bash
yarn add @zerops/zcli -g
```

--------------------------------

### Styling Components with Tailwind Utility Classes

Source: https://docs.solidjs.com/guides/styling-components/tailwind-v3

Demonstrates replacing traditional CSS files with Tailwind CSS utility classes directly within your SolidJS component's JSX. This example shows styling a card element for centering and appearance.

```jsx
/* src/components/Card.jsx */
function Card() {
  return (
    <div class="grid place-items-center min-h-screen">
      <div class="h-[160px] aspect aspect-[2] rounded-[16px] shadow-[0_0_0_4px_hsl(0_0%_0%_/_15%)]">
        Hello, world!
      </div>
    </div>
  );
}
```

--------------------------------

### Solid Meta Link Component: Favicon Setup

Source: https://docs.solidjs.com/solid-meta/reference/meta/link

This snippet demonstrates setting up a favicon using the Link component within a MetaProvider. It ensures that the link tag is correctly rendered in the head of the document for an application.

```jsx
import { MetaProvider, Link } from "@solidjs/meta";


export default function Root() {
  return (
    <MetaProvider>
      <Link rel="icon" href="/favicon.ico" />
    </MetaProvider>
  );
}
```

--------------------------------

### Install Tailwind CSS (bun)

Source: https://docs.solidjs.com/guides/styling-components/tailwind

Installs Tailwind CSS and its necessary PostCSS plugins as development dependencies using bun.

```bash
bun i tailwindcss @tailwindcss/postcss postcss -d
```

--------------------------------

### Create Solid Project using npm, pnpm, yarn, bun, or deno

Source: https://docs.solidjs.com/quick-start

Command to create a new SolidJS project using the 'create-solid' scaffolding tool. This tool prompts the user for project name, template, and TypeScript support. It supports multiple package managers.

```bash
npm init solid
```

```bash
pnpm create solid
```

```bash
yarn create solid
```

```bash
bun create solid
```

```bash
deno init --npm solid
```

--------------------------------

### SolidJS createRoot Returning Values Example

Source: https://docs.solidjs.com/reference/reactive-utilities/create-root

Illustrates how `createRoot` can be used to return values and functions, including the `dispose` function itself. This example demonstrates creating a counter that logs a message upon disposal using `onCleanup`.

```javascript
import { createRoot, createSignal, onCleanup } from "solid-js";


const counter = createRoot((dispose) => {
  const [count, setCount] = createSignal(0);


  onCleanup(() => {
    console.log("Dispose was called!");
  });


  return {
    value: count,
    increment: () => setCount((c) => c + 1),
    dispose,
  };
});


console.log(counter.value()); // 0
counter.increment();
console.log(counter.value()); // 1
counter.dispose(); // Logs "Dispose was called!"
```

--------------------------------

### Install Solid Router with pnpm

Source: https://docs.solidjs.com/solid-router/getting-started/installation-and-setup

Install the Solid Router package using pnpm, a fast and efficient package manager. This command is suitable for projects managed with pnpm.

```bash
pnpm i @solidjs/router
```

--------------------------------

### Fetcher Function Signature and Usage Example

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

Defines the signature and provides an example of the asynchronous fetcher function used with createResource. The fetcher receives the source value and an info object containing the previous value and refetching status. It demonstrates calling `createResource` with a fetcher and how to read the data.

```javascript
async function fetchData(source, { value, refetching }) {
  // Fetch the data and return a value.
  //`source` tells you the current value of the source signal;
  //`value` tells you the last returned value of the fetcher;
  //`refetching` is true when the fetcher is triggered by calling `refetch()`,
  // or equal to the optional data passed: `refetch(info)`
}


const [data, { mutate, refetch }] = createResource(getQuery, fetchData)


// read value
data()


// check if loading
data.loading


// check if errored
data.error


// directly set value without creating promise
mutate(optimisticValue)


// refetch the last request explicitly
refetch()
```

--------------------------------

### Integrating useParams with createResource for Data Fetching

Source: https://docs.solidjs.com/guides/routing-and-navigation

Shows a practical example of using `useParams` in conjunction with `createResource` in SolidJS. This pattern enables dynamic data fetching based on route parameters, automatically re-fetching data when the parameter changes.

```javascript
import { createResource } from "solid-js";
import { useParams } from "@solidjs/router";


async function fetchUser(id) {
  const response = await fetch(
    `https://jsonplaceholder.typicode.com/users/${id}`
  );
  return response.json();
}


const User = () => {
  const params = useParams();
  const [data] = createResource(() => params.id, fetchUser); // Pass the id parameter to createResource


  return (
    <div>
      <Show when={!data.loading} fallback={<p>Loading...</p>}>
        <div>
          <p>Name: {data().name}</p>
          <p>Email: {data().email}</p>
          <p>Phone: {data().phone}</p>
        </div>
      </Show>
    </div>
  );
};
```

--------------------------------

### Configure Vite per Router in SolidStart

Source: https://docs.solidjs.com/solid-start/reference/config/define-config

This example shows how to configure Vite options dynamically based on the router type ('server', 'client', or 'server-function') using a function within defineConfig.

```typescript
import { defineConfig } from "@solidjs/start/config";


export default defineConfig({
  vite({ router }) {
    if (router === "server") {
    } else if (router === "client") {
    } else if (router === "server-function") {
    }
    return { plugins: [] };
  },
});
```

--------------------------------

### Install SASS with yarn

Source: https://docs.solidjs.com/guides/styling-components/sass

Installs SASS as a development dependency using yarn. This command is specific to the yarn package manager.

```bash
yarn add sass -D

```

--------------------------------

### Install SASS with pnpm

Source: https://docs.solidjs.com/guides/styling-components/sass

Installs SASS as a development dependency using pnpm. This command is specific to the pnpm package manager.

```bash
pnpm i sass -D

```

--------------------------------

### Pass Additional Arguments to SolidStart Actions

Source: https://docs.solidjs.com/solid-start/guides/data-mutation

Illustrates how to pass additional arguments to SolidStart actions using the 'with' method. This allows for more dynamic actions by providing context like user IDs along with form data.

```typescript
// src/routes/index.tsx
import { action } from "@solidjs/router";


const addPost = action(async (userId: number, formData: FormData) => {
  const title = formData.get("title") as string;
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ userId, title }),
  });
}, "addPost");


export default function Page() {
  const userId = 1;
  return (
    <form action={addPost.with(userId)} method="post">
      <input name="title" />
      <button>Add Post</button>
    </form>
  );
}

```

```javascript
// src/routes/index.jsx
import { action } from "@solidjs/router";


const addPost = action(async (userId, formData) => {
  const title = formData.get("title");
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ userId, title }),
  });
}, "addPost");


export default function Page() {
  const userId = 1;
  return (
    <form action={addPost.with(userId)} method="post">
      <input name="title" />
      <button>Add Post</button>
    </form>
  );
}

```

--------------------------------

### SolidJS Suspense Component Usage Example

Source: https://docs.solidjs.com/reference/components/suspense

An example demonstrating how to use the SolidJS Suspense component to display a loading spinner while an asynchronous component loads its data.

```jsx
<Suspense fallback={<LoadingSpinner />}>
  <AsyncComponent /> 
</Suspense>
```

--------------------------------

### Install SASS with npm

Source: https://docs.solidjs.com/guides/styling-components/sass

Installs SASS as a development dependency using npm. This is a common step for projects utilizing CSS preprocessors.

```bash
npm i sass -D

```

--------------------------------

### Example: Preloading Data for a Route - SolidJS Router

Source: https://docs.solidjs.com/solid-router/reference/preload-functions/preload

This example demonstrates how to use the 'preload' function in Solid Router to fetch data before navigating to a product page. It defines a query function, an asynchronous component that consumes the data, a preload function to initiate the fetch, and the route definition.

```javascript
import { Route, query, createAsync } from "@solidjs/router";


const getProductQuery = query(async (id: string) => {
  // ... Fetches a product from the server.
}, "product");


function ProductPage(props) {
  const product = createAsync(() => getProductQuery(props.params.id));


  return <div>{product()?.title}</div>;
}


function preloadData({ params }) {
  getProductQuery(params.id);
}


function ProductRoutes() {
  return (
    <Route path="/products/:id" component={ProductPage} preload={preloadData} />
  );
}
```

--------------------------------

### Install Tailwind CSS (npm)

Source: https://docs.solidjs.com/guides/styling-components/tailwind

Installs Tailwind CSS and its necessary PostCSS plugins as development dependencies using npm.

```bash
npm i tailwindcss @tailwindcss/postcss postcss -D
```

--------------------------------

### SolidJS SuspenseList Usage Example

Source: https://docs.solidjs.com/reference/components/suspense-list

An example demonstrating the practical application of the SuspenseList component in SolidJS. It illustrates how to wrap multiple Suspense components with different fallback content, using 'forwards' reveal order and 'collapsed' tail behavior.

```jsx
<SuspenseList revealOrder="forwards" tail="collapsed">
  <ProfileDetails user={resource.user} />
  <Suspense fallback={<h2>Loading posts...</h2>}>
    <ProfileTimeline posts={resource.posts} />
  </Suspense>
  <Suspense fallback={<h2>Loading fun facts...</h2>}>
    <ProfileTrivia trivia={resource.trivia} />
  </Suspense>
</SuspenseList>
```

--------------------------------

### Install Tailwind CSS (yarn)

Source: https://docs.solidjs.com/guides/styling-components/tailwind

Installs Tailwind CSS and its necessary PostCSS plugins as development dependencies using yarn.

```bash
yarn add tailwindcss @tailwindcss/postcss postcss -D
```

--------------------------------

### Solid Router Action: Form Submission Example

Source: https://docs.solidjs.com/solid-router/reference/data-apis/action

Illustrates how to use the 'action' function with an HTML form for handling submissions. The example shows defining an action, associating it with a form's 'action' attribute, and the expected structure for the input element.

```javascript
import { action } from "@solidjs/router";


const addTodoAction = action(async (formData: FormData) => {
  // Adds a new todo to the server.
}, "addTodo");


function TodoForm() {
  return (
    <form action={addTodoAction} method="post">
      <input name="name" />
      <button>Add todo</button>
    </form>
  );
}
```

--------------------------------

### Install LESS CSS Preprocessor

Source: https://docs.solidjs.com/guides/styling-components/less

Installs LESS as a development dependency for your SolidJS project. This step is necessary to enable LESS compilation.

```npm
npm i less -D
```

```pnpm
pnpm i less -D
```

```yarn
yarn add less -D
```

```bun
bun i less -d
```

```deno
deno add npm:less -D
```

--------------------------------

### Install Tailwind CSS (pnpm)

Source: https://docs.solidjs.com/guides/styling-components/tailwind

Installs Tailwind CSS and its necessary PostCSS plugins as development dependencies using pnpm.

```bash
pnpm i tailwindcss @tailwindcss/postcss postcss -D
```

--------------------------------

### Setting Up Dynamic Routes with SolidJS Router

Source: https://docs.solidjs.com/guides/routing-and-navigation

Demonstrates how to configure dynamic routes in SolidJS using the @solidjs/router. It shows how to define routes with parameters like '/users/:id' and render components based on these dynamic paths.

```javascript
import { lazy } from "solid-js";
import { render } from "solid-js/web";
import { Router, Route } from "@solidjs/router";


const Users = lazy(() => import("./pages/Users"));
const User = lazy(() => import("./pages/User"));
const Home = lazy(() => import("./pages/Home"));


render(
  () => (
    <Router>
      <Route path="/users" component={Users} />
      <Route path="/users/:id" component={User} />
      <Route path="/" component={Home} />
    </Router>
  ),
  document.getElementById("root")
);
```

--------------------------------

### Create Redirect Responses using redirect Helper in SolidStart

Source: https://docs.solidjs.com/solid-start/advanced/middleware

Demonstrates how to use the `redirect` function from `@solidjs/router` within SolidStart middleware to easily create HTTP redirect responses. This example shows permanent redirects (301) for legacy routes.

```javascript
import { createMiddleware } from "@solidjs/start/middleware"
import { redirect } from "@solidjs/router"


const REDIRECT_MAP: Record<string, string> = {
  "/signup": "/auth/signup",
  "/login": "/auth/login",
};


export default createMiddleware({
  onRequest: (event) => {
    const { pathname } = new URL(event.request.url);


    // Redirecting legacy routes permanently to new paths
    if (pathname in REDIRECT_MAP) {
      return redirect(REDIRECT_MAP[pathname], 301);
    }
  },
});
```

--------------------------------

### Preload Data with Solid Router

Source: https://docs.solidjs.com/solid-router/data-fetching/how-to/preload-data

This example demonstrates how to preload data for a Solid Router route. It defines a query function, a component that uses `createAsync` to fetch data, a `preload` function that executes the query, and a `Route` configuration that ties them together. Hovering over a link to this route will trigger the `preloadProduct` function, making the data available immediately when the `ProductDetails` component renders.

```typescript
import { Show } from "solid-js";
import { Route, query, createAsync } from "@solidjs/router";


const getProductQuery = query(async (id: string) => {
  // ... Fetches product details for the given ID.
}, "product");


function ProductDetails(props) {
  const product = createAsync(() => getProductQuery(props.params.id));


  return (
    <Show when={product()}>
      <h1>{product().name}</h1>
    </Show>
  );
}


function preloadProduct({ params }: { params: { id: string } }) {
  getProductQuery(params.id);
}


function Routes() {
  return (
    <Route
      path="/products/:id"
      component={ProductDetails}
      preload={preloadProduct}
    />
  );
}

```

--------------------------------

### SolidJS createMemo and createEffect Lifecycle Management

Source: https://docs.solidjs.com/advanced-concepts/fine-grained-reactivity

Illustrates lifecycle management in a reactive system using createMemo and createEffect. This example demonstrates how createMemo caches computations and how conditional logic within a memo affects which dependencies are tracked, preventing unnecessary re-renders.

```jsx
//.. (assuming createSignal, createEffect are defined above)
// Assume createMemo is a similar primitive to createEffect but caches results

// Temperature.jsx
console.log("1. Initialize");
const [temperature, setTemperature] = createSignal(72);
const [unit, setUnit] = createSignal("Fahrenheit");
const [displayTemp, setDisplayTemp] = createSignal(true);

// Mock createMemo for demonstration purposes
function createMemo(fn) {
    let currentValue = fn();
    let dirty = true;
    const effectFn = () => {
        const newValue = fn();
        if (newValue !== currentValue) {
            currentValue = newValue;
            dirty = true;
        }
    };
    const getter = () => {
        if (dirty) {
            // In a real implementation, this would re-run fn and track dependencies
            // For this mock, we assume fn is re-evaluated when needed
            currentValue = fn();
            dirty = false;
        }
        return currentValue;
    };
    // In a real system, createMemo would also register itself as an effect/subscriber
    // For simplicity, we are focusing on the output and interaction logic here.
    return getter;
}


const displayTemperature = createMemo(() => {
  if (!displayTemp()) return "Temperature display is off";
  return `${temperature()} degrees ${unit()}`;
});


createEffect(() => console.log("Current temperature is", displayTemperature()));


console.log("2. Turn off displayTemp");
setDisplayTemp(false);


console.log("3. Change unit");
setUnit("Celsius");


console.log("4. Turn on displayTemp");
setDisplayTemp(true);
```

--------------------------------

### Configure SolidStart Middleware with createMiddleware

Source: https://docs.solidjs.com/solid-start/advanced/middleware

Demonstrates how to set up middleware in SolidStart using the createMiddleware function. It shows how to hook into request lifecycle events like 'onRequest' to log request details and store data, and 'onBeforeResponse' to log processing time. This requires the '@solidjs/start/middleware' package.

```typescript
import { createMiddleware } from "@solidjs/start/middleware";


export default createMiddleware({
  onRequest: (event) => {
    console.log("Request received:", event.request.url);


    event.locals.startTime = Date.now();
  },
  onBeforeResponse: (event) => {
    const endTime = Date.now();
    const duration = endTime - event.locals.startTime;
    console.log(`Request took ${duration}ms`);
  },
});

```

--------------------------------

### Install Railway CLI with npm, pnpm, yarn, bun, or deno

Source: https://docs.solidjs.com/guides/deployment-options/railway

Instructions for installing the Railway command-line interface (CLI) globally using various package managers. This CLI is essential for managing and deploying projects to Railway from your local development environment.

```bash
npm i @railway/cli -g
```

```bash
pnpm i @railway/cli -g
```

```bash
yarn add @railway/cli -g
```

```bash
bun i @railway/cli -g
```

```bash
deno add npm:@railway/cli -g
```

--------------------------------

### SCSS Stylesheet Example

Source: https://docs.solidjs.com/guides/styling-components/sass

An example of an SCSS file defining styles for a card component. SCSS is a superset of CSS and offers features like nesting.

```scss
// Card.scss
.grid {
  display: grid;
  &-center {
    place-items: center;
  }
}
.screen {
  min-height: 100vh;
}
.card {
  height: 160px;
  aspect-ratio: 2;
  border-radius: 16px;
  background-color: white;
  box-shadow: 0 0 0 4px hsl(0 0% 0% / 15%);
}

```

--------------------------------

### Install Solid Router with yarn

Source: https://docs.solidjs.com/solid-router/getting-started/installation-and-setup

Install the Solid Router package using yarn, another popular package manager for JavaScript projects. This command is used in yarn-managed projects.

```bash
yarn add @solidjs/router
```

--------------------------------

### Install TypeScript with Package Managers

Source: https://docs.solidjs.com/configuration/typescript

Commands to install TypeScript as a development dependency across various package managers like npm, pnpm, yarn, bun, and deno.

```bash
npm i typescript -D
```

```bash
pnpm i typescript -D
```

```bash
yarn add typescript -D
```

```bash
bun i typescript -d
```

```bash
deno add npm:typescript -D
```

--------------------------------

### SolidJS Counter Component Example

Source: https://docs.solidjs.com/solid-meta

A basic SolidJS component demonstrating the use of createSignal for managing state. This example shows how to create a mutable signal and update its value in response to a button click. It's a fundamental pattern for building interactive UIs in SolidJS.

```jsx
import { createSignal } from "solid-js";

function Counter() {
	const [count, setCount] = createSignal(0);

	return (
		<button
		  onClick={() => setCount((n) => n + 1)}
		>
		  Count: {count()}
		</button>
	);
}
```

--------------------------------

### SolidJS hydrate Usage Example

Source: https://docs.solidjs.com/reference/rendering/hydrate

An example demonstrating how to use the `hydrate` function to rehydrate a SolidJS application. It mounts the application to a specified DOM element.

```typescript
const dispose = hydrate(App, document.getElementById("app"))
```

--------------------------------

### Add Fallback Content for Client-Only Component (JavaScript)

Source: https://docs.solidjs.com/solid-start/reference/client/client-only

This example illustrates how to provide fallback content for a client-only component using the `fallback` prop. This content is displayed while the client-only component is being loaded and rendered on the client side.

```javascript
<ClientOnlyComp fallback={<div>Loading...</div>} />
```

--------------------------------

### Install Firebase CLI Tool (npm, pnpm, yarn, bun, deno)

Source: https://docs.solidjs.com/guides/deployment-options/firebase

Commands to install the Firebase command-line interface globally across different package managers. This tool is essential for managing Firebase projects and deploying applications.

```npm
npm i firebase-tools -g
```

```pnpm
pnpm i firebase-tools -g
```

```yarn
yarn add firebase-tools -g
```

```bun
bun i firebase-tools -g
```

```deno
deno add npm:firebase-tools -g
```

--------------------------------

### SolidJS Task List Application Example

Source: https://docs.solidjs.com/guides/complex-state-management

A complete example of a SolidJS application demonstrating store management for a task list. It utilizes 'createStore', 'setState', 'createEffect', 'produce', and 'For' for reactive UI updates, adding tasks, toggling completion status, and displaying the task count.

```javascript
import { For, createEffect, Show } from "solid-js"
import { createStore, produce } from "solid-js/store"


const App = () => {
  let input // lets you target the input value
  const [state, setState] = createStore({
    tasks: [],
    numberOfTasks: 0,
  })


  const addTask = (text) => {
    setState("tasks", state.tasks.length, {
      id: state.tasks.length,
      text,
      completed: false,
    })
  }


  const toggleTask = (id) => {
    setState(
      "tasks",
      (task) => task.id === id,
      produce((task) => {
        task.completed = !task.completed
      })
    )
  }


  createEffect(() => {
    setState("numberOfTasks", state.tasks.length)
  })


  return (
    <>
      <div>
        <h1>My Task List for Today</h1>
        <span>You have {state.numberOfTasks} task(s) for today!</span>
      </div>
      <input ref={input} />
      <button
        onClick={(e) => {
          if (!input.value.trim()) return
          addTask(input.value)
          input.value = ""
        }}
      >
        Add Task
      </button>
      <For each={state.tasks}>
        {(task) => {
          const { id, text } = task
          return (
            <div>
              <input
                type="checkbox"
                checked={task.completed}
                onChange={() => toggleTask(task.id)}
              />
              <span>{text}</span>
            </div>
          )
        }}
      </For>
    </>
  )
}


export default App
```

--------------------------------

### Install SASS with deno

Source: https://docs.solidjs.com/guides/styling-components/sass

Installs SASS using Deno's package management by referencing the npm package. This is useful for Deno projects that need to use npm dependencies.

```bash
deno add npm:sass -D

```

--------------------------------

### Solid Router: Implementing Data Preload and Context

Source: https://docs.solidjs.com/solid-router/guides/migration

Demonstrates how to implement data preloading and context in Solid Router v0.10.0 by disabling router preloads and manually injecting data using Context. This pattern is useful for replicating the old data loading behavior.

```typescript
import { lazy } from "solid-js";
import { Router, Route } from "@solidjs/router";


const User = lazy(() => import("./pages/users/[id].js"));


// preload function
function preloadUser({ params, location }) {
  const [user] = createResource(() => params.id, fetchUser);
  return user;
}


// Pass it in the route definition
<Router preload={false}>
  <Route path="/users/:id" component={User} preload={preloadUser} />
</Router>
```

```typescript
import { createContext, useContext } from "solid-js";


const UserContext = createContext();


function User(props) {
  <UserContext.Provider value={props.data()}>
    {/* my component content that includes <UserDetails /> in any depth  */}
  </UserContext.Provider>;
}


function UserDetails() {
  const user = useContext(UserContext);
  // render stuff
}
```

--------------------------------

### Implement a GET API Route to Fetch Products in SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

This SolidStart API route demonstrates how to handle a GET request, extract dynamic route parameters (category and brand), fetch products using a store, and return them as JSON. It utilizes the APIEvent object for accessing parameters.

```typescript
import type { APIEvent } from "@solidjs/start/server";
import store from "./store";


export async function GET({ params }: APIEvent) {
  console.log(`Category: ${params.category}, Brand: ${params.brand}`);
  const products = await store.getProducts(params.category, params.brand);
  return products;
}
```

--------------------------------

### Handle 404 for Unmatched Routes with HttpStatusCode

Source: https://docs.solidjs.com/solid-start/reference/server/http-status-code

This example demonstrates setting a 404 status code for unmatched routes using the HttpStatusCode component within a SolidJS NotFound page. It integrates with SolidJS control-flow components like Show and Switch.

```tsx
import { HttpStatusCode } from "@solidjs/start";


export default function NotFound() {
  return (
    <div>
      <HttpStatusCode code={404} />
      <h1>Page not found</h1>
    </div>
  );
}
```

--------------------------------

### Configure Cloudflare Module Preset with Rollup for SolidStart

Source: https://docs.solidjs.com/solid-start/reference/config/define-config

This example shows how to configure SolidStart for the 'cloudflare_module' Nitro preset, including necessary rollupConfig options for async local storage compatibility.

```typescript
import { defineConfig } from "@solidjs/start/config";


export default defineConfig({
  server: {
    preset: "cloudflare_module",
    rollupConfig: {
      external: ["__STATIC_CONTENT_MANIFEST", "node:async_hooks"],
    },
  },
});
```

--------------------------------

### SolidJS Native Event Example

Source: https://docs.solidjs.com/concepts/components/event-handlers

Illustrates the use of a native event listener in SolidJS, which is recommended for infrequently occurring events. This syntax uses the 'on:' prefix for native events.

```jsx
<div on:mousemove={handleCustomEvent} />
```

--------------------------------

### Building a Basic Signal Primitive

Source: https://docs.solidjs.com/advanced-concepts/fine-grained-reactivity

Provides a foundational implementation of a `createSignal` function. This example demonstrates the core logic of initializing a value and returning getter and setter functions, laying the groundwork for understanding Solid's reactivity.

```javascript
function createSignal(initialValue) {
  let value = initialValue;


  function getter() {
    return value;
  }


  function setter(newValue) {
    value = newValue;
  }


  return [getter, setter];
}


// ..


const [count, setCount] = createSignal(0);
```

--------------------------------

### Catch-all Routes with SolidStart and useParams

Source: https://docs.solidjs.com/solid-start/building-your-application/routing

Details the implementation of catch-all routes using `[...paramName]` syntax, which matches any number of segments. It also shows how to access the matched segments as a single string parameter using `useParams`.

```file-structure
|-- routes/
    |-- blog/
        |-- index.tsx
        |-- [...post].tsx
```

```typescript
import { useParams } from "@solidjs/router";


export default function BlogPage() {
  const params = useParams();
  return <div>Blog {params.post}</div>;
}
```

--------------------------------

### Display Fetched Data in a SolidJS Component using createAsync

Source: https://docs.solidjs.com/guides/routing-and-navigation

Provides an example of a SolidJS component that uses `createAsync` to handle asynchronous data fetching initiated by a preload function. It displays the fetched user data, which is expected to be available via a signal.

```javascript
// [id].jsx
import { createAsync } from "@solidjs/router";
import { getUser } from "./[id].data";


export default function Users(props) {
  console.log("Users.props", props);
  const user = createAsync(() => getUser(props.params.id));
  return (
    <>
      <h1>User</h1>
      <div>
        <pre>{JSON.stringify(user(), null, 2)}</pre>
      </div>
    </>
  );
}
```

--------------------------------

### SolidJS Counter Component Example

Source: https://docs.solidjs.com/guides/state-management

A basic SolidJS component demonstrating state management with signals. It includes a signal for the count, an increment action, and renders the current count in the UI. This example illustrates the fundamental pattern of state, view, and actions in SolidJS.

```javascript
import { createSignal } from "solid-js";


function Counter() {
  const [count, setCount] = createSignal(0);


  const increment = () => {
    setCount((prev) => prev + 1);
  };


  return (
    <>
      <div>Current count: {count()}</div>
      <button onClick={increment}>Increment</button>
    </>
  );
}

```

--------------------------------

### StartServer API

Source: https://docs.solidjs.com/solid-start/reference/server/start-server

The StartServer function is used to convert a document component into a static document for server bootstrapping.

```APIDOC
## StartServer API

### Description
`StartServer` takes a function returning a document component and converts it to a static document which can be used in `createHandler` to bootstrap the server.

### Method
Import

### Endpoint
N/A

### Parameters
#### Request Body
- **document** (Function) - Required - A function that returns the static document for your application.

### Request Example
```javascript
import { StartServer } from "@solidjs/start/server";

// Example usage (conceptual)
const staticDocument = StartServer(() => <YourDocumentComponent />);
```

### Response
#### Success Response (200)
- **staticDocument** (Object) - The static document generated by StartServer.

#### Response Example
```json
{
  "//": "This is a conceptual representation, the actual output is a static document object."
}
```
```

--------------------------------

### Consolidate HTTP Methods in a Single Handler for API Routes

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

This example shows how to create a single handler function and then export it as handlers for multiple HTTP methods. This approach is useful for reducing code duplication when the logic for different methods is similar or identical.

```typescript
async function handler() {
  // ...
}

export const GET = handler;
export const POST = handler;
// ...
```

--------------------------------

### Benchmark List Rendering with Vitest in SolidJS

Source: https://docs.solidjs.com/guides/testing

Benchmarks the performance of SolidJS's For and List components using Vitest's experimental `bench` function. This example measures the time taken to render 1000 items and uses Promises to resolve when all items are mounted. It's useful for identifying performance regressions.

```javascript
describe('list rendering', () => {
  const ITEMS = 1000
  const renderedFor = new Set()
  const listFor = Array.from({ length: ITEMS }, (_, i) => i)
  bench('For', () => new Promise((resolve) => {
    const ItemFor = (props) => {
      onMount(() => {
        renderedFor.add(props.number)
        if (renderedFor.size === ITEMS) {
          resolve()
        }
      })
      return <span>{props.number}</span>
    }
    render(() => <For each={listFor}>
      {(item) => <ItemFor number={item} />}
    </For>)
  }))


  const renderedList = new Set()
  const listList = Array.from({ length: ITEMS }, (_, i) => i)
  bench('List', () => new Promise((resolve) => {
    const ItemList = (props) => {
      onMount(() => {
        renderedList.add(props.number)
        if (renderedList.size === ITEMS) {
          resolve()
        }
      })
      return <span>{props.number}</span>
    }
    render(() => <List each={listList}>
      {(item) => <ItemList number={item} />}
    </List>)
  }))
})
```

--------------------------------

### Initialize SolidStart Server

Source: https://docs.solidjs.com/solid-start/reference/server/start-server

The StartServer function is used to initialize the SolidStart server. It takes a function that returns a document component and converts it into a static document. This static document is then used by createHandler to bootstrap the server.

```typescript
import { StartServer } from "@solidjs/start/server";
```

--------------------------------

### Install Wrangler CLI with Various Package Managers

Source: https://docs.solidjs.com/guides/deployment-options/cloudflare

Installs the Wrangler command-line tool globally using different package managers like npm, pnpm, yarn, bun, and deno. Wrangler is used for building and deploying Cloudflare Workers and Pages.

```npm
npm i wrangler -g
```

```pnpm
pnpm i wrangler -g
```

```yarn
yarn add wrangler -g
```

```bun
bun i wrangler -g
```

```deno
deno add npm:wrangler -g
```

--------------------------------

### SolidJS Index Component Usage Example

Source: https://docs.solidjs.com/reference/components/index-component

Demonstrates how to use the SolidJS Index component to render a list of items. The 'each' prop is bound to a state list, and a 'fallback' is provided. The children function renders each item.

```jsx
<Index each={state.list} fallback={<div>Loading...</div>}>
  {(item) => <div>{item()}</div>}
</Index>

```

--------------------------------

### Create a Basic Styled Button Component in Solid

Source: https://docs.solidjs.com/guides/styling-components/macaron

Demonstrates how to create a basic styled button component using Macaron CSS within a SolidJS application. This involves importing `styled` and defining the component.

```typescript
// button.tsx
import { styled } from "@macaron-css/solid";


const Button = styled("button", {});
```

--------------------------------

### SolidJS Store Setter Examples

Source: https://docs.solidjs.com/reference/store-utilities/create-store

Shows two ways to use the SolidJS store setter: directly providing a new state object for shallow merging, and providing a function that receives the previous state and returns the new state. Deleting properties is done by setting them to undefined.

```javascript
const [state, setState] = createStore({
  firstName: "John",
  lastName: "Miller",
});


setState({ firstName: "Johnny", middleName: "Lee" });
// ({ firstName: 'Johnny', middleName: 'Lee', lastName: 'Miller' })


setState((state) => ({ preferredName: state.firstName, lastName: "Milner" }));
// ({ firstName: 'Johnny', preferredName: 'Johnny', middleName: 'Lee', lastName: 'Milner' })

```

--------------------------------

### Use Server Functions with Databases in Solid.js

Source: https://docs.solidjs.com/solid-start/guides/data-fetching

Securely interact with databases or ORMs within queries by using server functions, marked with `'use server';`. This pattern ensures database operations are performed on the server. The `preload` function can fetch data, and the component renders it using `createAsync` and `For`. Dependencies include `@solidjs/router`, `solid-js`, and a database client (e.g., `~/lib/db`).

```typescript
// src/routes/index.tsx
import { For, ErrorBoundary } from "solid-js";
import { query, createAsync, type RouteDefinition } from "@solidjs/router";
import { db } from "~/lib/db";


const getPosts = query(async () => {
  "use server";
  return await db.from("posts").select();
}, "posts");


export const route = {
  preload: () => getPosts(),
} satisfies RouteDefinition;


export default function Page() {
  const posts = createAsync(() => getPosts());
  return (
    <ul>
      <ErrorBoundary fallback={<div>Something went wrong!</div>}>
        <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
      </ErrorBoundary>
    </ul>
  );
}

```

```javascript
// src/routes/index.jsx
import { For, ErrorBoundary } from "solid-js";
import { query, createAsync } from "@solidjs/router";
import { db } from "~/lib/db";


const getPosts = query(async () => {
  "use server";
  return await db.from("posts").select();
}, "posts");


export const route = {
  preload: () => getPosts(),
};


export default function Page() {
  const posts = createAsync(() => getPosts());
  return (
    <ul>
      <ErrorBoundary fallback={<div>Something went wrong!</div>}>
        <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
      </ErrorBoundary>
    </ul>
  );
}

```

--------------------------------

### SolidJS `createStore` API

Source: https://docs.solidjs.com/reference/store-utilities/create-store

This section details the `createStore` function from SolidJS, which is used for creating reactive stores to manage application state. It covers the type signature and provides an example of its usage for initializing a store.

```APIDOC
## `createStore`

### Description
Creates a reactive store for managing state, capable of handling objects, arrays, and other data types.

### Method
`createStore<T extends StoreNode>(state: T | Store<T>): [get: Store<T>, set: SetStoreFunction<T>]`

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
- **state** (T | Store<T>) - Required - The initial state for the store. Can be a plain object/array or a SolidJS Store object.

### Request Example
```javascript
import { createStore } from "solid-js/store";

const [store, setStore] = createStore({
  userCount: 3,
  users: [
    {
      id: 0,
      username: "felix909",
      location: "England",
      loggedIn: false,
    },
    {
      id: 1,
      username: "tracy634",
      location: "Canada",
      loggedIn: true,
    },
    {
      id: 1,
      username: "johny123",
      location: "India",
      loggedIn: true,
    },
  ],
});
```

### Response
#### Success Response (200)
- **store** (Store<T>) - A readonly accessor to the current store state.
- **setStore** (SetStoreFunction<T>) - A function to update the store state.

#### Response Example
```json
{
  "userCount": 3,
  "users": [
    {
      "id": 0,
      "username": "felix909",
      "location": "England",
      "loggedIn": false
    },
    {
      "id": 1,
      "username": "tracy634",
      "location": "Canada",
      "loggedIn": true
    },
    {
      "id": 1,
      "username": "johny123",
      "location": "India",
      "loggedIn": true
    }
  ]
}
```
```

--------------------------------

### Install Vitest Test Coverage Package

Source: https://docs.solidjs.com/guides/testing

Installs the Vitest test coverage package, specifically `@vitest/coverage-v8`, as a development dependency. This package is required to enable code coverage collection within Vitest projects.

```bash
npm i @vitest/coverage-v8 -D
```

```bash
pnpm i @vitest/coverage-v8 -D
```

```bash
yarn add @vitest/coverage-v8 -D
```

```bash
bun i @vitest/coverage-v8 -d
```

```bash
deno add npm:@vitest/coverage-v8 -D
```

--------------------------------

### Install UnoCSS Vite Plugin with Package Managers

Source: https://docs.solidjs.com/guides/styling-components/uno

Commands to install the UnoCSS Vite plugin using different package managers like npm, pnpm, yarn, bun, and deno. This is the first step to integrate UnoCSS into your SolidJS project.

```npm
npm i unocss -D
```

```pnpm
pnpm i unocss -D
```

```yarn
yarn add unocss -D
```

```bun
bun i unocss -d
```

```deno
deno add npm:unocss -D
```

--------------------------------

### Server Setup with MetaProvider in Solid.js

Source: https://docs.solidjs.com/solid-meta/getting-started/server-setup

This snippet demonstrates how to wrap your Solid.js application with MetaProvider on the server. MetaProvider manages head tags by using a `tags[]` array to pass them down as part of the server-rendered payload. The `getAssets()` function is used to include these tags in the HTML head.

```typescript
import { renderToString, getAssets } from "solid-js/web";
import { MetaProvider } from "@solidjs/meta";
import App from "./App";


// ... within the context of a request ...
const app = renderToString(() => (
  <MetaProvider>
    <App />
  </MetaProvider>
));


res.send(`
  <!doctype html>
  <html>
    <head>
      ${getAssets()}
    </head>
    <body>
      <div id="root">${app}</div>
    </body>
  </html>
`);
```

--------------------------------

### Import Static Assets in SolidStart with Vite

Source: https://docs.solidjs.com/solid-start/building-your-application/static-assets

Illustrates how to import static assets directly into Solid components using Vite in a SolidStart project. Vite processes these imports by creating hashed filenames for cache-busting. This approach is useful for dynamic updates and optimizing asset delivery, though it results in unpredictable URLs.

```javascript
import logo from "./solid.png";


export default function About() {
  return (
    <>
      <h1>About</h1>
      <img src={logo} alt="Solid logo" />
      // Renders
      <img src="/assets/solid.2d8efhg.png" alt="Solid logo" />
    </>
  );
}
```

--------------------------------

### Create Catch-All Route (SolidJS)

Source: https://docs.solidjs.com/guides/routing-and-navigation

Demonstrates how to implement a catch-all route for handling 404 Not Found scenarios. Using `*` in the `path` captures the rest of the URL, which can optionally be assigned a parameter name.

```javascript
import { render } from "solid-js/web";
import { Router, Route } from "@solidjs/router";


import Home from "./pages/Home";
import Users from "./pages/Users";
import NotFound from "./pages/NotFound";


const App = (props) => (
  <>
    <h1>Site Title</h1>
    {props.children}
  </>
);


render(
  () => (
    <Router root={App}>
      <Route path="/" component={Home} />
      <Route path="/users" component={Users} />
      <Route path="*paramName" component={NotFound} />
    </Router>
  ),
  document.getElementById("root")
);
```

--------------------------------

### Basic TypeScript Component in SolidJS

Source: https://docs.solidjs.com/configuration/typescript

An example of a simple SolidJS component written in TypeScript, demonstrating basic component structure and JSX usage within a typed environment.

```tsx
import { type Component } from "solid-js";


const MyTsComponent: Component = () => {
  return (
    <div>
      <h1>This is a TypeScript component</h1>
    </div>
  );
}


export default MyTsComponent;
```

--------------------------------

### SolidJS: Example of UI Update with Multiple Individual Field Modifications

Source: https://docs.solidjs.com/reference/store-utilities/modify-mutable

This example demonstrates how modifying multiple fields of a mutable store individually can lead to multiple UI updates. It illustrates the problem that modifyMutable and batching aim to solve by showing a reactive UI element that updates on each state change.

```javascript
import { createMutable } from "solid-js/store"


const state = createMutable({
  user: {
    firstName: "John",
    lastName: "Smith",
  },
});


<h1>Hello {state.user.firstName + " " + state.user.lastName}</h1>;


// Modifying n fields in sequence will cause the UI to update n times:
state.user.firstName = "Jane";
state.user.lastName = "Doe";
```

--------------------------------

### Handle Form Submission with SolidStart Actions

Source: https://docs.solidjs.com/solid-start/guides/data-mutation

Demonstrates how to handle form submissions using SolidStart actions. It requires the action to have a unique name and be passed to the form via the 'action' prop, with the form method set to 'post'. The 'FormData' object is used to extract input values.

```typescript
// src/routes/index.tsx
import { action } from "@solidjs/router";


const addPost = action(async (formData: FormData) => {
  const title = formData.get("title") as string;
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  return (
    <form action={addPost} method="post">
      <input name="title" />
      <button>Add Post</button>
    </form>
  );
}

```

```javascript
// src/routes/index.jsx
import { action } from "@solidjs/router";


const addPost = action(async (formData) => {
  const title = formData.get("title");
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  return (
    <form action={addPost} method="post">
      <input name="title" />
      <button>Add Post</button>
    </form>
  );
}

```

--------------------------------

### Configure Vite for UnoCSS and SolidJS

Source: https://docs.solidjs.com/guides/styling-components/uno

Example of a `vite.config.js` file showing how to import and include the `unocssPlugin` alongside the `solidPlugin`. It's important to place `unocssPlugin` before `solidPlugin` to avoid potential issues.

```javascript
import {
  defineConfig
} from "vite";
import unocssPlugin from "unocss/vite";
import solidPlugin from "vite-plugin-solid";


export default defineConfig({
  plugins: [unocssPlugin(), solidPlugin()],
  server: {
    port: 3000,
  },
  build: {
    target: "esnext",
  },
});
```

--------------------------------

### SolidJS Conditional Rendering with Switch and Match (JSX)

Source: https://docs.solidjs.com/reference/components/switch-and-match

An example demonstrating the usage of SolidJS Switch and Match components for conditional rendering, simulating a basic routing mechanism based on a state variable.

```jsx
<Switch fallback={<div>Not Found</div>}>
  <Match when={state.route === "home"}>
    <Home />
  </Match>
  <Match when={state.route === "settings"}>
    <Settings />
  </Match>
</Switch>
```

--------------------------------

### Basic Usage of createRenderEffect - SolidJS

Source: https://docs.solidjs.com/reference/secondary-primitives/create-render-effect

This example demonstrates the basic usage of createRenderEffect. It logs the current count to the console whenever the count signal changes, and it runs immediately during the initial render.

```javascript
import { createSignal, createRenderEffect } from "solid-js";


function Counter() {
  const [count, setCount] = createSignal(0);


  // This runs immediately during render, and re-runs when the count changes.
  createRenderEffect(() => {
    console.log("Count: ", count());
  });


  return (
    <div>
      <p>Count: {count()}</p>
      <button onClick={() => setCount((prev) => prev + 1)}>Increment</button>
    </div>
  );
}
```

--------------------------------

### Create and Initialize Session in SolidStart

Source: https://docs.solidjs.com/solid-start/advanced/session

Demonstrates how to create and initialize a session using the `useSession` helper in a SolidStart server function. It requires a secure password for encryption and allows customization of the session cookie name. The session stores theme preferences, defaulting to 'light' if not already set.

```typescript
import { useSession } from "vinxi/http";

type SessionData = {
  theme: "light" | "dark";
};

export async function useThemeSession() {
  "use server";
  const session = await useSession<SessionData>({
    password: process.env.SESSION_SECRET as string,
    name: "theme",
  });

  if (!session.data.theme) {
    await session.update({
      theme: "light",
    });
  }

  return session;
}
```

--------------------------------

### SolidJS createEffect vs createRenderEffect Timing

Source: https://docs.solidjs.com/reference/basic-reactivity/create-effect

This example contrasts the execution timing of `createEffect` with `createRenderEffect` in SolidJS. It demonstrates how `createEffect` runs after rendering and DOM updates, while `createRenderEffect` runs synchronously during the render phase.

```javascript
import { createSignal, createEffect, createRenderEffect } from "solid-js";


function Counter() {
  const [count, setCount] = createSignal(0);


  // This is part of the component's synchronous execution.
  console.log("Hello from counter");


  // This effect is scheduled to run after the initial render is complete.
  createEffect(() => {
    console.log("Effect:", count());
  });


  // By contrast, a render effect runs synchronously during the render phase.
  createRenderEffect(() => {
    console.log("Render effect:", count());
  });


  // Setting a signal during the render phase re-runs render effects, but not effects, which are
  // still scheduled.
  setCount(1);


  // A microtask is scheduled to run after the current synchronous code (the render phase) finishes.
  queueMicrotask(() => {
    // Now that rendering is complete, signal updates will trigger effects immediately.
    setCount(2);
  });
}


// Output:
// Hello from counter
// Render effect: 0
// Render effect: 1
// Effect: 1
// Render effect: 2
// Effect: 2
```

--------------------------------

### Basic Redirect on User Authentication Failure

Source: https://docs.solidjs.com/solid-router/reference/response-helpers/redirect

This example demonstrates using `redirect` within a `query` to send an unauthenticated user to the login page. It imports `query` and `redirect` from `@solidjs/router` and an `getCurrentUser` function. If no user is found, it throws a redirect to '/login'.

```typescript
import { query, redirect } from "@solidjs/router";
import { getCurrentUser } from "../auth";


const getUser = query(() => {
  const user = await getCurrentUser();


  if (!user) throw redirect("/login");


  return user;
}, "get-user")

```

--------------------------------

### Solid.js Directive Type Checking Examples

Source: https://docs.solidjs.com/configuration/typescript

Provides examples of correct and incorrect usage of directives when using the `DirectiveFunctions` interface in Solid.js. It highlights how strict type checking ensures that directives receive the expected element and value types.

```jsx
{/* This is correct */}
<input use:model={createSignal('')} />


{/* These will result in a type error */}
<input use:model />
<input use:model={7} />
<div use:model={createSignal('')} />
```

--------------------------------

### SolidJS onCleanup Example: Event Listener Cleanup

Source: https://docs.solidjs.com/reference/lifecycle/on-cleanup

This example demonstrates the practical use of `onCleanup` in SolidJS to remove an event listener when a component unmounts. This prevents memory leaks by ensuring the listener is detached after it's no longer needed.

```typescript
import { createSignal, onCleanup } from "solid-js"


const Component = () => {
  const [count, setCount] = createSignal(0);


  const handleClick = () => setCount((value) => value + 1);


  document.addEventListener("click", handleClick);


  /**
   * Remove the event listener when the component is removed/unmounted from the page.
   */
  onCleanup(() => {
    document.removeEventListener("click", handleClick);
  });


  return <main>Document has been clicked {count()} times</main>;
};

```

--------------------------------

### createAsync with Suspense and Error Handling

Source: https://docs.solidjs.com/solid-router/reference/data-apis/create-async

This example illustrates how to integrate createAsync with Suspense and ErrorBoundary for robust loading and error state management. It displays a loading message or an error message based on the data fetching status.

```typescript
import { Suspense, ErrorBoundary, For } from "solid-js";
import { createAsync, query } from "@solidjs/router";


const getUserQuery = query(async (id: string) => {
  // ... Fetches the user from the server.
}, "user");


function UserProfile() {
  const user = createAsync(() => getUserQuery());


  return (
    <ErrorBoundary fallback={<p>Could not fetch user data.</p>}>
      <Suspense fallback={<p>Loading user...</p>}>
        <p>{user()!.name}</p>
      </Suspense>
    </ErrorBoundary>
  );
}
```

--------------------------------

### Using Custom Context Provider

Source: https://docs.solidjs.com/concepts/context

Shows how to integrate a custom context provider component, like `CounterProvider`, into a SolidJS application. It demonstrates wrapping a component tree with the custom provider and passing initial values.

```javascript
import { CounterProvider } from "./counterProvider";


export function App() {
  return (
    <CounterProvider count={1}>
      <h1>Welcome to Counter</h1>
      <NestedComponents />
    </CounterProvider>
  );
}
```

--------------------------------

### SolidJS Delegated Event Example

Source: https://docs.solidjs.com/concepts/components/event-handlers

Demonstrates the use of a delegated event listener in SolidJS using JSX syntax. This listener will be attached once and handle all future events of the specified type.

```jsx
<div onMouseMove={handleCustomEvent} />
```

--------------------------------

### SolidJS mapArray Usage Example

Source: https://docs.solidjs.com/reference/reactive-utilities/map-array

Demonstrates the practical application of `mapArray` in SolidJS. This example maps a source array of models to a new structure, incorporating signals for 'name' and 'description' within each mapped item. It highlights how `mapArray` facilitates reactive updates to individual elements.

```typescript
const mapped = mapArray(source, (model) => {
  const [name, setName] = createSignal(model.name)
  const [description, setDescription] = createSignal(model.description)


  return {
    id: model.id,
    get name() {
      return name()
    },
    get description() {
      return description()
    },
    setName,
    setDescription,
  }
})
```

--------------------------------

### SolidJS Store Produce Usage Example

Source: https://docs.solidjs.com/reference/store-utilities/produce

Demonstrates how to use the `produce` function with `createStore` to update nested properties and array elements within a SolidJS store immutably. This method simplifies state management by allowing direct-looking mutations.

```javascript
import { produce } from "solid-js/store";
import { createStore } from 'solid-js';


const [state, setState] = createStore({
  user: {
    name: "John",
    age: 30,
  },
  list: ["book", "pen"],
});


setState(
  produce((state) => {
    state.user.name = "Jane";
    state.list.push("pencil");
  })
);
```

--------------------------------

### Import createAsyncStore from Solid Router

Source: https://docs.solidjs.com/solid-router/reference/data-apis/create-async-store

Demonstrates how to import the createAsyncStore function from the @solidjs/router package. This is the first step to using the primitive for managing asynchronous data.

```javascript
import { createAsyncStore } from "@solidjs/router";
```

--------------------------------

### Initialize MetaProvider and Add Meta Tags in SolidJS

Source: https://docs.solidjs.com/solid-meta/reference/meta/meta

Shows how to set up the `MetaProvider` at the root of your SolidJS application and subsequently add various meta tags like `charset`, `viewport`, and `description`. Meta tags with matching `name` attributes will override parent configurations.

```jsx
import { MetaProvider, Meta } from "@solidjs/meta";


export default function Root() {
  return (
    <MetaProvider>
      <Meta charset="utf-8" />
      <Meta name="viewport" content="width=device-width, initial-scale=1" />
      <Meta name="description" content="Hacker News Clone built with Solid" />
    </MetaProvider>
  );
}
```

--------------------------------

### Custom Route Configuration with SolidStart's route export

Source: https://docs.solidjs.com/solid-start/building-your-application/routing

Demonstrates how to export a `route` object with `preload` functionality from a route component to define additional route configuration. This allows for more advanced setup, like defining preload functions, outside the file system structure.

```typescript
import type { RouteSectionProps, RouteDefinition } from "@solidjs/router";


export const route = {
  preload() {
    // define preload function
  }
} satisfies RouteDefinition


export default function UsersLayout(props: RouteSectionProps) {
  return (
    <div>
      <h1>Users</h1>
      {props.children}
    </div>
  );
}
```

```javascript
export const route = {
  preload() {
    // define preload function
  }
};


export default function UsersLayout(props) {
  return (
    <div>
      <h1>Users</h1>
      {props.children}
    </div>
  );
}
```

--------------------------------

### Custom Storage for SolidJS createResource with Deep Signal

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

Illustrates the experimental `storage` option in `createResource` to integrate custom storage mechanisms. This example shows how to use a custom `createDeepSignal` function, which leverages `createStore` and `reconcile`, to manage the resource's state, allowing for deep reactivity.

```javascript
function createDeepSignal<T>(value: T): Signal<T> {
  const [store, setStore] = createStore({
    value,
  })
  return [
    () => store.value,
    (v: T) => {
      const unwrapped = unwrap(store.value)
      typeof v === "function" && (v = v(unwrapped))
      setStore("value", reconcile(v))
      return store.value
    },
  ] as Signal<T>
}

const [resource] = createResource(fetcher, {
  storage: createDeepSignal,
})
```

--------------------------------

### Preload Route Data in Solid.js

Source: https://docs.solidjs.com/solid-start/guides/data-fetching

Export a `route` object with a `preload` function to fetch data before a route renders. This function runs the query, and the data can be accessed in the component using `createAsync`. Dependencies include `@solidjs/router` and `solid-js`.

```typescript
// src/routes/index.tsx
import { ErrorBoundary } from "solid-js";
import { query, createAsync, type RouteDefinition } from "@solidjs/router";


const getPosts = query(async () => {
  const posts = await fetch("https://my-api.com/posts");
  return await posts.json();
}, "posts");


export const route = {
  preload: () => getPosts(),
} satisfies RouteDefinition;


export default function Page() {
  const post = createAsync(() => getPosts());
  return (
    <div>
      <ErrorBoundary fallback={<div>Something went wrong!</div>}>
        <h1>{post().title}</h1>
      </ErrorBoundary>
    </div>
  );
}

```

```javascript
// src/routes/index.jsx
import { ErrorBoundary } from "solid-js";
import { query, createAsync } from "@solidjs/router";


const getPosts = query(async () => {
  const posts = await fetch("https://my-api.com/posts");
  return await posts.json();
}, "posts");


export const route = {
  preload: () => getPosts(),
};


export default function Page() {
  const post = createAsync(() => getPosts());
  return (
    <div>
      <ErrorBoundary fallback={<div>Something went wrong!</div>}>
        <h1>{post().title}</h1>
      </ErrorBoundary>
    </div>
  );
}

```

--------------------------------

### Pure Memo Function Example in SolidJS

Source: https://docs.solidjs.com/concepts/derived-values/memos

Illustrates a pure function used within `createMemo`. A pure function's output depends solely on its inputs, avoiding side effects. This example shows a simple memoization of a condition based on a signal. Dependencies include `createSignal` and `createMemo` from 'solid-js'.

```javascript
import { createSignal, createMemo } from "solid-js"


const [count, setCount] = createSignal(0)
const isEven = createMemo(() => count() % 2 === 0) // example of a pure function
```

--------------------------------

### Component Test Example (JSX)

Source: https://docs.solidjs.com/guides/testing

A Solid component test written in JSX using vitest. It renders a Counter component, simulates a button click using userEvent, and asserts the text content before and after the interaction.

```jsx
import { test, expect } from "vitest"
import { render } from "@solidjs/testing-library"
import userEvent from "@testing-library/user-event"
import { Counter } from "./Counter"


const user = userEvent.setup()


test("increments value", async () => {
  const { getByRole } = render(() => <Counter />)
  const counter = getByRole('button')
  expect(counter).toHaveTextContent("1")
  await user.click(counter)
  expect(counter).toHaveTextContent("2")
})
```

--------------------------------

### Client-Only Component Usage

Source: https://docs.solidjs.com/solid-start/reference/client/client-only

Demonstrates how to create a client-only component and import it dynamically using the `clientOnly` function.

```APIDOC
## Client-Only Component Usage

### Description
This section explains how to isolate client-specific logic into a separate component and then import it dynamically using the `clientOnly` function. This is crucial for components that rely on browser-specific APIs like `window` or `document`.

### Method
N/A (This is a conceptual guide, not a direct API endpoint)

### Endpoint
N/A

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example

**1. Create a Client-Only Component (`ClientOnlyComponent.jsx`):**
```jsx
export default function ClientOnlyComponent() {
  const location = document.location.href;
  return <div>Current URL: {location}</div>;
}
```

**2. Import and Use in Parent Component:**
```jsx
import { clientOnly } from "@solidjs/start";

const ClientOnlyComp = clientOnly(() => import("./ClientOnlyComponent"));

export default function IsomorphicComponent() {
  return <ClientOnlyComp />;
}
```

**3. Add Optional Fallback:**
```jsx
<ClientOnlyComp fallback={<div>Loading...</div>} />
```

### Response
#### Success Response (200)
N/A (Component rendering)

#### Response Example
N/A
```

--------------------------------

### SolidJS createMemo vs Plain Function

Source: https://docs.solidjs.com/reference/basic-reactivity/create-memo

Illustrates the difference between using createMemo and a plain function for derived reactive values in SolidJS. createMemo ensures the computation runs only once when dependencies change, unlike a plain function that might run multiple times.

```jsx
const user = createMemo(() => searchForUser(username()))
// compare with: const user = () => searchForUser(username());
return (
  <ul>
    <li>Your name is {user()?.name}</li>
    <li>
      Your email is <code>{user()?.email}</code>
    </li>
  </ul>
)
```

--------------------------------

### Client-side App Bootstrapping with SolidStart mount

Source: https://docs.solidjs.com/solid-start/reference/client/mount

This snippet demonstrates how to use the `mount` function from '@solidjs/start/client' to bootstrap a SolidJS application. It takes a function that returns the application's JSX and the DOM element where the application should be mounted. If SSR is disabled, `mount` behaves like `render`.

```typescript
import { mount, StartClient } from "@solidjs/start/client";

mount(() => <StartClient />, document.getElementById("app")!);
```

--------------------------------

### SolidJS Nested Suspense Component Example

Source: https://docs.solidjs.com/reference/components/suspense

Illustrates how to implement nested Suspense boundaries in SolidJS. This allows for granular control over which resources trigger which suspense fallback, preventing unnecessary loading states.

```jsx
const MyComponent = () => {
  const [title] = createResource(async () => { /* fetcher code here */ })
  const [data] = createResource(async () => { /* fetcher code here */ })
  <Suspense>
    <h1>{title()}</h1>
    <Suspense>
      <DataComponent>{data()}</DataComponent>
    </Suspense>
  </Suspense>
}
```

--------------------------------

### createMutable Utility

Source: https://docs.solidjs.com/reference/store-utilities/create-mutable

Demonstrates how to create a mutable store proxy with selective updates using createMutable.

```APIDOC
## createMutable

### Description
`createMutable` creates a new mutable Store proxy object that provides a way to selectively trigger updates only when values change. By intercepting property access, it allows automatic tracking of deep nesting via proxy making it useful for integrating external systems or serving as a compatibility layer with frameworks like MobX or Vue.

### Method
`createMutable`

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
- **state** (T | Store<T>) - Required - The initial state for the mutable store.

### Request Example
```javascript
import { createMutable } from "solid-js/store"

const state = createMutable({
  someValue: 0,
  list: [],
});
```

### Response
#### Success Response (200)
Returns a Store proxy object.

#### Response Example
```json
{
  "someValue": 0,
  "list": []
}
```

### Usage Notes
- Mutable state can complicate code structure and increase the risk of breaking unidirectional flow.
- `createStore` is generally recommended as a more robust alternative.
- The `produce` utility can offer similar benefits without the associated downsides.

### Setters Support Example
```javascript
import { createMutable } from "solid-js/store"

const user = createMutable({
  firstName: "John",
  lastName: "Smith",
  get fullName() {
    return `${this.firstName} ${this.lastName}`;
  },
  set setFullName(value) {
    [this.firstName, this.lastName] = value.split(" ");
  },
});

// Reading a value
console.log(user.fullName); // Output: "John Smith"

// Setting a value using the setter
user.setFullName = "Jane Doe";
console.log(user.firstName); // Output: "Jane"
console.log(user.lastName); // Output: "Doe"
```
```

--------------------------------

### DOM Assertions with @testing-library/jest-dom

Source: https://docs.solidjs.com/guides/testing

Shows how to augment `vitest`'s `expect` with helpful DOM-specific assertions from `@testing-library/jest-dom`. Examples include checking element existence, visibility, text content, and focus.

```javascript
// .toBeInTheDocument() - checks if the element actually exists in the DOM
// .toBeVisible() - checks if there is no reason the element should be hidden
// .toHaveTextContent(content) - checks if the text content matches
// .toHaveFocus() - checks if this is the currently focused element
// .toHaveAccessibleDescription(description) - checks accessible description
// and a lot more.
```

--------------------------------

### HTML Script Tag for TypeScript Entry Point

Source: https://docs.solidjs.com/configuration/typescript

Example of modifying the HTML script tag to point to a TypeScript entry file (index.tsx) instead of a JavaScript one (index.jsx).

```html
<!doctype html>
<html lang="en">
  <head>
    <!-- ... -->
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script src="/src/index.tsx" type="module"></script>
  </body>
</html>
```

--------------------------------

### Pass Parameters to Queries in Solid.js Routing

Source: https://docs.solidjs.com/solid-start/guides/data-fetching

Define query functions to accept parameters for dynamic data fetching. The `preload` function can access route parameters via `params`, which are then passed to the query function. This allows for fetching specific resources like a single post by its ID. Dependencies include `@solidjs/router` and `solid-js`.

```typescript
// src/routes/posts/[id]/index.tsx
import { ErrorBoundary } from "solid-js";
import { query, createAsync, type RouteDefinition } from "@solidjs/router";


const getPost = query(async (id: string) => {
  const post = await fetch(`https://my-api.com/posts/${id}`);
  return await post.json();
}, "post");


export const route = {
  preload: ({ params }) => getPost(params.id),
} satisfies RouteDefinition;


export default function Page() {
  const postId = 1;
  const post = createAsync(() => getPost(postId));
  return (
    <div>
      <ErrorBoundary fallback={<div>Something went wrong!</div>}>
        <h1>{post().title}</h1>
      </ErrorBoundary>
    </div>
  );
}

```

```javascript
// src/routes/posts/[id]/index.jsx
import { ErrorBoundary } from "solid-js";
import { query, createAsync } from "@solidjs/router";


const getPost = query(async (id) => {
  const post = await fetch(`https://my-api.com/posts/${id}`);
  return await post.json();
}, "post");


export const route = {
  preload: ({ params }) => getPost(params.id),
};


export default function Page() {
  const postId = 1;
  const post = createAsync(() => getPost(postId));
  return (
    <div>
      <ErrorBoundary fallback={<div>Something went wrong!</div>}>
        <h1>{post().title}</h1>
      </ErrorBoundary>
    </div>
  );
}

```

--------------------------------

### Integrate RxJS with SolidJS Signal (TypeScript)

Source: https://docs.solidjs.com/reference/reactive-utilities/observable

Demonstrates integrating RxJS with a SolidJS signal using the `observable` utility and RxJS's `from` operator. This example shows creating a signal, converting it to an Observable, and subscribing to its values.

```typescript
// How to integrate rxjs with a Solid signal
import { observable } from "solid-js"
import { from } from "rxjs"


const [s, set] = createSignal(0)


const obsv$ = from(observable(s))


obsv$.subscribe((v) => console.log(v))
```

--------------------------------

### Get Session Data in SolidStart

Source: https://docs.solidjs.com/solid-start/advanced/session

Shows how to retrieve the current theme preference from the session using the `useThemeSession` helper function. This function accesses the session data property to return the user's current theme setting.

```typescript
export async function getThemeSession() {
  "use server";
  const session = await useThemeSession();

  return session.data.theme;
}
```

--------------------------------

### Custom Context Provider Component

Source: https://docs.solidjs.com/concepts/context

Example of creating a custom `Provider` component in SolidJS for a specific context, like a counter. This encapsulates context logic and can accept props like initial counts.

```javascript
import { createSignal, createContext, useContext } from "solid-js";
import { CounterContext } from "~/context/counter";


export function CounterProvider(props) {
  return (
    <CounterContext.Provider value={props.count ?? 0}>
      {props.children}
    </CounterContext.Provider>
  );
}
```

--------------------------------

### Define a Basic SolidJS Component

Source: https://docs.solidjs.com/concepts/components/basics

Demonstrates the fundamental structure of a SolidJS component, which is a function returning JSX elements. Component names must start with a capital letter.

```javascript
function MyComponent() {
  return <div>Hello World</div>;
}
```

--------------------------------

### SolidJS Data Fetching with createResource

Source: https://docs.solidjs.com/guides/fetching-data

Demonstrates using createResource to fetch user data based on an input ID. It handles loading and error states for a responsive UI. The fetchUser function makes a GET request to a SWAPI API endpoint.

```javascript
import { createSignal, createResource, Switch, Match, Show } from "solid-js";


const fetchUser = async (id) => {
  const response = await fetch(`https://swapi.dev/api/people/${id}/`);
  return response.json();
}


function App() {
  const [userId, setUserId] = createSignal();
  const [user] = createResource(userId, fetchUser);


  return (
    <div>
      <input
        type="number"
        min="1"
        placeholder="Enter Numeric Id"
        onInput={(e) => setUserId(e.currentTarget.value)}
      />
      <Show when={user.loading}>
        <p>Loading...</p>
      </Show>
      <Switch>
        <Match when={user.error}>
          <span>Error: {user.error}</span>
        </Match>
        <Match when={user()}>
          <div>{JSON.stringify(user())}</div>
        </Match>
      </Switch>
    </div>
  );
}

```

--------------------------------

### Access Request Event in Solid.js

Source: https://docs.solidjs.com/reference/server-utilities/get-request-event

Shows a basic example of calling `getRequestEvent` to retrieve the current request event object in a Solid.js server environment.

```javascript
import { getRequestEvent } from "solid-js/web"


const event = getRequestEvent()
```

--------------------------------

### Solid Counter Component

Source: https://docs.solidjs.com/guides/testing

A simple Solid.js Counter component that displays a count and increments it when the button is clicked. This component is used as an example for testing.

```jsx
export const Counter = () => {
  const [count, setCount] = createSignal(1);
  return (
    <button onClick={() => setCount(count() + 1)}>
      {count()}
    </button>
  );
}
```

--------------------------------

### Get Request Event in Solid.js (TypeScript)

Source: https://docs.solidjs.com/reference/server-utilities/get-request-event

Demonstrates how to import and type the `getRequestEvent` function from 'solid-js/web' to access server-side request context.

```typescript
import { getRequestEvent } from "solid-js/web"
import type { RequestEvent } from "solid-js/web"


function getRequestEvent(): RequestEvent | undefined
```

--------------------------------

### SolidJS Accessing State Values from createStore

Source: https://docs.solidjs.com/guides/complex-state-management

Demonstrates how to access and display state values from a SolidJS `createStore`. The example shows accessing `state.numberOfTasks` to render the count of tasks in the UI.

```javascript
import { createStore } from "solid-js/store"


const App = () => {
  const [state, setState] = createStore({
    tasks: [],
    numberOfTasks: 0,
  })
  return (
    <>
      <h1>My Task List for Today</h1>
      <span>You have {state.numberOfTasks} task(s) for today!</span>
    </>
  )
}


export default App

```

--------------------------------

### SolidJS NoHydration Component Example

Source: https://docs.solidjs.com/reference/components/no-hydration

Demonstrates how to use the NoHydration component to wrap content that should not be hydrated on the client-side. This is useful for static content or components that should not have event listeners attached by Solid on the client.

```jsx
import { NoHydration } from "solid-js/web";
import { InteractiveComponent, StaticContent } from "./components";


function Example() {
  return (
    <div>
      <InteractiveComponent />
      <NoHydration>
        <StaticContent />
      </NoHydration>
    </div>
  );
}

```

--------------------------------

### Dynamic Routes with SolidStart and useParams

Source: https://docs.solidjs.com/solid-start/building-your-application/routing

Explains how to define dynamic routes using square brackets `[]` for route segments and how to access these dynamic parameters using the `useParams` hook from `@solidjs/router`. This allows a single route to match various URL segments.

```file-structure
|-- routes/
    |-- users/
        |-- [id].tsx
```

```typescript
import { useParams } from "@solidjs/router";


export default function UserPage() {
  const params = useParams();
  return <div>User {params.id}</div>;
}
```

--------------------------------

### SolidJS: Importing Core Utilities

Source: https://docs.solidjs.com/concepts/components/basics

Shows how to import SolidJS's reactive primitives and utilities. It covers importing directly from the main SolidJS module, as well as from specific sub-modules like 'solid-js/store'. This is essential for leveraging Solid's reactivity features.

```javascript
import { createSignal } from "solid-js";

```

```javascript
import { createStore } from "solid-js/store";

```

--------------------------------

### SolidJS using the children helper

Source: https://docs.solidjs.com/reference/component-apis/children

Example demonstrating how to use the 'children' helper in SolidJS to resolve props.children. This approach reuses the resolved children and ensures they are tracked within the current component's scope, avoiding potential issues with direct props.children access.

```javascript
const resolved = children(() => props.children)
```

--------------------------------

### Basic LESS Syntax and Usage in SolidJS

Source: https://docs.solidjs.com/guides/styling-components/less

Demonstrates the basic LESS syntax, including variables, and how to import and use a LESS file within a SolidJS component. Vite automatically compiles .less files.

```jsx
//styles.less
.foo {
  color: red;
}
.bar {
  background-color: blue;
}
```

```jsx
//styles.less
@plainred: red;
@plainblue: blue;
.foo {
  color: @plainred;
}
.bar {
  background-color: @plainblue;
}
```

```jsx
//component.jsx
import "./styles.less";


function Component() {
  return (
    <>
      <div class="foo bar">Hello, world!</div>
    </>
  );
}
```

--------------------------------

### Initialize Tailwind CSS Configuration

Source: https://docs.solidjs.com/guides/styling-components/tailwind-v3

Generates the `tailwind.config.js` and `postcss.config.js` files using the Tailwind CLI. This step is crucial for configuring Tailwind's behavior within your project.

```npm
npx tailwindcss init -p
```

```pnpm
pnpx tailwindcss init -p
```

```yarn
yarn dlx tailwindcss init -p
```

```bun
bunx tailwindcss init -p
```

```deno
dpx tailwindcss init -p
```

--------------------------------

### Solid Router: Define Multiple Routes with Config

Source: https://docs.solidjs.com/solid-router/getting-started/config

This example shows how to define multiple routes for Solid Router using an array of route definition objects. Each object specifies a `path` and a `component`, with support for both direct component rendering and lazy-loaded components. This allows for a structured approach to defining application navigation.

```javascript
import { lazy } from "solid-js";
import { render } from "solid-js/web";
import { Router } from "@solidjs/router";


const routes = [
    {
        path: "/",
        component: lazy(() => import("/routes/index.js")),
    },
    {
        path: "/hello-world",
        component: () => <h1>Hello, World!</h1>
    },
    {
        path: "/about",
        component: lazy(() => import("/routes/about.js")),
    }
]




render(() => <Router>{routes}</Router>, document.getElementById("app"));
```

--------------------------------

### SolidJS passing children directly

Source: https://docs.solidjs.com/reference/component-apis/children

A basic SolidJS component example that directly renders its children using props.children within a div element. This is a common pattern when no complex children manipulation is needed.

```javascript
const Wrapper = (props) => {
  return <div>{props.children}</div>;
}
```

--------------------------------

### Define Multiple Routes in Solid Router using JSX

Source: https://docs.solidjs.com/solid-router/getting-started/component

This example demonstrates how to define multiple routes within a single Solid Router instance using JSX. It illustrates adding several 'Route' components to the 'Router', each with a distinct 'path' and a corresponding 'component' or inline JSX element to render.

```javascript
import { render } from "solid-js/web";
import { Router, Route } from "@solidjs/router";


import Home from "./routes/index.jsx";
import About from "./routes/about.jsx";


render(
    () => (
        <Router>
            <Route path="/" component={Home} />
            <Route path="/hello-world" component={() => <h1>Hello World!</h1>} />
            <Route path="/about" component={About} />
        </Router>
    ),
    document.getElementById("app")
);
```

--------------------------------

### SolidJS Signal Reactivity Example

Source: https://docs.solidjs.com/concepts/signals

Provides a functional component in SolidJS demonstrating signal reactivity. The component updates a displayed count and provides a button to increment it. The UI automatically updates when the signal changes.

```javascript
function Counter() {
  const [count, setCount] = createSignal(0);
  const increment = () => setCount((prev) => prev + 1);


  return (
    <div>
      <span>Count: {count()}</span> {/* Updates when `count` changes */}
      <button type="button" onClick={increment}>
        Increment
      </button>
    </div>
  );
}
```

--------------------------------

### zerops.yml for SSR Solid.js Apps

Source: https://docs.solidjs.com/guides/deployment-options/zerops

This `zerops.yml` file configures the build and run settings for a server-side rendered (SSR) Solid.js application on Zerops. It specifies build commands, deployable files, and runtime configurations including port and start command.

```yaml
zerops:
  - setup: app
    build:
      base: nodejs@latest
      buildCommands:
        - pnpm i
        - pnpm build
      deployFiles:
        - .output
        - node_modules
        - public
        - package.json
    run:
      base: nodejs@latest
      ports:
        - port: 3000
          httpSupport: true
      start: pnpm start
```

--------------------------------

### Define SolidStart App Configuration using defineConfig

Source: https://docs.solidjs.com/solid-start/reference/entrypoints/app-config

This snippet shows the basic usage of `defineConfig` from `@solidjs/start/config` to create a minimal SolidStart application configuration with default settings. It's the entry point for configuring the application's build and runtime environment.

```typescript
import { defineConfig } from "@solidjs/start/config";


export default defineConfig({});

```

--------------------------------

### Solid.js <Show> Component Basic Usage

Source: https://docs.solidjs.com/reference/components/show

Demonstrates the fundamental use of the <Show> component for conditional rendering. It takes a 'when' prop to determine visibility and an optional 'fallback' prop for when the condition is falsy. This example uses a signal to toggle the visibility of a child element.

```jsx
import { createSignal, Show } from "solid-js";


function Example() {
  const [value, setValue] = createSignal(true);
  return (
    <div>
      <button onClick={() => setValue((prev) => !prev)}>Toggle Show</button>
      <Show when={value()} fallback={<div>Fallback Element</div>}>
        <div>Child Element</div>
      </Show>
    </div>
  );
}

```

--------------------------------

### Update package.json for Railway Deployment

Source: https://docs.solidjs.com/guides/deployment-options/railway

This snippet shows how to modify the `scripts` section in your `package.json` file to configure the start command for Railway deployments. It specifies building the app and using `http-server` to serve the `dist` directory, while keeping the `dev` command for local development.

```json
"scripts": {
  "start": "npx http-server ./dist",
  "dev": "vite",
  "build": "vite build",
  "serve": "vite preview",
  "predeploy": "npm run build",
  "deploy": "gh-pages -d build"
}
```

--------------------------------

### clientOnly Function Parameters

Source: https://docs.solidjs.com/solid-start/reference/client/client-only

Details the parameters accepted by the `clientOnly` function, including the dynamic import function, options, and props.

```APIDOC
## `clientOnly` Function Parameters

### Description
This section details the parameters that the `clientOnly` function accepts, including the function for dynamic imports, configuration options, and props for the component.

### Method
N/A (API reference)

### Endpoint
N/A

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
N/A

### Response
#### Success Response (200)
N/A

#### Response Example
N/A

## Parameters Summary:

| Argument | Type                                            | Description                                                                            |
|----------|-------------------------------------------------|----------------------------------------------------------------------------------------|
| `fn`     | `() => Promise<{ default: () => JSX.Element }>` | A function that dynamically imports a component to be rendered only on the client side. |
| `options`| `{ lazy?: boolean }`                            | An optional object to configure loading behavior. Set `lazy: false` for eager loading. |
| `props`  | `Record<string, any> & { fallback?: JSX.Element }` | Props passed to the component, including an optional `fallback` for rendering while the component loads. |
```

--------------------------------

### Implement Deeply Nested Routes in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Demonstrates deeply nested routing structures, where routes are nested multiple levels deep. This example shows how components are composed, with each level rendering its children within its own structure, creating layered UI experiences.

```javascript
import { Route } from '@solidjs/router';

<Route
  path="/"
  component={(props) => <div>Outermost layer starts here {props.children}</div>}
>
  <Route
    path="layer1"
    component={(props) => <div>Second layer {props.children}</div>}
  >
    <Route path="layer2" component={() => <div>Innermost layer</div>} />
  </Route>
</Route>
```

--------------------------------

### createResource - Options Object

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

Detailed explanation of the optional configuration object for `createResource`, covering debugging, streaming, initial values, hydration callbacks, SSR loading, and custom storage.

```APIDOC
## `createResource` Options

### Description
The `createResource` function accepts an optional options object to customize its behavior.

### Parameters
#### Options Object
- **name** (`string`, optional): A name for the resource, primarily used for debugging purposes.
- **deferStream** (`boolean`, optional, default: `false`): If true, Solid will wait for the resource to resolve before flushing the stream.
- **initialValue** (`any`, optional): The initial value of the resource before the first fetch completes.
- **onHydrated** (`function`, optional): A callback function invoked when the resource is hydrated. It receives `(k, info)` where `k` is the source value and `info` contains `{ value: T | undefined }`.
- **ssrLoadFrom** (`"server" | "initial"`, optional, default: `"server"`): Specifies the source for the initial value during SSR. `"initial"` uses `initialValue`, while `"server"` uses the fetched value.
- **storage** (`function`, optional, default: `createSignal`): A function that returns a signal, used to create custom storage for the resource. This is an experimental feature.
```

--------------------------------

### SolidJS Counter Component Example

Source: https://docs.solidjs.com/index

A basic SolidJS component demonstrating the use of `createSignal` to manage and display a counter. This component increments a count when clicked, showcasing Solid's reactive nature. It relies on the 'solid-js' library for its core functionality.

```jsx
import { createSignal } from "solid-js";

function Counter() {
	const [count, setCount] = createSignal(0);

	return (
		<button
		  onClick={() => setCount((n) => n + 1)} 
		>
		  Count: {count()}
		</button>
	);
}
```

--------------------------------

### SolidJS Inline Event Handler Example

Source: https://docs.solidjs.com/configuration/typescript

Demonstrates how to define an event handler directly within a JSX attribute in SolidJS. This method leverages automatic type inference and checking provided by the framework.

```typescript
<input
  onInput={(event) => {
    console.log("Input changed to", event.currentTarget.value);
  }}
/>
```

--------------------------------

### Configure Vite with Macaron CSS Plugin

Source: https://docs.solidjs.com/guides/styling-components/macaron

Adds the Macaron CSS Vite plugin to your vite.config.js file. This plugin must be configured before other plugins to ensure proper compilation of Macaron styles.

```javascript
import { macaronVitePlugin } from "@macaron-css/vite";
import { defineConfig } from "vite";


export default defineConfig({
  plugins: [
    macaronVitePlugin(),
    // other plugins
  ],
});
```

--------------------------------

### Client-Side Mounting with `mount`

Source: https://docs.solidjs.com/solid-start/reference/client/mount

The `mount` function is crucial for initializing a SolidStart application on the client. It intelligently chooses between `hydrate` for server-rendered applications or `render` for purely client-rendered ones. This function is typically invoked in your `entry-client.tsx` file.

```APIDOC
## Client-Side Mounting with `mount`

### Description
The `mount` function is used to bootstrap a SolidStart application on the client. It determines whether to use hydration (for server-rendered applications) or direct rendering (for client-only applications) based on your configuration.

### Method
`mount`

### Parameters
#### Function Argument
- **fn** ( () => JSX.Element ) - Required - A function that returns the application's JSX element.
- **el** ( MountableElement ) - Required - The DOM element where the application will be mounted.

### Request Example
```typescript
import { mount, StartClient } from "@solidjs/start/client";

mount(() => <StartClient />, document.getElementById("app")!); 
```

### Response
This function does not return a value but mounts the application to the specified DOM element.

### Notes
- If `ssr: false` is configured, `mount` behaves identically to `render`.
- The `StartClient` component is a common entry point for client-side applications within SolidStart.
```

--------------------------------

### Synchronize Store Values with createEffect in SolidJS

Source: https://docs.solidjs.com/concepts/stores

Shows how to automatically update store values based on other store properties using `createEffect`. This example synchronizes `userCount` with the length of the `users` array, ensuring data consistency.

```javascript
const App = () => {
  const [store, setStore] = createStore({
    userCount: 3,
    users: [ ... ],
  })


  const addUser = () => { /* ... */ }


  createEffect(() => {
    console.log(store.users.at(-1))
    setStore("userCount", store.users.length)
  })


  return (
    <div>
      <h1>Hello, {store.users[0].username}</h1>
      <p>User count: {store.userCount}</p>
      <button onClick={addUser}>Add user</button>
    </div>
  )
}
```

--------------------------------

### Trigger Effects with Signal Changes in SolidJS

Source: https://docs.solidjs.com/advanced-concepts/fine-grained-reactivity

Illustrates how to use `createEffect` in SolidJS to automatically run a function whenever a dependent signal's value changes. The example shows an effect logging the current value of a `count` signal.

```javascript
import { createSignal, createEffect } from "solid-js";


const [count, setCount] = createSignal(0);


createEffect(() => {
  console.log(count());
});
```

--------------------------------

### indexArray Signature and Usage in SolidJS

Source: https://docs.solidjs.com/reference/reactive-utilities/index-array

Demonstrates the type signature of the indexArray function and provides a practical example of its usage. indexArray takes a list (as a signal) and a mapping function, returning a new signal that contains the mapped values.

```typescript
import { indexArray } from "solid-js"


function indexArray<T, U>(
  list: () => readonly T[],
  mapFn: (v: () => T, i: number) => U
): () => U[]


const mapped = indexArray(source, (model) => {
  return {
    get id() {
      return model().id
    }
    get firstInitial() {
      return model().firstName[0];
    },
    get fullName() {
      return `${model().firstName} ${model().lastName}`;
    },
  }
});
```

--------------------------------

### SolidJS: Synchronous Reactivity Example

Source: https://docs.solidjs.com/concepts/intro-to-reactivity

Demonstrates synchronous reactivity in SolidJS. When the `count` signal changes, the `double` signal is immediately updated within the same update cycle. This ensures that dependent signals are always consistent with their sources in a predictable order.

```javascript
const [count, setCount] = createSignal(0);
const [double, setDouble] = createSignal(0);


createEffect(() => {
  setDouble(count() * 2);
});
```

--------------------------------

### Test Fullscreen Directive with SolidJS

Source: https://docs.solidjs.com/guides/testing

This example demonstrates testing a fullscreen directive using `renderDirective` and vitest. It mocks the `fullscreen` method on the target element and asserts that the directive's request to enter fullscreen is called when the argument is set to true. It requires `@solidjs/testing-library` and vitest.

```typescript
import { test, expect, vi } from "vitest"
import { renderDirective } from "@solidjs/testing-library"
import { createFullScreen } from "./fullscreen"

test("toggles fullscreen", () => {
  const targetElement = document.createElement("div")
  const fs = vi.spyOn(targetElement, "fullscreen")
  const [setArg, container] = renderDirective(createFullScreen, false)
  setArg(true)
  expect(fs).toHaveBeenCalled()
})
```

--------------------------------

### Access Signal Value in SolidJS

Source: https://docs.solidjs.com/concepts/signals

Shows how to retrieve the current value of a SolidJS signal using the getter function returned by `createSignal`. Call the getter with no arguments to get the signal's value.

```javascript
console.log(count()); // output: 0
```

--------------------------------

### Implement Memory Router for Testing in SolidJS

Source: https://docs.solidjs.com/solid-router/concepts/alternative-routers

This example shows how to use MemoryRouter in SolidJS for testing purposes. It manages routing history in memory without directly interacting with the browser's URL, allowing for controlled state manipulation. Replace `<Router />` with `<MemoryRouter />` from '@solidjs/router'.

```javascript
import { render } from "solid-js/web";
import {
    Router
    MemoryRouter,
    Route
    } from "@solidjs/router";


const App = (props) => (
    <>
        <h1>Root header</h1>
        {props.children}
    </>
);


render(
    () => <Router root={App}>{/*... routes */}</Router>,
    () => <MemoryRouter root={App}>{/*... routes */}</MemoryRouter>,
    document.getElementById("app")
);
```

--------------------------------

### Filtering Submissions with useSubmissions in SolidJS

Source: https://docs.solidjs.com/solid-router/reference/data-apis/use-submissions

Demonstrates how to use the optional `filter` parameter of the `useSubmissions` hook to selectively retrieve submissions. This example filters for submissions that failed a client-side validation based on the input name length.

```javascript
import { useSubmissions } from "@solidjs/router";


const addTodoAction = action(async (formData: FormData) => {
  // ... Sends the todo data to the server.
}, "addTodo");


function FailedTodos() {
  const failedSubmissions = useSubmissions(
    addTodoAction,
    ([formData]: [FormData]) => {
      // Filters for submissions that failed a client-side validation
      const name = formData.get("name")?.toString() ?? "";
      return name.length <= 2;
    }
  );


  return (
    <div>
      <p>Failed submissions:</p>
      <For each={failedSubmissions}>
        {(submission) => (
          <div>
            <span>{submission.input[0].get("name")?.toString()}</span>
            <button onClick={() => submission.retry()}>Retry</button>
          </div>
        )}
      </For>
    </div>
  );
}

```

--------------------------------

### SolidJS createMemo Basic Usage

Source: https://docs.solidjs.com/reference/basic-reactivity/create-memo

Demonstrates the basic usage of createMemo in SolidJS to create a memoized reactive value from an expensive computation based on other signals.

```jsx
const value = createMemo(() => computeExpensiveValue(a(), b()))


//read the value
value()
```

--------------------------------

### SolidJS Derived Signal based on Signal

Source: https://docs.solidjs.com/concepts/derived-values/derived-signals

This example shows a simple derived signal in SolidJS that multiplies the value of a `count` signal by 2. The `double` function will re-evaluate whenever `count` changes.

```javascript
const double = () => count() * 2;

```

--------------------------------

### Define HTTP Methods for API Routes in SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

This snippet demonstrates how to define handlers for various HTTP methods (GET, POST, PATCH, DELETE) within an API route file in SolidStart. Each function corresponds to a specific HTTP verb and can contain the server-side logic for that request.

```typescript
export function GET() {
  // ...
}

export function POST() {
  // ...
}

export function PATCH() {
  // ...
}

export function DELETE() {
  // ...
}
```

--------------------------------

### Revalidating Query Keys During Redirect

Source: https://docs.solidjs.com/solid-router/reference/response-helpers/redirect

Illustrates how to specify query keys to revalidate when performing a redirect. This allows for targeted invalidation of specific data instead of reloading the entire page, using an example with `getUser.keyFor(id)`.

```typescript
redirect("/", { revalidate: ["getUser", getUser.keyFor(id)] });

```

--------------------------------

### Add Base Styles to a Styled Button Component

Source: https://docs.solidjs.com/guides/styling-components/macaron

Applies default styles to the styled button component using the `base` key. These styles will be applied to all instances of the Button component unless overridden.

```typescript
import { styled } from "@macaron-css/solid";


const Button = styled("button", {
  base: {
    backgroundColor: "red",
    borderRadius: "10px",
  },
});
```

--------------------------------

### Validating SolidJS Reactive System with setInterval

Source: https://docs.solidjs.com/advanced-concepts/fine-grained-reactivity

Validates the reactive system by incrementing a signal's value at one-second intervals using setInterval. This example shows a practical application of createSignal and createEffect, logging the updated count to the console.

```javascript
//.. (assuming createSignal and createEffect are defined above)

const [count, setCount] = createSignal(0);

createEffect(() => {
  console.log("The count is " + count());
});

setInterval(() => {
  setCount(count() + 1);
}, 1000);
```

--------------------------------

### SolidJS conditional rendering with children

Source: https://docs.solidjs.com/reference/component-apis/children

Illustrates a potential issue with conditional rendering using the 'children' helper. The example shows how children are always evaluated, even if the 'when' condition in the '<Show>' component is false. It suggests workarounds to defer children evaluation.

```javascript
const resolved = children(() => props.children);

return <Show when={visible()}>{resolved()}</Show>;

const resolved = children(() => visible() && props.children);
```

--------------------------------

### Initialize Resource with Prefetched SSR Data in SolidJS

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

Demonstrates how to use the `ssrLoadFrom: 'initial'` option to initialize a SolidJS resource with a prefetched value, avoiding an unnecessary re-fetch during server-side rendering and hydration. This is useful when data is fetched before rendering by an external system.

```javascript
const [data, { mutate, refetch }] = createResource(() => params.id, fetchUser, {
  initialValue: preloadedData,
  ssrLoadFrom: "initial",
})
```

--------------------------------

### Show Optimistic UI with useSubmission in SolidJS

Source: https://docs.solidjs.com/solid-start/guides/data-mutation

Enable optimistic UI updates before server responses by importing `useSubmission` from `@solidjs/router`. This hook returns `pending` and `input` properties to display UI changes instantly. It's useful for providing immediate feedback to users during form submissions.

```typescript
// src/routes/index.tsx
import { For, Show } from "solid-js";
import { action, useSubmission, query, createAsync } from "@solidjs/router";


const getPosts = query(async () => {
  const posts = await fetch("https://my-api.com/blog");
  return await posts.json();
}, "posts");


const addPost = action(async (formData: FormData) => {
  const title = formData.get("title");
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  const posts = createAsync(() => getPosts());
  const submission = useSubmission(addPost);
  return (
    <main>
      <form action={addPost} method="post">
        <input name="title" />
        <button>Add Post</button>
      </form>
      <ul>
        <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
        <Show when={submission.pending}>
          {submission.input?.[0]?.get("title")?.toString()}
        </Show>
      </ul>
    </main>
  );
}

```

```javascript
// src/routes/index.jsx
import { For, Show } from "solid-js";
import { action, useSubmission, query, createAsync } from "@solidjs/router";


const getPosts = query(async () => {
  const posts = await fetch("https://my-api.com/blog");
  return await posts.json();
}, "posts");


const addPost = action(async (formData) => {
  const title = formData.get("title");
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  const posts = createAsync(() => getPosts());
  const submission = useSubmission(addPost);
  return (
    <main>
      <form action={addPost} method="post">
        <input name="title" />
        <button>Add Post</button>
      </form>
      <ul>
        <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
        <Show when={submission.pending}>
          {submission.input?.[0]?.get("title")?.toString()}
        </Show>
      </ul>
    </main>
  );
}

```

--------------------------------

### onMount Lifecycle Hook

Source: https://docs.solidjs.com/reference/lifecycle/on-mount

Registers a function to be executed after the component's initial render and mounting to the DOM. This is useful for tasks like accessing element references or performing one-time setup operations.

```APIDOC
## onMount Lifecycle Hook

### Description
Registers a method that runs after initial rendering is done and the elements are mounted to the page. Ideal for using refs and managing other one-time setup.

### Signature
```typescript
function onMount(fn: () => void): void
```

### Overview
This hook is equivalent to a non-tracking effect, similar to `createEffect` without any dependencies. It ensures the provided function runs only once after the component's initial mount.

### Request Example
```javascript
// example that shows how to use onMount to get a reference to an element
import { onMount } from "solid-js"


function MyComponent() {
  let ref: HTMLButtonElement


  // when the component is mounted, the button will be disabled
  onMount(() => {
    ref.disabled = true
  })
  return <button ref={ref}>Focus me!</button>
}
```

### Response
This function does not return a value. Its effect is to schedule the execution of the provided callback function.
```

--------------------------------

### Set Default Variants for a Styled Button Component

Source: https://docs.solidjs.com/guides/styling-components/macaron

Configures default variant props for the Button component, such as setting the default 'color' to 'blue'. This ensures a consistent appearance when no variant is explicitly provided.

```typescript
import { styled } from "@macaron-css/solid";


const Button = styled("button", {
  base: {
    backgroundColor: "red",
    borderRadius: "10px",
  },
  variants: {
    color: {
      violet: {
        backgroundColor: "violet",
      },
      gray: {
        backgroundColor: "gray",
      },
    },
  },
  defaultVariants: {
    color: "blue",
  },
});
```

--------------------------------

### Organize Data Fetching with .data.js Files in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Shows how to export data fetching logic (using `query`) and preload functions from a dedicated `[route].data.js` file. This pattern isolates data-related code and allows for cleaner imports.

```javascript
// src/pages/users/[id].data.js
import { query } from "@solidjs/router";


export const getUser = query(async (id) => {
  return (await fetch(`https://swapi.tech/api/people/${id}/`)).json();
}, "getUser");


export function preloadUser({ params, location, intent }) {
  return getUser(params.id);
}
```

--------------------------------

### Redirect to Another Route in SolidJS Action

Source: https://docs.solidjs.com/solid-start/guides/data-mutation

Implement redirection within an action by importing `redirect` from `@solidjs/router`. Call `redirect` with the desired route and throw its response to navigate the user. This is commonly used after a successful form submission to move the user to a relevant page.

```typescript
// src/routes/index.tsx
import { action, redirect } from "@solidjs/router";


const addPost = action(async (formData: FormData) => {
  const title = formData.get("title") as string;
  const response = await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
  const post = await response.json();
  throw redirect(`/posts/${post.id}`);
}, "addPost");


export default function Page() {
  return (
    <form action={addPost} method="post">
      <input name="title" />
      <button>Add Post</button>
    </form>
  );
}

```

```javascript
// src/routes/index.jsx
import { action, redirect } from "@solidjs/router";


const addPost = action(async (formData) => {
  const title = formData.get("title");
  const response = await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
  const post = await response.json();
  throw redirect(`/posts/${post.id}`);
}, "addPost");


export default function Page() {
  return (
    <form action={addPost} method="post">
      <input name="title" />
      <button>Add Post</button>
    </form>
  );
}

```

--------------------------------

### Filtering Submissions with useSubmission

Source: https://docs.solidjs.com/solid-router/reference/data-apis/use-submission

Illustrates how to use the optional filter parameter of the useSubmission hook to select a specific submission based on custom criteria. This example filters for submissions where the 'name' field is longer than 2 characters.

```javascript
import { useSubmission } from "@solidjs/router";


const addTodoAction = action(async (formData: FormData) => {
  // ... Sends the todo data to the server.
}, "addTodo");


function LatestTodo() {
  const latestValidSubmission = useSubmission(
    addTodoAction,
    ([formData]: [FormData]) => {
      const name = formData.get("name")?.toString();
      return name && name.length > 2;
    }
  );


  return <p>Latest valid submission: {latestValidSubmission.result}</p>;
}
```

--------------------------------

### Trigger SolidJS Action Programmatically (JavaScript)

Source: https://docs.solidjs.com/solid-start/guides/data-mutation

Illustrates how to programmatically trigger an action in SolidJS using JavaScript. It imports `useAction` from `@solidjs/router`, defines an asynchronous `addPost` action for making a POST request, and utilizes `useAction` to obtain a function that can be invoked via a button click.

```javascript
// src/routes/index.jsx
import { createSignal } from "solid-js";
import { action, useAction } from "@solidjs/router";


const addPost = action(async (title) => {
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  const [title, setTitle] = createSignal("");
  const addPostAction = useAction(addPost);
  return (
    <div>
      <input value={title()} onInput={(e) => setTitle(e.target.value)} />
      <button onClick={() => addPostAction(title())}>Add Post</button>
    </div>
  );
}
```

--------------------------------

### Injecting Head Tags with SolidJS MetaProvider

Source: https://docs.solidjs.com/solid-meta/getting-started/client-setup

Demonstrates how to use the MetaProvider component from `@solidjs/meta` to inject title, link, and meta tags into the document's head. This requires no special client-side setup beyond rendering the components within MetaProvider.

```jsx
import { MetaProvider, Title, Link, Meta } from "@solidjs/meta";


const App = () => (
  <MetaProvider>
    <div class="Home">
      <Title>Title of page</Title>
      <Link rel="canonical" href="http://solidjs.com/" />
      <Meta name="example" content="whatever" />
      // ...
    </div>
  </MetaProvider>
);
```

--------------------------------

### Style SolidJS Component with Tailwind CSS

Source: https://docs.solidjs.com/guides/styling-components/tailwind

Demonstrates how to replace traditional CSS with Tailwind CSS utility classes directly within a SolidJS component's JSX. This example shows styling for layout and appearance.

```javascript
function Card() {
  return (
    <div class="grid place-items-center min-h-screen">
      <div class="h-[160px] aspect aspect-[2] rounded-[16px] shadow-[0_0_0_4px_hsl(0_0%_0%_/_15%)]">
        Hello, world!
      </div>
    </div>
  );
}
```

--------------------------------

### Using useNavigate for Navigation in SolidJS

Source: https://docs.solidjs.com/solid-router/reference/primitives/use-navigate

Demonstrates how to retrieve the navigation function using useNavigate and perform navigation with options like replacing the history entry. This is typically used within SolidJS components to handle user interactions or conditional redirects.

```javascript
const navigate = useNavigate();

if (unauthorized) {
  navigate("/login", { replace: true });
}
```

--------------------------------

### Define Button Variants with Macaron CSS

Source: https://docs.solidjs.com/guides/styling-components/macaron

Implements different visual styles for the Button component based on variant props, such as 'color'. This allows for easily creating variations like violet or gray buttons.

```typescript
import { styled } from "@macaron-css/solid";


const Button = styled("button", {
  base: {
    backgroundColor: "red",
    borderRadius: "10px",
  },
  variants: {
    color: {
      violet: {
        backgroundColor: "violet",
      },
      gray: {
        backgroundColor: "gray",
      },
    },
  },
});
```

--------------------------------

### Manage HTTP Cookies with Vinxi Helpers in SolidStart Middleware

Source: https://docs.solidjs.com/solid-start/advanced/middleware

Details the usage of `getCookie` and `setCookie` helpers from `vinxi/http` within SolidStart middleware for simplified cookie management. This includes reading existing cookies and setting new ones with options like `httpOnly` and `secure`.

```javascript
import { createMiddleware } from "@solidjs/start/middleware"
import { getCookie, setCookie } from "vinxi/http"


export default createMiddleware({
  onRequest: (event) => {
    // Reading a cookie
    const theme = getCookie(event.nativeEvent, "theme");


    // Setting a secure session cookie with expiration
    setCookie(event.nativeEvent, "session", "abc123", {
      httpOnly: true,
      secure: true,
      maxAge: 60 * 60 * 24, // 1 day
    });
  },
});
```

--------------------------------

### Run Tests (npm)

Source: https://docs.solidjs.com/guides/testing

Executes the defined test script using npm. This command will run all tests configured in the project.

```bash
npm run test
```

--------------------------------

### Memoizing Data Fetching with `cache`

Source: https://docs.solidjs.com/solid-router/reference/data-apis/cache

Demonstrates how to use the `cache` function to memoize an asynchronous data fetching function. The first call to `getUser` with specific arguments triggers a fetch, while subsequent calls with the same arguments return the cached result. This example also shows how changing arguments or after a timeout can trigger new fetches. Note that this API is deprecated.

```javascript
const getUser = query(
  (id, options = {}) =>
    fetch(`/api/users/${id}?summary=${options.summary || false}`).then((r) =>
      r.json()
    ),
  "usersById"
);


getUser(123); // Causes a GET request to /api/users/123?summary=false
getUser(123); // Does not cause a GET request
getUser(123, { summary: true }); // Causes a GET request to /api/users/123?summary=true
setTimeout(() => getUser(123, { summary: true }), 999000); // Eventually causes another GET request to /api/users/123?summary=true
```

--------------------------------

### Basic Usage of useSubmissions in SolidJS

Source: https://docs.solidjs.com/solid-router/reference/data-apis/use-submissions

Illustrates the basic implementation of the `useSubmissions` hook within a SolidJS component. It shows how to define an action, use `useSubmissions` to get submission states, and render the submission data, including pending and error states, within a form.

```javascript
import { For, Show } from "solid-js";
import { action, useSubmissions } from "@solidjs/router";


const addTodoAction = action(async (formData: FormData) => {
  // ... Sends the todo data to the server.
}, "addTodo");


function AddTodoForm() {
  const submissions = useSubmissions(addTodoAction);


  return (
    <div>
      <form action={addTodoAction} method="post">
        <input name="name" />
        <button type="submit">Add</button>
      </form>
      <For each={submissions}>
        {(submission) => (
          <div>
            <span>Adding "{submission.input[0].get("name")?.toString()}"</span>
            <Show when={submission.pending}>
              <span> (pending...)</span>
            </Show>
            <Show when={submission.result?.ok}>
              <span> (completed)</span>
            </Show>
            <Show when={!submission.result?.ok}>
              <span>{` (Error: ${submission.result?.message})`}</span>
              <button onClick={() => submission.retry()}>Retry</button>
            </Show>
          </div>
        )}
      </For>
    </div>
  );
}

```

--------------------------------

### Get Routing State with useIsRouting in SolidJS

Source: https://docs.solidjs.com/solid-router/reference/primitives/use-is-routing

The useIsRouting primitive returns a signal indicating if the route is currently transitioning. This is helpful for managing UI states like pending or stale data during concurrent rendering. It takes no arguments and returns a boolean signal.

```javascript
const isRouting = useIsRouting();


return (
  <div classList={{ "grey-out": isRouting() }}>
    <MyAwesomeContent />
  </div>
);
```

--------------------------------

### SolidStart: Handle Data Fetching Errors with ErrorBoundary

Source: https://docs.solidjs.com/solid-start/guides/data-fetching

This snippet illustrates how to gracefully handle errors during data fetching in SolidStart. By wrapping the data rendering logic within an `ErrorBoundary` component from `solid-js`, a fallback UI is displayed when an error occurs. This enhances user experience by preventing application crashes and providing feedback. It also incorporates `Suspense` for loading states.

```typescript
// src/routes/index.tsx
import { ErrorBoundary, Suspense, For } from "solid-js";
import { query, createAsync } from "@solidjs/router";


const getPosts = query(async () => {
  const posts = await fetch("https://my-api.com/posts");
  return await posts.json();
}, "posts");


export default function Page() {
  const posts = createAsync(() => getPosts());
  return (
    <ul>
      <ErrorBoundary fallback={<div>Something went wrong!</div>}>
        <Suspense fallback={<div>Loading...</div>}>
          <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
        </Suspense>
      </ErrorBoundary>
    </ul>
  );
}

```

```javascript
// src/routes/index.jsx
import { ErrorBoundary, Suspense, For } from "solid-js";
import { query, createAsync } from "@solidjs/router";


const getPosts = query(async () => {
  const posts = await fetch("https://my-api.com/posts");
  return await posts.json();
}, "posts");


export default function Page() {
  const posts = createAsync(() => getPosts());
  return (
    <ul>
      <ErrorBoundary fallback={<div>Something went wrong!</div>}>
        <Suspense fallback={<div>Loading...</div>}>
          <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
        </Suspense>
      </ErrorBoundary>
    </ul>
  );
}

```

--------------------------------

### Send JSON Responses with Solid Router's json Helper

Source: https://docs.solidjs.com/solid-start/advanced/middleware

Demonstrates how to use the `json` helper function from `@solidjs/router` to send custom JSON responses. This is particularly useful for API endpoints within a Solid.js application. It shows an example of rejecting unauthorized requests by returning a JSON error object with a 401 status code.

```typescript
import { createMiddleware } from "@solidjs/start/middleware";
import { json } from "@solidjs/router";


export default createMiddleware({
  onRequest: (event) => {
    // Rejecting unauthorized API requests with a JSON error
    const authHeader = event.request.headers.get("Authorization");
    if (!authHeader) {
      return json({ error: "Unauthorized" }, { status: 401 });
    }
  },
});

```

--------------------------------

### Show Pending UI During SolidStart Action Execution

Source: https://docs.solidjs.com/solid-start/guides/data-mutation

Explains how to display a pending UI state while a SolidStart action is executing. This is achieved by importing 'useSubmission' and using its 'pending' property to conditionally render UI elements, such as disabling a button or showing a loading message.

```typescript
// src/routes/index.tsx
import { action, useSubmission } from "@solidjs/router";


const addPost = action(async (formData: FormData) => {
  const title = formData.get("title") as string;
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  const submission = useSubmission(addPost);
  return (
    <form action={addPost} method="post">
      <input name="title" />
      <button disabled={submission.pending}>
        {submission.pending ? "Adding..." : "Add Post"}
      </button>
    </form>
  );
}

```

```javascript
// src/routes/index.jsx
import { action, useSubmission } from "@solidjs/router";


const addPost = action(async (formData) => {
  const title = formData.get("title");
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  const submission = useSubmission(addPost);
  return (
    <form action={addPost} method="post">
      <input name="title" />
      <button disabled={submission.pending}>
        {submission.pending ? "Adding..." : "Add Post"}
      </button>
    </form>
  );
}

```

--------------------------------

### Create Navigation Links with A Component (SolidJS)

Source: https://docs.solidjs.com/guides/routing-and-navigation

Explains how to create navigation links using the `<A>` component for declarative routing. It also mentions that native anchor tags can be used, but `<A>` offers additional features like `inactiveClass` and `activeClass`.

```javascript
import { render } from "solid-js/web";
import { Router, Route, A } from "@solidjs/router";


import Home from "./pages/Home";
import Users from "./pages/Users";
import NotFound from "./pages/NotFound";


const App = (props) => (
  <>
    <nav>
      <A href="/">Home</A>
      <A href="/users">Users</A>
    </nav>
    <h1>Site Title</h1>
    {props.children}
  </>
);


render(
  () => (
    <Router root={App}>
      <Route path="/" component={Home} />
      <Route path="/users" component={Users} />
      <Route path="*paramName" component={NotFound} />
    </Router>
  ),
  document.getElementById("root")
);
```

--------------------------------

### Return JSON Response from SolidStart Server Function (TypeScript)

Source: https://docs.solidjs.com/solid-start/advanced/return-responses

Demonstrates returning a JSON Response object from a SolidStart server function using the `json` helper from `@solidjs/router`. This example includes setting cache control headers and returning a promise for the JSON value.

```typescript
import { json } from "@solidjs/router";
import { GET } from "@solidjs/start";


const hello = GET(async (name: string) => {
  "use server";
  return json(
    { hello: new Promise<string>((r) => setTimeout(() => r(name), 1000)) },
    { headers: { "cache-control": "max-age=60" } }
  );
});

```

--------------------------------

### Handle Errors in SolidJS Router Actions

Source: https://docs.solidjs.com/solid-start/guides/data-mutation

Demonstrates how to catch and display errors that occur during a SolidJS Router action. It utilizes the `useSubmission` hook to access the `error` property for display. This is applicable for general error management within form submissions.

```typescript
// src/routes/index.tsx
import { Show } from "solid-js";
import { action, useSubmission } from "@solidjs/router";


const addPost = action(async (formData: FormData) => {
  const title = formData.get("title") as string;
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  const submission = useSubmission(addPost);
  return (
    <form action={addPost} method="post">
      <Show when={submission.error}>
        <p>{submission.error.message}</p>
      </Show>
      <input name="title" />
      <button>Add Post</button>
    </form>
  );
}

```

```javascript
// src/routes/index.jsx
import { Show } from "solid-js";
import { action, useSubmission } from "@solidjs/router";


const addPost = action(async (formData) => {
  const title = formData.get("title");
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  const submission = useSubmission(addPost);
  return (
    <form action={addPost} method="post">
      <Show when={submission.error}>
        <p>{submission.error.message}</p>
      </Show>
      <input name="title" />
      <button>Add Post</button>
    </form>
  );
}

```

--------------------------------

### SolidJS createSelector: Example Usage with List Selection

Source: https://docs.solidjs.com/reference/secondary-primitives/create-selector

Demonstrates how to use createSelector to apply an 'active' class to list items based on a selected ID. This approach is more performant than direct comparison within the template, as it minimizes DOM updates when the selected ID changes.

```typescript
import { createSignal, createSelector, For } from "solid-js"


const [selectedId, setSelectedId] = createSignal()
const isSelected = createSelector(selectedId)


<For each={list()}>
  {(item) => <li classList={{ active: isSelected(item.id) }}>{item.name}</li>}
</For>
```

--------------------------------

### Initialize SST in a SolidStart Project

Source: https://docs.solidjs.com/guides/deployment-options/aws-via-sst

Commands to initialize the SST framework within an existing SolidStart project. SST will detect the SolidStart app and prompt for configuration updates.

```bash
npx sst@latest init

```

```bash
pnpx sst@latest init

```

```bash
yarn dlx sst@latest init

```

```bash
bunx sst@latest init

```

```bash
dpx sst@latest init

```

--------------------------------

### runWithOwner API Documentation

Source: https://docs.solidjs.com/reference/reactive-utilities/run-with-owner

Details on the runWithOwner function, including its signature, purpose, and how it helps manage reactive scope and context.

```APIDOC
## runWithOwner

### Description
Executes a given function under a specified owner, overriding the default owner context. This is crucial for managing the lifecycle of reactive computations (like effects and memos) and for correct context lookups (`useContext`), especially when dealing with asynchronous operations.

### Method
Function

### Signature
`runWithOwner<T>(owner: Owner, fn: (() => void) => T): T`

### Parameters
#### Owner Context
- **owner** (Owner) - The owner to associate with the execution of the function `fn`.

#### Function to Execute
- **fn** (() => void) => T - The function to be executed within the provided owner context. This function can optionally return a value of type `T`.

### Purpose
1.  **Lifecycle Management**: Ensures that reactive computations created within `fn` are properly disposed when the specified `owner` is disposed, preventing memory leaks.
2.  **Context Management**: Allows `useContext` to correctly traverse the owner tree to find the appropriate context provider, even when called outside the default reactive scope.
3.  **Asynchronous Operations**: Essential for restoring the original owner context in asynchronous callbacks (e.g., `setTimeout`, `async` functions) that otherwise lose their owner.

### Example Usage

```javascript
import { runWithOwner, getOwner, useContext, createEffect } from "solid-js"
import { FooContext } from "./context"

const owner = getOwner() // Get the current owner

setTimeout(() => {
  // This callback would normally run without an owner.
  // Restore the owner and execute within its context:
  runWithOwner(owner, () => {
    const foo = useContext(FooContext) // Correctly look up context
    createEffect(() => {
      console.log(foo)
    }) // Effect is now owned by the original 'owner'
  })
}, 1000)
```

### Important Note
`runWithOwner` manages the *owner* context for disposal and context lookup. It does **not** alter how reactive dependencies are tracked. Using reactive state after an `await` or in other asynchronous parts of `fn` will still not be tracked as a dependency unless explicitly managed.
```

--------------------------------

### Solid Meta Link Component: Basic Usage

Source: https://docs.solidjs.com/solid-meta/reference/meta/link

The Link component from '@solidjs/meta' is used to render a 'link' element within the document's head. It's commonly used for linking stylesheets or other external resources. This basic example shows how to link a favicon.

```jsx
import { Link } from "@solidjs/meta";
<Link rel="icon" href="/favicon.ico" />;
```

--------------------------------

### Provide Root Layout (SolidJS)

Source: https://docs.solidjs.com/guides/routing-and-navigation

Illustrates how to provide a root-level layout component to the `<Router />`. This layout is ideal for persistent elements like navigation or context providers and does not re-render on route changes.

```javascript
import { render } from "solid-js/web";
import { Router } from "@solidjs/router";


const App = (props) => (
  <>
    <h1>Site Title</h1>
    {props.children}
  </>
);


render(() => <Router root={App} />, document.getElementById("root"));
```

--------------------------------

### Implementing Wildcard Routes in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Illustrates the use of the wildcard token (*) in SolidJS for matching any descendent routes or any value within a path segment. It shows how to use a named wildcard to expose the matched portion to the component.

```javascript
// Will match any path beginning with foo (eg. foo/, foo/a/, foo/a/b/c)
<Route path="foo/*" component={Foo} />
```

```javascript
<Route path="foo/*any" component={Foo} />
```

--------------------------------

### Handle Async States with createAsync in SolidJS Router

Source: https://docs.solidjs.com/solid-router/data-fetching/how-to/handle-error-and-loading-states

This snippet demonstrates the use of the `createAsync` primitive from `@solidjs/router` to manage asynchronous operations. It integrates with `Suspense` for pending states and `ErrorBoundary` for error handling, providing fallbacks for loading and error messages. The example fetches news items and displays them or shows appropriate messages.

```typescript
import { Suspense, ErrorBoundary, For } from "solid-js";
import { query, createAsync } from "@solidjs/router";


const getNewsQuery = query(async () => {
  // ... Fetches the latest news from an API.
}, "news");


function NewsFeed() {
  const news = createAsync(() => getNewsQuery());


  return (
    <ErrorBoundary fallback={<p>Could not fetch news.</p>}>
      <Suspense fallback={<p>Loading news...</p>}>
        <ul>
          <For each={news()}>{(item) => <li>{item.headline}</li>}</For>
        </ul>
      </Suspense>
    </ErrorBoundary>
  );
}

```

--------------------------------

### Run Tests (deno)

Source: https://docs.solidjs.com/guides/testing

Executes the defined test script using deno. This command will run all tests configured in the project.

```bash
deno run test
```

--------------------------------

### Solid.js Custom Directives with `use:___` (Directives Interface)

Source: https://docs.solidjs.com/configuration/typescript

Illustrates how to create and use custom directives in Solid.js using the `use:___` attribute. This example shows the traditional `Directives` interface for typing directive values, specifically for a 'model' directive that synchronizes an input element's value with a signal.

```typescript
function model(
  element: Element, // directives can be used on any HTML and SVG element
  value: Accessor<Signal<string>> // second param will always be an accessor in case value being reactive
) {
  const [field, setField] = value();
  createRenderEffect(() => (element.value = field()));
  element.addEventListener("input", (e) => {
    const value = (e.target as HTMLInputElement).value;
    setField(value);
  });
}


declare module "solid-js" {
  namespace JSX {
    interface Directives {
      model: Signal<string>; // Corresponds to `use:model`
    }
  }
}


// Usage
let [name, setName] = createSignal("");
<input type="text" use:model={[name, setName]} />;
```

--------------------------------

### Implement HashRouter for Client-Side Routing in SolidJS

Source: https://docs.solidjs.com/solid-router/reference/components/hash-router

Demonstrates how to set up and use the HashRouter component from '@solidjs/router' for client-side navigation in a SolidJS application. This approach uses URL hash values, making it suitable for static file servers but less SEO-friendly. It requires a root component to manage navigation and route context.

```javascript
import { render } from "solid-js/web";
import { HashRouter, Route } from "@solidjs/router";


const App = (props) => (
  <>
    <h1>Root header</h1>
    {props.children}
  </>
);


render(
  () => <HashRouter root={App}>{/*... routes */}</HashRouter>,
  document.getElementById("app")
);

```

--------------------------------

### TypeScript Definitive Assignment Assertion for Refs in Solid.js

Source: https://docs.solidjs.com/concepts/refs

Provides an example of using a definitive assignment assertion in TypeScript when declaring a ref variable. This tells the TypeScript compiler that the variable will be assigned by Solid, even though static analysis cannot confirm it.

```typescript
let myElement!: HTMLDivElement;
```

--------------------------------

### SolidJS: For Loop with Dynamic Styling

Source: https://docs.solidjs.com/concepts/control-flow/list-rendering

Illustrates how to use the `index` signal within the `<For>` component's callback to dynamically style list items based on their position. This example shows conditional styling applied to an `<li>` element. Dependencies include the `For` component from 'solid-js'.

```jsx
<For each={data()}>
  {(item, index) => (
    <li
      style={{
        color: index() % 2 === 0 ? "red" : "blue"
      }}
    >
      {item.name}
    </li>
  )}
</For>
```

--------------------------------

### SolidStart Vitest Configuration

Source: https://docs.solidjs.com/guides/testing

Sets up the vitest configuration file (vitest.config.ts) for SolidStart projects. It includes the Solid plugin and configures resolution conditions for development and browser environments.

```typescript
import solid from "vite-plugin-solid"
import { defineConfig } from "vitest/config"


export default defineConfig({
  plugins: [solid()],
  resolve: {
    conditions: ["development", "browser"],
  },
})
```

--------------------------------

### Fetch Private Posts with Server Function (JavaScript)

Source: https://docs.solidjs.com/solid-start/advanced/auth

Demonstrates a server function in SolidStart to fetch private posts. It first retrieves the user and returns null or throws an error if the user is not authenticated. Requires a `getUser` function and a `db` object.

```javascript
"use server"


async function getPrivatePosts() {
  const user = await getUser()
  if(!user) {
    return null  // or throw an error
  }


  return db.getPosts({ userId: user.id, private: true })
}
```

--------------------------------

### SolidJS: Conditional Rendering with Show Component

Source: https://docs.solidjs.com/concepts/components/basics

This example showcases conditional rendering in SolidJS using the `Show` control-flow component. It provides a more readable way to handle conditional logic compared to ternary operators. It requires SolidJS's `createSignal` and the `Show` component. Input is a signal value, and output is JSX rendered based on the `when` condition.

```javascript
function MyComponent() {
  const [count, setCount] = createSignal(0)


  return (
    <div>
      <Show
        when={count() > 5}
        fallback={
          <>
            <p>Count: {count()}</p>
            <button onClick={() => setCount((prev) => prev+1)}>Increment</button>
          </>
        }
      >
        <div>Count limit reached</div>
      </Show>
    </div>
  )
}

```

--------------------------------

### SolidJS Batching for Performance Improvement

Source: https://docs.solidjs.com/reference/reactive-utilities/batch

Demonstrates how SolidJS's `batch` function can improve performance by preventing multiple recomputations of a dependent memo. The first example shows individual updates causing multiple recomputations, while the second shows `batch` grouping updates to trigger only one recomputation.

```typescript
import { createSignal, createMemo, createEffect } from "solid-js"
const [up1, setUp1] = createSignal(1)
const [up2, setUp2] = createSignal(2)
const [up3, setUp3] = createSignal(3)
const down = createMemo(() => up1() + up2() + up3())
// For illustration, monitor when `down` gets recomputed:
createEffect(() => console.log(down())) // outputs 6

setUp1(4) // recomputes down, outputs 9
setUp2(5) // recomputes down, outputs 12
setUp3(6) // recomputes down, outputs 15
```

```typescript
import { batch } from "solid-js"
import { createSignal, createMemo, createEffect } from "solid-js"
const [up1, setUp1] = createSignal(1)
const [up2, setUp2] = createSignal(2)
const [up3, setUp3] = createSignal(3)
const down = createMemo(() => up1() + up2() + up3())
// For illustration, monitor when `down` gets recomputed:
createEffect(() => console.log(down())) // outputs 6

batch(() => {
  setUp1(10) // doesn't update down yet
  setUp2(10) // doesn't update down yet
  setUp3(10) // doesn't update down yet
}) // recomputes down, outputs 30
```

--------------------------------

### SolidJS: Create Signal from Custom Producer Function with `from`

Source: https://docs.solidjs.com/reference/reactive-utilities/from

This example shows how to use the `from` utility with a custom producer function. The producer function receives a `set` callback to update the Signal's value and must return an unsubscribe function to clean up resources. Here, it creates a Signal that increments every second.

```typescript
import { from } from "solid-js"

const clock = from((set) => {
  const interval = setInterval(() => {
    set((v) => v + 1)
  }, 1000)

  return () => clearInterval(interval)
})
```

--------------------------------

### SolidJS: Using modifyMutable with reconcile for Object Replacement

Source: https://docs.solidjs.com/reference/store-utilities/modify-mutable

This example demonstrates using modifyMutable in conjunction with reconcile to replace a nested part of the store. It effectively updates the 'state.user' object with new values, and any fields not present in the reconcile object are deleted from the original store.

```javascript
import { modifyMutable, reconcile } from "solid-js/store"


// Replace state.user with the specified object (deleting any other fields)
modifyMutable(
  state.user,
  reconcile({
    firstName: "Jane",
    lastName: "Doe",
  })
);
```

--------------------------------

### Solid Router Action: Passing Additional Arguments with .with()

Source: https://docs.solidjs.com/solid-router/reference/data-apis/action

Demonstrates how to use the '.with()' method on an action to pass additional arguments. This is useful when the action needs context, such as a user ID, beyond the form data, and shows how to integrate this with a form submission.

```javascript
import { action } from "@solidjs/router";


const addTodoAction = action(async (userId: number, formData: FormData) => {
  // ... Adds a new todo for a specific user.
}, "addTodo");


function TodoForm() {
  const userId = 1;
  return (
    <form action={addTodoAction.with(userId)} method="post">
      <input name="name" />
      <button>Add todo</button>
    </form>
  );
}
```

--------------------------------

### SolidJS Derived Signal based on Store

Source: https://docs.solidjs.com/concepts/derived-values/derived-signals

This example demonstrates creating a derived signal that depends on values within a SolidJS store. It concatenates the `firstName` and `lastName` from the store to form a `fullName`. Stores in SolidJS utilize signals internally, making them compatible with derived signals.

```javascript
const fullName = () => store.firstName + ' ' + store.lastName;

```

--------------------------------

### Setting Header for Catch-all Routes

Source: https://docs.solidjs.com/solid-start/reference/server/http-header

Demonstrates how to use HttpHeader within a catch-all route (e.g., a 404 page) to set a custom header.

```APIDOC
## Setting a header for catch-all routes

### Description
Example of using `HttpHeader` and `HttpStatusCode` in a catch-all route component to set a 404 status code and a custom header.

### Method
Component (used within SolidStart pages)

### Endpoint
N/A (Component within a catch-all route)

### Parameters
#### Props (for HttpHeader)
- **name** (string) - Required - The name of the header to set.
- **value** (string) - Required - The value of the header to set.

### Request Example
```jsx
import { HttpHeader, HttpStatusCode } from "@solidjs/start";

export default function NotFound() {
  return (
    <div>
      <HttpStatusCode code={404} />
      <HttpHeader name="my-header" value="header-value" />
    </div>
  );
}
```

### Response
#### Success Response (200)
Sets the HTTP status code to 404 and adds the `my-header: header-value` to the response headers.
```

--------------------------------

### Suspense with Show Component (SolidJS) - Limited Benefit

Source: https://docs.solidjs.com/reference/components/suspense

A SolidJS example demonstrating Suspense combined with the Show component. In this scenario, Suspense offers limited added benefit as DOM nodes are not created within the Suspense boundary before the resource resolves, similar to using only the Show component.

```javascript
const MyComponentWithSuspenseAndShow = () => {
  const [profile] = createResource(async () => {
    /* fetcher code here */
  })
  return (
    <Suspense fallback={<div>fetching user data</div>}>
      <Show when={profile()}>
        <div>{profile().name}</div>
        <div>{profile().email}</div>
      </Show>
    </Suspense>
  )
}
```

--------------------------------

### Action API Reference

Source: https://docs.solidjs.com/solid-router/reference/data-apis/action

Details on importing, typing, parameters, and return values of the `action` function.

```APIDOC
## Action API Reference

### Import

```javascript
import { action } from "@solidjs/router";
```

### Type Signature

```javascript
function action<T extends Array<any>, U = void>(
  fn: (...args: T) => Promise<U>,
  options?: string | { name?: string; onComplete?: (s: Submission<T, U>) => void }
): Action<T, U>;
```

### Parameters

#### `handler` (`fn`)
* **Type:** `(...args: T) => Promise<U>`
* **Required:** Yes

An asynchronous function that performs the action's logic. When used with a `<form>`, it receives a `FormData` object as its first parameter.

#### `options`
* **Type:** `string | { name?: string; onComplete?: (s: Submission<T, U>) => void }`
* **Required:** No

A unique string identifier for SSR, or a configuration object.
  * **`name`**: (string, optional) - Unique identifier for SSR, required for `<form>` usage.
  * **`onComplete`**: (function, optional) - Callback function executed after the action completes, receiving a submission object.

### Return Value

The `action` function returns an `Action` object with a `with` method.

#### `with` Method

A method that wraps the original action, forwarding arguments. When used with a `<form>`, `FormData` is passed as the last argument.
```

--------------------------------

### Define a SolidJS Custom Directive Function

Source: https://docs.solidjs.com/reference/jsx-attributes/use

A directive function receives the DOM element and an accessor to a signal. It can perform side effects like creating signals or effects. This example demonstrates a `model` directive for two-way data binding on an input element.

```typescript
import type { Accessor, Signal } from "solid-js";
import { createRenderEffect } from "solid-js";


function model(element: HTMLInputElement, value: Accessor<Signal<string>>) {
  const [field, setField] = value();
  createRenderEffect(() => (element.value = field()));
  element.addEventListener("input", ({ target }) => setField(target.value));
}


const [name, setName] = createSignal("");


<input type="text" use:model={[name, setName]} />;
```

--------------------------------

### Define and Use a Preload Function in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Demonstrates how to define a preload function that receives route parameters and location, and how to pass this function to the `<Route>` component in SolidJS router.

```javascript
import { lazy } from "solid-js";
import { Route } from "@solidjs/router";


const User = lazy(() => import("./pages/users/[id].js"));


// preload function
function preloadUser({ params, location }) {
  // do preload
}

<Route path="/users/:id" component={User} preload={preloadUser} />
```

--------------------------------

### Add Tailwind CSS Directives to CSS

Source: https://docs.solidjs.com/guides/styling-components/tailwind-v3

Includes the essential Tailwind directives (`@tailwind base`, `@tailwind components`, `@tailwind utilities`) in your main CSS file (`src/index.css`). These directives enable Tailwind's styles and should be placed at the top.

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

--------------------------------

### Optional Parameters in SolidStart Routes

Source: https://docs.solidjs.com/solid-start/building-your-application/routing

Illustrates how to define optional route parameters using double square brackets `[[id]]`. This allows a route to match URLs both with and without the specified parameter, providing flexibility in route matching.

```file-structure
|-- routes/
    |-- users/
        |-- [[id]].tsx
```

--------------------------------

### Dynamic Class Styling in SolidJS

Source: https://docs.solidjs.com/concepts/components/class-style

Shows how to dynamically apply CSS classes to an element in SolidJS based on component state. This allows for conditional styling without needing separate components. The example uses a ternary operator to switch between 'light-theme' and 'dark-theme' classes.

```jsx
const [theme, setTheme] = createSignal("light");


<div class={theme() === "light" ? "light-theme" : "dark-theme"}>
  This div's theme is determined dynamically!
</div>;
```

--------------------------------

### SolidJS useTransition Hook Declaration

Source: https://docs.solidjs.com/reference/reactive-utilities/use-transition

Declares the useTransition hook from SolidJS, which provides a way to manage asynchronous updates. It returns a boolean indicating pending state and a function to start a transition, deferring updates until all async processes complete. This functionality is tied to Suspense.

```typescript
import { useTransition } from "solid-js"


function useTransition(): [
  pending: () => boolean,
  startTransition: (fn: () => void) => Promise<void>
]
```

--------------------------------

### SolidJS `on` Utility: Basic Usage

Source: https://docs.solidjs.com/reference/reactive-utilities/on-util

Demonstrates the basic usage of the `on` utility in SolidJS to make dependencies explicit within a `createEffect`. It shows the equivalent code without `on` for comparison.

```javascript
createEffect(on(a, (v) => console.log(v, b())));


// is equivalent to:
createEffect(() => {
  const v = a();
  untrack(() => console.log(v, b()));
});
```

--------------------------------

### SolidJS `on` Utility with Stores: Correct Usage

Source: https://docs.solidjs.com/reference/reactive-utilities/on-util

Demonstrates the correct method for using the `on` utility with SolidJS stores by wrapping the store access in an arrow function, ensuring proper dependency tracking.

```javascript
// instead, use an arrow function
createEffect(
  on(
    () => state.a,
    (v) => console.log(v)
  )
);


setState({ a: 4 }); // logs 4
```

--------------------------------

### Avoid Side Effects in SolidJS Memos

Source: https://docs.solidjs.com/concepts/derived-values/memos

Shows an example of a memo with a side effect, which can lead to infinite loops and application crashes. This demonstrates a `setMessage` call within the memo's logic when a condition is met. Dependencies include `createSignal` and `createMemo` from 'solid-js'.

```javascript
import { createSignal, createMemo } from "solid-js"


const [count, setCount] = createSignal(0)
const [message, setMessage] = createSignal("")


const badMemo = createMemo(() => {
  if (count() > 10) {
    setMessage("Count is too high!") //  side effect
  }
  return count() % 2 === 0
})
```

--------------------------------

### Get Stable Server Function ID with getServerFunctionMeta (SolidStart)

Source: https://docs.solidjs.com/solid-start/reference/server/get-server-function-meta

The `getServerFunctionMeta` function from `@solidjs/start` returns a stable, function-specific ID string. This ID remains consistent across different instances when server functions are executed in parallel on multiple CPU cores or workers. Note that this `id` property is subject to change between builds.

```typescript
import { getServerFunctionMeta } from "@solidjs/start";


// or some in-memory db
const appCache: any = globalThis;


const counter = async () => {
  "use server";
  const { id } = getServerFunctionMeta()!;
  const key = `counter_${id}`;
  appCache[key] = appCache[key] ?? 0;
  appCache[key]++;


  return appCache[key] as number;
};
```

--------------------------------

### Define Single Route in Solid Router using JSX

Source: https://docs.solidjs.com/solid-router/getting-started/component

This code snippet shows the basic setup for defining a single route in Solid Router. It imports necessary components from '@solidjs/router' and 'solid-js/web' to render a component at the root path. The 'Route' component takes 'path' and 'component' props.

```javascript
import { render } from "solid-js/web";
import { Router, Route } from "@solidjs/router";


import Home from "./routes/Home";


render(
    () => (
        <Router>
            <Route path="/" component={Home} />
        </Router>
    ),
    document.getElementById("app")
);
```

--------------------------------

### Retrieve and Parse URL Location in SolidJS

Source: https://docs.solidjs.com/solid-router/reference/primitives/use-location

The `useLocation` hook provides a reactive object representing the current URL location. This object includes properties like `pathname`, `search`, `hash`, and `state`. The example also demonstrates how to use `createMemo` to parse the `pathname` into a more usable format, which can be helpful for conditional rendering or data fetching based on the URL.

```javascript
const location = useLocation();


const pathname = createMemo(() => parsePath(location.pathname));
```

--------------------------------

### Use Server-Only Database Access in SolidJS Actions

Source: https://docs.solidjs.com/solid-start/guides/data-mutation

Securely interact with databases or ORMs within SolidJS actions by adding `"use server"` as the first line of your action function. This directive ensures that the code runs exclusively on the server, preventing direct client-side access to sensitive operations like database insertions.

```typescript
// src/routes/index.tsx
import { action } from "@solidjs/router";
import { db } from "~/lib/db";


const addPost = action(async (formData: FormData) => {
  "use server";
  const title = formData.get("title") as string;
  await db.insert("posts").values({ title });
}, "addPost");


export default function Page() {
  return (
    <form action={addPost} method="post">
      <input name="title" />
      <button>Add Post</button>
    </form>
  );
}

```

```javascript
// src/routes/index.jsx
import { action } from "@solidjs/router";
import { db } from "~/lib/db";


const addPost = action(async (formData) => {
  "use server";
  const title = formData.get("title");
  await db.insert("posts").values({ title });
}, "addPost");


export default function Page() {
  return (
    <form action={addPost} method="post">
      <input name="title" />
      <button>Add Post</button>
    </form>
  );
}

```

--------------------------------

### Login to Zerops CLI

Source: https://docs.solidjs.com/guides/deployment-options/zerops

Logs the Zerops CLI into your Zerops account using a provided access token. This is a necessary step before deploying applications.

```bash
zcli login <token>
```

--------------------------------

### SolidJS ErrorBoundary Component Usage

Source: https://docs.solidjs.com/reference/components/error-boundary

Demonstrates how to implement the ErrorBoundary component in SolidJS to catch rendering errors and display a custom fallback UI. It imports the necessary ErrorBoundary component and an example ErrorProne component. The fallback UI includes the error message and a button to reset the error state.

```jsx
import { ErrorBoundary } from "solid-js";
import { ErrorProne } from "./components";


function Example() {
  return (
    <ErrorBoundary
      fallback={(error, reset) => (
        <div>
          <p>{error.message}</p>
          <button onClick={reset}>Try Again</button>
        </div>
      )}
    >
      <ErrorProne />
    </ErrorBoundary>
  );
}

```

--------------------------------

### Use Custom Title Component

Source: https://docs.solidjs.com/solid-start/building-your-application/head-and-metadata

Integrates the custom MySiteTitle component into a route to apply a standardized title format. This simplifies title management and ensures a consistent site suffix.

```typescript
import MySiteTitle from "~/components/MySiteTitle";


export default function About() {
  return (
    <>
      <MySiteTitle>About</MySiteTitle>
      <h1>About</h1>
    </>
  );
}
```

--------------------------------

### Import CSS in SolidStart Component

Source: https://docs.solidjs.com/solid-start/building-your-application/css-and-styling

Demonstrates how to import a CSS file directly into a SolidStart component using Vite's ESM import syntax. This method applies global styles defined in the CSS file to the component.

```jsx
import "./Card.css";


const Card = (props) => {
  return (
    <div class="card">
      <h1>{props.title}</h1>
      <p>{props.text}</p>
    </div>
  );
};

```

--------------------------------

### Setting a 404 status code for missing pages with dynamic routes

Source: https://docs.solidjs.com/solid-start/reference/server/http-status-code

Illustrates how to conditionally set a 404 status code using HttpStatusCode within an ErrorBoundary when a dynamic route parameter results in a missing resource.

```APIDOC
## GET /websites/solidjs/house/:name

### Description
Dynamically fetches house data based on the route parameter `:name`. If the house is not found (e.g., 'gryffindor'), it returns a 404 status code and renders an error message.

### Method
GET

### Endpoint
/websites/solidjs/house/:name

### Parameters
#### Path Parameters
- **name** (string) - Required - The name of the house to fetch.

#### Query Parameters
- None

#### Request Body
- None

### Request Example
(Example of accessing the route)
`GET /websites/solidjs/house/gryffindor`
`GET /websites/solidjs/house/slytherin`

### Response
#### Success Response (200 or 404)
- If the house is found (e.g., 'gryffindor'), the response will have a 200 status code and display the house name.
- If the house is not found (e.g., 'slytherin'), the response will have a 404 status code.

#### Response Example
(Successful fetch for 'gryffindor')
```html
<div>gryffindor</div>
```

(Error scenario with 404 status for 'slytherin')
```html
<div>
  <HttpStatusCode code={404} />
  <h1>House not found</h1>
</div>
```
```

--------------------------------

### Validate Form Fields in SolidJS Router Actions

Source: https://docs.solidjs.com/solid-start/guides/data-mutation

Illustrates how to validate form input fields within a SolidJS Router action. The action returns specific error messages if validation fails, which are then displayed to the user using the `submission.result?.error` property. This is crucial for data integrity.

```typescript
// src/routes/index.tsx
import { Show } from "solid-js";
import { action, useSubmission } from "@solidjs/router";


const addPost = action(async (formData: FormData) => {
  const title = formData.get("title") as string;
  if (!title || title.length < 2) {
    return {
      error: "Title must be at least 2 characters",
    };
  }
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  const submission = useSubmission(addPost);
  return (
    <form action={addPost} method="post">
      <input name="title" />
      <Show when={submission.result?.error}>
        <p>{submission.result?.error}</p>
      </Show>
      <button>Add Post</button>
    </form>
  );
}

```

```javascript
// src/routes/index.jsx
import { Show } from "solid-js";
import { action, useSubmission } from "@solidjs/router";


const addPost = action(async (formData) => {
  const title = formData.get("title");
  if (!title || title.length < 2) {
    return {
      error: "Title must be at least 2 characters",
    };
  }
  await fetch("https://my-api.com/posts", {
    method: "POST",
    body: JSON.stringify({ title }),
  });
}, "addPost");


export default function Page() {
  const submission = useSubmission(addPost);
  return (
    <form action={addPost} method="post">
      <input name="title" />
      <Show when={submission.result?.error}>
        <p>{submission.result?.error}</p>
      </Show>
      <button>Add Post</button>
    </form>
  );
}

```

--------------------------------

### SolidStart Configuration API

Source: https://docs.solidjs.com/solid-start/reference/config/define-config

The `defineConfig` helper is used within `app.config.ts` to configure SolidStart, Vite, and Nitro settings.

```APIDOC
## POST /websites/solidjs/config

### Description
This endpoint describes the configuration options available for SolidStart applications using the `defineConfig` helper.

### Method
POST

### Endpoint
/websites/solidjs/config

### Parameters
#### Request Body
- **ssr** (boolean) - Optional - Toggle between client and server rendering. Defaults to `true`.
- **solid** (object) - Optional - Configuration object for `vite-plugin-solid`.
  - **extensions** (string[]) - Optional - Array of file extensions to be treated as routes. Defaults to `["js", "jsx", "ts", "tsx"]`.
- **server** (object) - Optional - Nitro server config options.
  - **preset** (string) - Optional - Nitro build and deployment preset. Examples: `node` (default), `netlify_edge`, `cloudflare_module`.
  - **rollupConfig** (object) - Optional - Rollup configuration for specific server presets like `cloudflare_module`.
    - **external** (string[]) - Optional - Array of modules to be treated as external.
- **appRoot** (string) - Optional - The path to the root of the application. Defaults to `./src`.
- **routeDir** (string) - Optional - The path to where the routes are located. Defaults to `./routes`.
- **middleware** (string) - Optional - The path to an optional middleware file.
- **devOverlay** (boolean) - Optional - Toggle the dev overlay. Defaults to `true`.
- **experimental** (object) - Optional - Experimental features.
  - **islands** (boolean) - Optional - Enable "islands" mode. Defaults to `false`.
- **vite** (`ViteConfig` or `({ router })=>ViteConfig`) - Optional - Vite config object. Can be configured for each `router` which has the string value "server", "client" or "server-function".

### Request Example
```json
{
  "ssr": true,
  "vite": {
    "plugins": []
  },
  "server": {
    "preset": "netlify_edge"
  }
}
```

### Response
#### Success Response (200)
- **status** (string) - Indicates the success of the configuration operation.

#### Response Example
```json
{
  "status": "Configuration applied successfully"
}
```
```

--------------------------------

### Get and Set Search Parameters with useSearchParams in SolidJS

Source: https://docs.solidjs.com/solid-router/concepts/search-parameters

This snippet demonstrates how to use the `useSearchParams` hook from Solid Router to access and update URL search parameters. It retrieves a reactive object for reading parameters and a function for updating them. The input field updates the 'username' search parameter when its value changes.

```javascript
import { useSearchParams } from "@solidjs/router";


export const App = () => {
  const [searchParams, setSearchParams] = useSearchParams();


  return (
    <div>
      <span>Username: {searchParams.username}</span>
      <input
        type="text"
        onChange={(e) => {
          e.preventDefault();
          setSearchParams({ username: e.target.value });
        }}
      />
    </div>
  );
};

```

--------------------------------

### Run Tests (bun)

Source: https://docs.solidjs.com/guides/testing

Executes the defined test script using bun. This command will run all tests configured in the project.

```bash
bun run test
```

--------------------------------

### Conditional Execution in SolidJS Development Mode

Source: https://docs.solidjs.com/reference/rendering/dev

This example shows how to execute code only when Solid is in development mode (DEV is true) and not on the server (isServer is false). This pattern is commonly used in libraries or components that need specific behavior or checks during client-side development, which should be omitted in production builds or server-side rendering.

```javascript
import { DEV } from "solid-js"
import { isServer } from "solid-js/web"


if (DEV && !isServer) {
  console.log(...);
}
```

--------------------------------

### Nested Layout Component in SolidStart (TypeScript)

Source: https://docs.solidjs.com/solid-start/building-your-application/routing

Shows how to create a nested layout component in SolidStart using TypeScript. The `blog.tsx` file in the `routes/` directory acts as a layout for routes defined within the `routes/blog/` folder. The layout component receives child routes via `props.children` and renders them.

```typescript
// routes/blog.tsx
import { RouteSectionProps } from "@solidjs/router";


export default function BlogLayout(props: RouteSectionProps) {
  return <div>{props.children}</div>;
}
```

--------------------------------

### SolidJS: Using Refs for DOM Element Access

Source: https://docs.solidjs.com/reference/jsx-attributes/ref

Demonstrates how to use refs in SolidJS to get direct access to DOM elements rendered in JSX. This includes assigning a ref to a variable and using a callback function. The `onMount` lifecycle function is used to access the element after it's connected to the DOM.

```jsx
let myDiv;

onMount(() => console.log(myDiv));

<div ref={myDiv} />

<div ref={el => console.log(el)} />
```

--------------------------------

### Invalidate Queries with Reload in Solid Router (TypeScript)

Source: https://docs.solidjs.com/solid-router/reference/response-helpers/reload

The 'reload' function is used within an 'action' to invalidate specific query keys, triggering a re-fetch of the associated data. It takes a query key or an array of keys to revalidate. This example demonstrates updating a todo item and then reloading its data.

```typescript
import { action, reload } from "@solidjs/router";
import { putTodo, getTodo } from "../db";


const updateTodo = action(async (todo: Todo) => {
  await putTodo(todo.id, todo);


  return reload({ revalidate: getTodo.keyFor(id) });
});
```

--------------------------------

### Create a SolidJS Store with Initial Data

Source: https://docs.solidjs.com/concepts/stores

Demonstrates how to initialize a SolidJS store using the `createStore` function. The store can manage various data types like numbers, arrays, and objects, providing fine-grained reactivity for nested properties.

```javascript
import { createStore } from "solid-js/store"


// Initialize store
const [store, setStore] = createStore({
  userCount: 3,
  users: [
    {
      id: 0,
      username: "felix909",
      location: "England",
      loggedIn: false,
    },
    {
      id: 1,
      username: "tracy634",
      location: "Canada",
      loggedIn: true,
    },
    {
      id: 2,
      username: "johny123",
      location: "India",
      loggedIn: true,
    },
  ],
})
```

--------------------------------

### Read and Update URL Query Parameters with useSearchParams (SolidJS)

Source: https://docs.solidjs.com/solid-router/reference/primitives/use-search-params

This snippet demonstrates how to use the `useSearchParams` hook to get a reactive object representing the current URL's query parameters and a function to update them. It shows how to access a 'page' parameter and increment it on button click. Values are strings, and updates merge into the existing query string, without auto-scrolling.

```jsx
import { useSearchParams } from "@solidjs/router";

function SearchComponent() {
  const [searchParams, setSearchParams] = useSearchParams();

  return (
    <div>
      <span>Page: {searchParams.page}</span>
      <button
        onClick={() =>
          setSearchParams({ page: (parseInt(searchParams.page) || 0) + 1 })
        }
      >
        Next Page
      </button>
    </div>
  );
}

```

--------------------------------

### Implement Routing with SolidStart FileRoutes and solid-router

Source: https://docs.solidjs.com/solid-start/reference/routing/file-routes

This snippet demonstrates how to use the FileRoutes component from SolidStart to automatically generate routes for the solid-router. It sets up a Suspense boundary for lazy loading and includes the FileRoutes component to define the application's routes based on the file structure within the '/src/routes' directory.

```tsx
import { Suspense } from "solid-js";
import { Router } from "@solidjs/router";
import { FileRoutes } from "@solidjs/start/router";


export default function App() {
  return (
    <Router root={(props) => <Suspense>{props.children}</Suspense>}>
      <FileRoutes />
    </Router>
  );
}
```

--------------------------------

### Using attr: Prefix for Web Component Attributes in SolidJS JSX

Source: https://docs.solidjs.com/reference/jsx-attributes/attr

The `attr:` prefix in SolidJS JSX forces a prop to be treated as an attribute instead of a property. This is particularly useful when working with Web Components, where you need to set attributes explicitly. The example shows how to pass a dynamic status prop as an attribute to a custom element.

```jsx
<my-element attr:status={props.status} />

```

--------------------------------

### SolidJS Store Getters

Source: https://docs.solidjs.com/reference/store-utilities/create-store

Demonstrates how to use getters within a SolidJS store to compute derived state.

```APIDOC
## Store Getters

### Description
Store objects can utilize getters to define computed properties based on the store's state.

### Method
N/A (Getter is defined within the store object)

### Endpoint
N/A

### Parameters
None

### Request Example
```javascript
import { createStore } from "solid-js/store";

const [state, setState] = createStore({
  user: {
    firstName: "John",
    lastName: "Smith",
    get fullName() {
      return `${this.firstName} ${this.lastName}`;
    },
  },
});
```

### Response
#### Success Response (200)
- **state.user.fullName** (string) - The computed full name of the user.

#### Response Example
```json
{
  "user": {
    "firstName": "John",
    "lastName": "Smith",
    "fullName": "John Smith"
  }
}
```
```

--------------------------------

### Get Current Owner in SolidJS

Source: https://docs.solidjs.com/reference/reactive-utilities/get-owner

The `getOwner` function retrieves the tracking scope that owns the currently executing code. This is useful for passing the owner to `runWithOwner` outside the current scope. Computations like effects and memos create owner nodes, forming a tree that Solid uses for automatic cleanup of disposed computations and their descendants.

```typescript
import { getOwner } from "solid-js"
import type { Owner } from "solid-js"

function getOwner(): Owner
```

--------------------------------

### SolidJS createMutable: Basic Usage

Source: https://docs.solidjs.com/reference/store-utilities/create-mutable

Demonstrates the basic usage of `createMutable` in SolidJS for creating a mutable store. It shows how to initialize a store with nested properties and how to read and update its values.

```javascript
import { createMutable } from "solid-js/store"


const state = createMutable({
  someValue: 0,
  list: [],
});


// read value
state.someValue;


// set value
state.someValue = 5;


state.list.push(anotherValue);
```

--------------------------------

### Configure SolidStart Server Handler with createHandler

Source: https://docs.solidjs.com/solid-start/reference/server/create-handler

The `createHandler` function initializes the SolidStart server. It accepts a function that generates the static document for your application and configures the server-side rendering (SSR) mode. Supported modes include 'sync' (renderToString), 'async' (renderToStringAsync), and 'stream' (renderToStream).

```typescript
import { createHandler, StartServer } from "@solidjs/start/server";


export default createHandler(() => (
  <StartServer document={...}
  />
), {
  mode: "async"
});
```

--------------------------------

### Building a Basic Effect Primitive

Source: https://docs.solidjs.com/advanced-concepts/fine-grained-reactivity

Outlines a rudimentary implementation of `createEffect`. This simplified version shows how an effect function can be immediately invoked, providing a basic understanding of how effects are initially processed in a reactive system.

```javascript
// ..


function createEffect(fn) {
  fn();
}


// ..


createEffect(() => {
  console.log("The count is " + count());
});
```

--------------------------------

### Enable Prerendering for All Routes in SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/route-prerendering

This code snippet demonstrates how to enable prerendering for all routes in a SolidStart application by setting `crawlLinks` to `true`. This is achieved using the `defineConfig` function from '@solidjs/start/config' and modifying the `server.prerender.crawlLinks` option. This approach is useful for applications where all links should be pre-rendered.

```typescript
import { defineConfig } from "@solidjs/start/config";


export default defineConfig({
  server: {
    prerender: {
      crawlLinks: true
    }
  }
});
```

--------------------------------

### Reconcile Function Signature and Usage in SolidJS Store

Source: https://docs.solidjs.com/reference/store-utilities/reconcile

This snippet shows the type signature of the `reconcile` function, which is used for diffing data changes within SolidJS stores. It accepts a value or a store and optional configuration for keying and merging. The example demonstrates its use within a `setState` call to update store data, often in response to external data changes like observable subscriptions.

```typescript
import { reconcile } from "solid-js/store"
import type { NotWrappable, Store } from "solid-js/store"


function reconcile<T>(
  value: T | Store<T>,
  options?: {
    key?: string | null;
    merge?: boolean;
  } = { key: "id" }
): (
  state: T extends NotWrappable ? T : Store<T>
) => T extends NotWrappable ? T : Store<T>
```

```javascript
// subscribing to an observable
const unsubscribe = store.subscribe(({ todos }) => (
  setState('todos', reconcile(todos)));
);
onCleanup(() => unsubscribe());
```

--------------------------------

### Expose GraphQL API using SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

Implements a GraphQL API by defining a schema and resolvers. The 'graphql' function from the 'graphql' library is used to create an API route handler. It requires the 'graphql' library. Inputs are JSON bodies containing GraphQL queries, and outputs are the results of query execution.

```typescript
import { buildSchema, graphql } from "graphql";
import type { APIEvent } from "@solidjs/start/server";


// Define GraphQL Schema
const schema = buildSchema(`
  type Message {
      message: String
  }


  type Query {
    hello(input: String): Message
    goodbye: String
  }
`);


// Define GraphQL Resolvers
const rootValue = {
  hello: () => {
    return {
      message: "Hello World"
    };
  },
  goodbye: () => {
    return "Goodbye";
  }
};


// request handler
const handler = async (event: APIEvent) => {
  // get request body
  const body = await new Response(event.request.body).json();


  // pass query and save results
  const result = await graphql({ rootValue, schema, source: body.query });


  // send query result
  return result;
};


export const GET = handler;


export const POST = handler;
```

--------------------------------

### Scoped Styles with CSS Modules in SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/css-and-styling

Shows how to use CSS Modules in SolidStart for scoped component styles. By naming CSS files with the `.module.css` extension and importing them, styles are automatically scoped. The imported `styles` object maps human-readable class names to generated, unique class names.

```jsx
import styles from "./Card.module.css";


const Card = (props) => {
  return (
    <div class={styles.card}>
      <h1>{props.title}</h1>
      <p>{props.text}</p>
    </div>
  );
};

```

--------------------------------

### Simulate User Interactions in SolidJS Tests

Source: https://docs.solidjs.com/guides/testing

Demonstrates simulating user interactions like clicks, keyboard input, and touch events in SolidJS tests using `@testing-library/user-event`. It highlights the need for `vi.useFakeTimers()` with `advanceTimers` and details event sequences.

```jsx
import { vi } from "vitest"


const user = userEvent.setup({ advanceTimers: vi.advanceTimersByTime })


vi.useFakeTimers()

describe("pre-login: sign-in", () => {
  const { getByRole, getByLabelText } = render(() => <User />)
  const signUp = getByRole('button', { text: 'Sign-in' })
  // use convenience API click:
  user.click(signUp)
  const name = getByLabelText('Name')
  // use complex keyboard input:
  user.keyboard(name, "{Shift}test{Space}{Shift}user")
  const password = getByLabelText('Password')
  user.keyboard(name, "secret")
  const login = getByRole('button', { text: 'Login' })
  // use touch event
  user.pointer([
    { keys: "[TouchA]" target: login },
    { keys: "[/TouchA]", target: login }
  ])
});
```

--------------------------------

### Basic createResource Usage (No Source Signal)

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

This snippet demonstrates the fundamental usage of createResource where an asynchronous fetcher function is provided without a source signal. The fetcher is called immediately upon creation. `data()` is initially undefined until the fetcher resolves.

```javascript
const [data, { mutate, refetch }] = createResource(fetchData)
```

--------------------------------

### Nested Layout Component in SolidStart (JavaScript)

Source: https://docs.solidjs.com/solid-start/building-your-application/routing

Demonstrates the creation of a nested layout component in SolidStart using plain JavaScript. Similar to the TypeScript version, this `blog.jsx` file serves as a layout for nested routes, rendering its children using `props.children`.

```javascript
// routes/blog.jsx
export default function BlogLayout(props) {
  return <div>{props.children}</div>;
}
```

--------------------------------

### SolidJS: Dynamic Event Handlers via Props

Source: https://docs.solidjs.com/concepts/components/event-handlers

Demonstrates how to handle dynamic events by passing a prop that can accept any function, providing flexibility without direct reactivity of the handler itself.

```jsx
<div onClick={() => props.handleClick?.()} />
```

--------------------------------

### Create and Use a Memo in SolidJS

Source: https://docs.solidjs.com/concepts/derived-values/memos

Demonstrates creating a memoized reactive value using `createMemo` and accessing its value. It shows how the memo updates when its underlying signal changes. Dependencies include `createMemo` and `createSignal` from 'solid-js'.

```javascript
import { createMemo, createSignal } from "solid-js"


const [count, setCount] = createSignal(0)


const isEven = createMemo(() => count() % 2 === 0)


console.log(isEven()) // true


setCount(3)
console.log(isEven()) // false
```

--------------------------------

### Dynamically Import Client-Only Component with clientOnly (JavaScript)

Source: https://docs.solidjs.com/solid-start/reference/client/client-only

This code shows how to use the `clientOnly` function to dynamically import a client-side component. It allows the parent component to render a component that is guaranteed to run only in the browser. The `clientOnly` function takes a function that returns a dynamic import of the component.

```javascript
import { clientOnly } from "@solidjs/start";


const ClientOnlyComp = clientOnly(() => import("./ClientOnlyComponent"));


export default function IsomorphicComponent() {
  return <ClientOnlyComp />;
}
```

--------------------------------

### SolidJS createMutable: Getters and Setters

Source: https://docs.solidjs.com/reference/store-utilities/create-mutable

Illustrates how to use getters and setters with `createMutable` in SolidJS. This allows for computed properties and custom logic when accessing or modifying store values.

```javascript
const user = createMutable({
  firstName: "John",
  lastName: "Smith",
  get fullName() {
    return `${this.firstName} ${this.lastName}`;
  },
  set setFullName(value) {
    [this.firstName, this.lastName] = value.split(" ");
  },
});
```

--------------------------------

### Setting a 404 status code for unmatched routes

Source: https://docs.solidjs.com/solid-start/reference/server/http-status-code

Demonstrates how to use HttpStatusCode within a SolidJS component to set a 404 status for routes that do not match any defined paths.

```APIDOC
## GET /websites/solidjs/not-found

### Description
Returns a 404 status code for unmatched routes and displays a 'Page not found' message.

### Method
GET

### Endpoint
/websites/solidjs/not-found

### Parameters
#### Path Parameters
- None

#### Query Parameters
- None

#### Request Body
- None

### Request Example
(This is a client-side rendered example, no specific request body is needed for the route itself)

### Response
#### Success Response (404)
- The server response will have a 404 status code.
- The page will render 'Page not found'.

#### Response Example
(The primary effect is the HTTP status code, content is rendered client-side)
```html
<div>
  <HttpStatusCode code={404} />
  <h1>Page not found</h1>
</div>
```
```

--------------------------------

### Handle Redirects in SolidStart Server Function (TypeScript)

Source: https://docs.solidjs.com/solid-start/advanced/return-responses

Illustrates handling redirects within a SolidStart server function when a user session or user data is not found. It shows how `redirect` helper from `solid-router` can be used to navigate the user to a different page, and how to handle potential errors by throwing a redirect.

```typescript
export async function getUser() {
  "use server";


  const session = await getSession();
  const userId = session.data.userId;
  if (userId === undefined) return redirect("/login");


  try {
    const user: User = await db.user.findUnique({ where: { id: userId } });
    // throwing can be awkward.
    if (!user) return redirect("/login");
    return user;
  } catch {
    // do stuff
    throw redirect("/login");
  }
}

```

--------------------------------

### Login to Railway CLI and Deploy Project

Source: https://docs.solidjs.com/guides/deployment-options/railway

Commands to authenticate with the Railway CLI and deploy your local project. This includes logging in, linking to an existing Railway project or initializing a new one, and finally uploading your project files.

```bash
railway login
```

```bash
railway link
# or
railway init
```

```bash
railway up
# or
railway up --detach
```

--------------------------------

### Use Query with createAsync in Solid Router Component

Source: https://docs.solidjs.com/solid-router/data-fetching/queries

Demonstrates how to use a Solid Router query ('articles') within a SolidJS component using the `createAsync` primitive. `createAsync` takes the query function and returns a signal that holds the fetched data. The component renders the article titles conditionally based on the data's availability.

```typescript
import { For, Show } from "solid-js";
import { query, createAsync } from "@solidjs/router";


const getArticlesQuery = query(async () => {
  // ... Fetches a list of articles from an API.
}, "articles");


function Articles() {
  const articles = createAsync(() => getArticlesQuery());


  return (
    <Show when={articles()}>
      <For each={articles()}>{(article) => <p>{article.title}</p>}</For>
    </Show>
  );
}
```

--------------------------------

### SolidJS `on` Utility: Deferred Execution

Source: https://docs.solidjs.com/reference/reactive-utilities/on-util

Illustrates how to use the `defer` option with the `on` utility in SolidJS to prevent immediate execution of the effect, running it only upon dependency change.

```javascript
// doesn't run immediately
createEffect(on(a, (v) => console.log(v), { defer: true }));


setA("new"); // now it runs
```

--------------------------------

### Type Definitions for createAsyncStore

Source: https://docs.solidjs.com/solid-router/reference/data-apis/create-async-store

Provides the TypeScript type definitions for the createAsyncStore function. It shows the two overloads based on whether an initialValue is provided, defining the fetcher function signature and options.

```typescript
function createAsyncStore<T>(
  fn: (prev: T) => Promise<T>,
  options: {
    name?: string;
    initialValue: T;
    deferStream?: boolean;
    reconcile?: ReconcileOptions;
  }
): AccessorWithLatest<T>;


function createAsyncStore<T>(
  fn: (prev: T | undefined) => Promise<T>,
  options?: {
    name?: string;
    initialValue?: T;
    deferStream?: boolean;
    reconcile?: ReconcileOptions;
  }
): AccessorWithLatest<T | undefined>;
```

--------------------------------

### SolidJS createResource refetch for Real-time Data

Source: https://docs.solidjs.com/guides/fetching-data

Illustrates using the `refetch` method from `createResource` in SolidJS to manually reload data. This is useful for applications requiring up-to-date information, such as live stock tickers, by allowing periodic or event-driven data refreshes.

```javascript
import { createResource, onCleanup } from "solid-js" 


function StockPriceTicker() {
  const [prices, { refetch }] = createResource(fetchStockPrices);


  const timer = setInterval(() => {
    refetch()
  }, 1000);
  onCleanup(() => clearInterval(timer))
}

```

--------------------------------

### createResource with deferStream Option (SolidStart v1.4.0+)

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

This snippet shows how to use the `deferStream` option with `createResource` in SolidStart v1.4.0 and later. When `deferStream` is true, Solid waits for the resource to load before flushing the stream, ensuring content is available.

```javascript
// fetches a user and streams content as soon as possible
const [user] = createResource(() => params.id, fetchUser)


// fetches a user but only streams content after this resource has loaded
const [user] = createResource(() => params.id, fetchUser, {
  deferStream: true,
})
```

--------------------------------

### SolidJS Signal Tracking with `createEffect`

Source: https://docs.solidjs.com/concepts/intro-to-reactivity

Illustrates how to properly track signal changes in SolidJS using `createEffect`. Accessing the signal within the effect ensures that subsequent updates trigger the effect and its associated console logs.

```javascript
const [count, setCount] = createSignal(0);

createEffect(() => {
  console.log("Count:", count());
});

setCount(1);

// Output: Count: 0
//         Count: 1
```

--------------------------------

### Importing TypeScript Component in JavaScript

Source: https://docs.solidjs.com/configuration/typescript

Illustrates how to import and use a SolidJS component written in TypeScript within an existing JavaScript file, showcasing interoperability.

```jsx
import MyTsComponent from "./MyTsComponent";


function MyJsComponent() {
  return (
    <>
      {/* ... */}
      <MyTsComponent />
    </>
  );
}
```

--------------------------------

### Solid Router Action: Programmatic Triggering with useAction

Source: https://docs.solidjs.com/solid-router/reference/data-apis/action

Shows how to trigger an action programmatically using the 'useAction' hook. This is useful for actions that are not directly tied to form submissions, such as button clicks that initiate a server-side operation.

```javascript
import { action, useAction } from "@solidjs/router";


const markDoneAction = action(async (id: string) => {
  // ... Marks a todo as done on the server.
});


function NotificationItem(props: { id: string }) {
  const markDone = useAction(markDoneAction);


  return <button onClick={() => markDone(props.id)}>Mark as done</button>;
}
```

--------------------------------

### Configure SolidStart App for AWS Lambda Streaming

Source: https://docs.solidjs.com/guides/deployment-options/aws-via-sst

Configuration snippet for `app.config.ts` to enable AWS Lambda streaming preset for a SolidStart application when using SST.

```typescript
server: {
   preset: "aws-lambda-streaming"
}

```

--------------------------------

### Importing the Action Function in Solid Router

Source: https://docs.solidjs.com/solid-router/reference/data-apis/action

Demonstrates how to import the 'action' function from the '@solidjs/router' package. This is the initial step required to utilize the action functionality in your SolidJS application.

```javascript
import { action } from "@solidjs/router";
```

--------------------------------

### Configure Vite Options in SolidStart

Source: https://docs.solidjs.com/solid-start/reference/config/define-config

This snippet demonstrates how to use defineConfig to configure Vite options within SolidStart applications. It specifically shows how to include Vite plugins.

```typescript
import { defineConfig } from "@solidjs/start/config";


export default defineConfig({
  vite: {
    // vite options
    plugins: [],
  },
});
```

--------------------------------

### Enable Node.js Compatibility in Wrangler.toml

Source: https://docs.solidjs.com/solid-start/reference/config/define-config

This snippet shows the configuration required within `wrangler.toml` to enable Node.js compatibility, which is necessary when using certain Cloudflare features with SolidStart.

```toml
compatibility_flags = [ "nodejs_compat" ]
```

--------------------------------

### Define Routes with Route Component (SolidJS)

Source: https://docs.solidjs.com/guides/routing-and-navigation

Shows how to define specific routes within the `<Router />` using the `<Route />` component. Each route maps a `path` to a `component` that will be rendered when the path matches the URL.

```javascript
import { render } from "solid-js/web";
import { Router, Route } from "@solidjs/router";


import Home from "./pages/Home";
import Users from "./pages/Users";


const App = (props) => (
  <>
    <h1>Site Title</h1>
    {props.children}
  </>
);


render(
  () => (
    <Router root={App}>
      <Route path="/" component={Home} />
      <Route path="/users" component={Users} />
    </Router>
  ),
  document.getElementById("root")
);
```

--------------------------------

### SolidJS createResource mutate for Optimistic Updates

Source: https://docs.solidjs.com/guides/fetching-data

Shows how to use the `mutate` method from `createResource` in SolidJS for optimistic UI updates. This provides immediate feedback to the user by updating the local state before the server confirms the change, ideal for task lists or forms.

```javascript
import { For, createResource } from "solid-js" 


function TodoList() {
  const [tasks, { mutate }] = createResource(fetchTasksFromServer);


  return (
    <>
      <ul>
        <For each={tasks()}>
          {(task) => (
            <li>{task.name}</li>
          )}
        </For>
      </ul>
      <button
        onClick={() => {
          mutate((todos) => [...todos, "do new task"]); // add todo for user
          // make a call to send to database
        }}
      >
        Add Task
      </button>
    </>
  );
}

```

--------------------------------

### Configure Prerendering for Specific Routes in SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/route-prerendering

This code configures prerendering for specific routes ('/' and '/about') within a SolidStart application. It utilizes the `defineConfig` function from '@solidjs/start/config' and modifies the `server.prerender.routes` option. No external dependencies beyond SolidStart itself are required.

```typescript
import { defineConfig } from "@solidjs/start/config";


export default defineConfig({
  server: {
    prerender: {
      routes: ["/", "/about"]
    }
  }
});
```

--------------------------------

### Import createRoot from solid-js

Source: https://docs.solidjs.com/reference/reactive-utilities/create-root

This snippet shows how to import the `createRoot` function from the 'solid-js' library. This is the first step to using its reactive context management capabilities.

```javascript
import { createRoot } from "solid-js";
```

--------------------------------

### SolidStart tRPC Server Fetch Adapter

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

Implements a SolidStart API route that acts as a tRPC server using the fetch adapter from '@trpc/server'. It requires '@trpc/server' and '@solidjs/start'. The handler processes incoming requests and routes them to the defined tRPC router.

```typescript
import { type APIEvent } from "@solidjs/start/server";
import { fetchRequestHandler } from "@trpc/server/adapters/fetch";
import { appRouter } from "~/lib/router";


const handler = (event: APIEvent)
  =>
  fetchRequestHandler({
    endpoint: "/api/trpc",
    req: event.request,
    router: appRouter,
    createContext: () => ({})
  });


export const GET = handler;


export const POST = handler;
```

--------------------------------

### Effect Initialization and Dependency Tracking in SolidJS

Source: https://docs.solidjs.com/concepts/effects

Illustrates how effects in SolidJS run once upon initialization and subsequently only when their declared dependencies change. Solid automatically tracks these dependencies, simplifying their management.

```javascript
import { createEffect, createSignal } from "solid-js";


const [count, setCount] = createSignal(0);


createEffect(() => {
  console.log("hello"); // will run only once
});


createEffect(() => {
  console.log(count()); // will run every time count changes
});

```

--------------------------------

### Basic Vitest Assertions

Source: https://docs.solidjs.com/guides/testing

Illustrates the fundamental assertion syntax provided by `vitest`'s `expect` function, including reference comparison (`toBe`) and value comparison (`toEqual`).

```javascript
expect(subject)[assertion](value)
```

--------------------------------

### Implement Custom Responses in SolidStart Middleware

Source: https://docs.solidjs.com/solid-start/advanced/middleware

Explains how returning a `Response` object from a SolidStart middleware function immediately terminates request processing and sends the response to the client. This is useful for handling unauthorized access or other immediate response scenarios.

```javascript
import { createMiddleware } from "@solidjs/start/middleware"


export default createMiddleware({
  onRequest: () => {
    return new Response("Unauthorized", { status: 401 });
  },
});
```

--------------------------------

### SolidJS: Initial Derived State with createSignal and createEffect

Source: https://docs.solidjs.com/guides/state-management

Demonstrates an initial approach to derived state using createSignal and createEffect to update a secondary signal based on a primary signal's changes. This method can lead to redundant updates if not optimized.

```javascript
import { createSignal } from "solid-js"


function Counter() {
  const [count, setCount] = createSignal(0);
  const [doubleCount, setDoubleCount] = createSignal(0);


  const increment = () => {
    setCount((prev) => prev + 1);
  };


  createEffect(() => {
    setDoubleCount(count() * 2); // Update doubleCount whenever count changes
  });


  const doubleCount = () => count() * 2


  return (
    <>
      <div>Current count: {count()}</div>
      <div>Doubled count: {doubleCount()}</div>
      <button onClick={increment}>Increment</button>
    </>
  );
}


```

--------------------------------

### Define Wildcard Route (SolidJS)

Source: https://docs.solidjs.com/solid-router/concepts/path-parameters

Shows how to create a wildcard route using `*` to match any number of URL segments. This is useful for catching all paths under a certain base. The matched segments can be captured by naming the wildcard parameter.

```jsx
<Route path="/users/*" component={User} />
```

```jsx
<Route path="/users/*rest" component={User} />
```

--------------------------------

### Set HTTP Header for Catch-all Routes in SolidStart

Source: https://docs.solidjs.com/solid-start/reference/server/http-header

Demonstrates setting an HTTP header within a catch-all route component (e.g., a 404 Not Found page) using SolidStart's HttpHeader component. This allows setting headers even for dynamically handled routes.

```typescript
import { HttpHeader, HttpStatusCode } from "@solidjs/start";


export default function NotFound() {
  return (
    <div>
      <HttpStatusCode code={404} />
      <HttpHeader name="my-header" value="header-value" />
    </div>
  );
}
```

--------------------------------

### Create Custom Title Component

Source: https://docs.solidjs.com/solid-start/building-your-application/head-and-metadata

Defines a reusable component that wraps the Title component to automatically add a site-specific suffix to all page titles. This promotes consistent branding across the application.

```typescript
export default function MySiteTitle(props) {
  return <Title>{props.children} | My Site</Title>;
}
```

--------------------------------

### SolidJS: Importing Components (Named and Default)

Source: https://docs.solidjs.com/concepts/components/basics

Illustrates how to import SolidJS components into other modules. It shows named imports, which require specifying the component name in curly braces, and default imports, where the component can be given any name upon import. This enables component composition and code organization.

```javascript
// App.ts
import { MyComponent } from "./MyComponent";


function App() {
  return (
    <div>
      <MyComponent />
    </div>
  );
}

```

```javascript
// App.ts
import { MyComponent, MyOtherComponent } from "./MyComponent";


function App() {
  return (
    <div>
      <MyComponent />
      <MyOtherComponent />
    </div>
  );
}

```

```javascript
// App.ts
import MyComponent from "./MyComponent";


function App() {
  return (
    <div>
      <MyComponent />
    </div>
  );
}

```

--------------------------------

### createResource - State Management

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

The `createResource` function now provides a more detailed view of the Resource state, including `unresolved`, `pending`, `ready`, `refreshing`, and `errored` states, in addition to `loading` and `error`.

```APIDOC
## Resource State Properties

### Description
`createResource` now offers granular control over resource state observation.

### State Values
- **unresolved**: Initial state, no data has been fetched yet.
- **pending**: Data fetching is in progress.
- **ready**: Data has been successfully fetched.
- **refreshing**: Data is being refetched while existing data is still available.
- **errored**: An error occurred during data fetching.

### Example Usage
```javascript
const [data, { mutate, refetch }] = createResource(() => params.id, fetchUser)

// Accessing state directly
console.log(data.state) // 'unresolved' | 'pending' | 'ready' | 'refreshing' | 'errored'
console.log(data.loading) // boolean
console.log(data.error) // any
console.log(data.latest) // T | undefined
```
```

--------------------------------

### Lazy-load Route Components (SolidJS)

Source: https://docs.solidjs.com/guides/routing-and-navigation

Demonstrates how to use the `lazy` function to postpone the loading of route components until they are actually navigated to. This technique improves initial load performance by not bundling all components upfront.

```javascript
import { lazy } from "solid-js";
import { render } from "solid-js/web";
import { Router, Route } from "@solidjs/router";


const Users = lazy(() => import("./pages/Users"));
const Home = lazy(() => import("./pages/Home"));


const App = (props) => (
  <>
    <h1>Site Title</h1>
    {props.children}
  </>
);


render(
  () => (
    <Router root={App}>
      <Route path="/users" component={Users} />
      <Route path="/" component={Home} />
    </Router>
  ),
  document.getElementById("root")
);
```

--------------------------------

### Run Tests (pnpm)

Source: https://docs.solidjs.com/guides/testing

Executes the defined test script using pnpm. This command will run all tests configured in the project.

```bash
pnpm test
```

--------------------------------

### Wrap Component Tree with Context Provider

Source: https://docs.solidjs.com/concepts/context

Shows how to create a `Provider` component in SolidJS that wraps a portion of the component tree, making the context available to its descendants. The `Provider` component accepts children and passes them down.

```javascript
import { MyContext } from "./create";


export function Provider (props) {
  return (
    <MyContext.Provider>
      {props.children}
    </MyContext.Provider>
  )
};
```

--------------------------------

### Naive User Profile Display with Optional Chaining (SolidJS)

Source: https://docs.solidjs.com/reference/components/suspense

A basic SolidJS component displaying user profile data using createResource and optional chaining. It initially renders empty divs and updates them once the data is fetched, potentially showing a blank state to the user.

```javascript
const MyComponentWithOptionalChaining = () => {
  const [profile] = createResource(async () => {
    /* fetcher code here */
  })
  return (
    <>
      <div>{profile()?.name}</div>
      <div>{profile()?.email}</div>
    </>
  )
}
```

--------------------------------

### Create tRPC Client for SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

Demonstrates how to create a tRPC client using '@trpc/client' to interact with a tRPC server. It configures links for logging and HTTP batching. Requires '@trpc/client'. The client is typed with the 'AppRouter' type.

```typescript
import { createTRPCProxyClient, httpBatchLink, loggerLink } from "@trpc/client";
import type { AppRouter } from "./router";


export const client = createTRPCProxyClient<AppRouter>({
  links: [loggerLink(), httpBatchLink({ url: "http://localhost:3000/api/trpc" })]
});
```

--------------------------------

### Escaping Nested Routes in SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/routing

Demonstrates how to use parentheses '()' in route names to escape nested routing and create separate layouts for routes that would otherwise be nested. This is useful for organizing routes without affecting the URL structure.

```file-structure
|-- routes/                       // example.com
    |-- users/
        |-- index.tsx            // example.com/users
        |-- projects.tsx         // example.com/users/projects
    |-- users(details)/
        |-- [id].tsx            // example.com/users/1


|-- routes/
    |-- users.tsx
    |-- users(details).tsx
    |-- users/
        |-- index.tsx
        |-- projects.tsx
    |-- users(details)/
        |-- [id].tsx
```

--------------------------------

### Configure Router Component in SolidJS

Source: https://docs.solidjs.com/solid-router/getting-started/installation-and-setup

Set up the root `Router` component in a SolidJS application. This component manages URL routing and renders the appropriate `Route` components. It requires importing `render` from 'solid-js/web' and `Router` from '@solidjs/router'. The router is then rendered into a specified DOM element.

```javascript
import { render } from "solid-js/web";
import { Router } from "@solidjs/router";


const wrapper = document.getElementById("app");


if (!wrapper) {
  throw new Error("Wrapper div not found");
}


render(() => <Router />, wrapper)
```

--------------------------------

### Switch and Match Components API

Source: https://docs.solidjs.com/reference/components/switch-and-match

Details on the props and usage of the Switch and Match components for conditional rendering.

```APIDOC
## Switch and Match Components

### Description
The `<Switch>` and `<Match>` components provide a way to render different content based on conditions, similar to an if-else-if chain. This is particularly useful for implementing conditional UI states or basic routing.

### Switch Component

#### Props
- `fallback` (JSX.Element, optional) - The fallback element to render if no `Match` component has a truthy `when` prop.
- `children` (JSX.Element) - The child `Match` components to render.

### Match Component

#### Props
- `when` (T | undefined | null | false) - The condition to check. If truthy, the `children` of this `Match` component will be rendered.
- `children` (JSX.Element | ((item: T) => JSX.Element)) - The content to render when the `when` prop is truthy. Can also be a function that receives the matched item.

### Usage Example (Routing)
```html
<Switch fallback={<div>Not Found</div>}>
  <Match when={state.route === "home"}>
    <Home />
  </Match>
  <Match when={state.route === "settings"}>
    <Settings />
  </Match>
</Switch>
```

### Implementation Notes
When used, `<Switch>` iterates through its direct children, which should be `<Match>` components. The first `<Match>` component whose `when` prop evaluates to a truthy value will have its `children` rendered. If no `Match` component's `when` prop is truthy, the `fallback` prop of the `<Switch>` component will be rendered.
```

--------------------------------

### Server Function for User Data Fetching with Solid Router

Source: https://docs.solidjs.com/solid-start/building-your-application/data-fetching

This server function, designed for Solid Router, fetches user data from a database securely on the server. It utilizes session management for authentication and redirects to a login page if the user is not authenticated. The 'use server' directive ensures the code runs exclusively on the server.

```typescript
import { query, redirect } from "@solidjs/router";
import { useSession } from "vinxi/http";
import { db } from "./db";


const getCurrentUserQuery = query(async (id: string) => {
  "use server";
  const session = await useSession({
    password: process.env.SESSION_SECRET as string,
    name: "session",
  });


  if (session.data.userId) {
    return await db.users.get({ id: session.data.userId });
  } else {
    throw redirect("/login");
  }
}, "currentUser");

```

--------------------------------

### Create SolidStart Middleware Configuration

Source: https://docs.solidjs.com/solid-start/reference/server/create-middleware

Defines middleware functions to be executed during SolidStart's request lifecycle. Middleware can be set for `onRequest` (before route handling) or `onBeforeResponse` (after route handling, before response). Requires `@solidjs/start/middleware`.

```typescript
import { createMiddleware } from "@solidjs/start/middleware";


export default createMiddleware({
  onRequest: (event) => {
    console.log("Request received:", event.request.url);
  },
  onBeforeResponse: (event) => {
    console.log("Sending response:", event.response.status);
  },
});
```

--------------------------------

### SolidJS: Exporting Components (Named and Default)

Source: https://docs.solidjs.com/concepts/components/basics

Demonstrates how to export SolidJS components for reusability. It covers both named exports, allowing multiple exports from a file, and default exports, for a single primary export per file. No external dependencies are required beyond standard JavaScript module syntax.

```javascript
export function MyComponent() {
  return <div>Hello World</div>
}

```

```javascript
function MyComponent() {
  return <div>Hello World</div>
}


export { MyComponent }

```

```javascript
// MyComponent.ts
export default function MyComponent() {
  return <div>Hello World</div>
}

```

--------------------------------

### Dynamic Component Rendering in SolidJS

Source: https://docs.solidjs.com/concepts/control-flow/dynamic

Demonstrates rendering components dynamically using the `<Dynamic>` component in SolidJS. It takes a component or native HTML element string from a data source and renders it with provided props. This offers a more concise solution compared to using `<Switch>` and `<Match>`.

```javascript
import { createSignal, For } from "solid-js"
import { Dynamic } from "solid-js/web"


const RedDiv = () => <div style="color: red">Red</div>
const GreenDiv = () => <div style="color: green">Green</div>
const BlueDiv = () => <div style="color: blue">Blue</div>


const options = {
  red: RedDiv,
  green: GreenDiv,
  blue: BlueDiv,
}


function App() {
  const [selected, setSelected] = createSignal("red")


  return (
    <>
      <select
        value={selected()}
        onInput={(e) => setSelected(e.currentTarget.value)}
      >
        <For each={Object.keys(options)}>
          {(color) => <option value={color}>{color}</option>}
        </For>
      </select>
      <Dynamic component={options[selected()]} />
    </>
  )
}
```

```javascript
import { createSignal, Switch, Match, For } from "solid-js"


const RedDiv = () => <div style="color: red">Red</div>
const GreenDiv = () => <div style="color: green">Green</div>
const BlueDiv = () => <div style="color: blue">Blue</div>


const options = {
  red: RedDiv,
  green: GreenDiv,
  blue: BlueDiv,
}


function App() {
  const [selected, setSelected] = createSignal("red")


  return (
    <>
      <select
        value={selected()}
        onInput={(e) => setSelected(e.currentTarget.value)}
      >
        <For each={Object.keys(options)}>
          {(color) => <option value={color}>{color}</option>}
        </For>
      </select>
      <Switch fallback={<BlueDiv />}>
        <Match when={selected() === "red"}>
          <RedDiv />
        </Match>
        <Match when={selected() === "green"}>
          <GreenDiv />
        </Match>
      </Switch>
    </>
  )
}
```

--------------------------------

### Create and Use Signals in SolidJS

Source: https://docs.solidjs.com/advanced-concepts/fine-grained-reactivity

Demonstrates how to create a signal using `createSignal` in SolidJS, which returns a getter and setter function. It shows how to retrieve the current value and update it. This is fundamental for managing state in SolidJS applications.

```javascript
import { createSignal } from "solid-js";


const [count, setCount] = createSignal(1);


console.log(count()); // prints "1"


setCount(0); // changes count to 0


console.log(count()); // prints "0"
```

--------------------------------

### Make Entire Files Server-Only with "use server" in SolidStart

Source: https://docs.solidjs.com/solid-start/reference/server/use-server

Placing 'use server' as the very first line of a file in SolidStart transforms the entire file into server-only code. This is useful for modules that contain exclusively server-side logic and should never be included in the client-side bundle.

```typescript
"use server";


const logHello = async (message: string) => {
  console.log(message);
};

```

--------------------------------

### Solid Router - A Component

Source: https://docs.solidjs.com/solid-router/reference/components/a

The `<A />` component is a wrapper around the native anchor tag (`<a>`) for navigation within the Solid Router. It automatically handles relative paths, base paths from the `<Router>` component, and provides active/inactive classes for styling.

```APIDOC
## POST /websites/solidjs

### Description
Provides navigation capabilities within a SolidJS application using the `<A />` component, which wraps the native anchor tag and integrates with the routing context.

### Method
POST

### Endpoint
/websites/solidjs

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
This section is not applicable for the `<A />` component's core functionality as it's a UI component.

### Request Example
```json
{
  "message": "This is a conceptual representation, the A component is used in JSX."
}
```

### Response
#### Success Response (200)
This section is not applicable as the `<A />` component is a client-side UI element and does not return a direct API response in this context.

#### Response Example
```json
{
  "message": "Navigation is handled client-side."
}
```

## Props Reference for `<A />` Component

### Method
Component (JSX)

### Endpoint
N/A (Client-side component)

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
N/A

### Request Example
```jsx
import { A } from '@solidjs/router';

function MyNav() {
  return (
    <nav>
      <A href="/">Home</A>
      <A href="/about" activeClass="text-red" inactiveClass="text-gray">
        About
      </A>
      <A href="/users" end>Users</A>
    </nav>
  );
}
```

### Response
#### Success Response (200)
N/A

#### Response Example
N/A

### Props Documentation

#### `href`
- **type**: `string`
- **description**: The path of the route to navigate to. This will be resolved relative to the route that the link is in, but you can preface it with `/` to refer back to the root.

#### `noScroll`
- **type**: `boolean`
- **description**: If `true`, turn off the default behavior of scrolling to the top of the new page.

#### `replace`
- **type**: `boolean`
- **description**: If `true`, don't add a new entry to the browser history. (By default, the new page will be added to the browser history, so pressing the back button will take you to the previous route.)

#### `state`
- **type**: `unknown`
- **description**: Push this value to the history stack when navigating.

#### `inactiveClass`
- **type**: `string`
- **description**: The class to show when the link is inactive (when the current location doesn't match the link).

#### `activeClass`
- **type**: `string`
- **description**: The class to show when the link is active.

#### `end`
- **type**: `boolean`
- **description**: If `true`, only considers the link to be active when the current location matches the `href` exactly; if `false`, check if the current location _starts with_ `href`.

## Soft Navigation

### Description
When JavaScript is present at the runtime, both `<A />` and native `<a />` tags are augmented for a soft navigation experience. This means navigation occurs without a full page reload.

### How to Prevent Soft Navigation
To prevent both `<A />` and `<a />` tags from soft navigating when JavaScript is present, pass a `target="_self"` attribute.

### Example
```jsx
<A href="/some-page" target="_self">No Soft Navigation</A>
<a href="/another-page" target="_self">Native Link No Soft Navigation</a>
```
```

--------------------------------

### API Routes Overview

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

API routes in SolidStart allow you to expose server-side logic as endpoints. They follow similar filename conventions to UI routes but export HTTP method handlers instead of UI components.

```APIDOC
## API Routes in SolidStart

API routes are used to expose server-side logic as endpoints for various purposes such as sharing logic across clients, exposing GraphQL/tRPC/REST APIs, handling webhooks, or serving non-HTML documents.

### Key Concepts:
*   **Filename Conventions**: API routes follow the same filename conventions as UI Routes.
*   **Exported Handlers**: Instead of exporting a default UI component, API routes export functions named after the HTTP methods they handle (e.g., `GET`, `POST`, `PATCH`, `DELETE`).
*   **Prioritization**: API routes take precedence over UI routes at the same path. Use `Accept` headers for routing conflicts.
*   **Fallback**: Returning without a response in a `GET` route will fall back to UI route handling.

### Directory Structure:
It's common practice to place API routes within an `api` directory.

```
/api
  /users
    [id].ts  // Example API route for /api/users/:id
  /products
    [category]
      [brand].ts // Example API route for /api/products/:category/:brand
```

```

--------------------------------

### Implement Basic Nested Routes in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Demonstrates how to create nested routes where a parent route contains child routes. Only the innermost `<Route>` components are given a route, implying they are rendered within the parent's component structure.

```javascript
import { Route } from '@solidjs/router';
import { Users } from './routes/Users';
import { User } from './routes/User';

<Route path="/users" component={Users}>
  <Route path="/:id" component={User} />
</Route>
```

--------------------------------

### SolidJS createMemo with Previous Value

Source: https://docs.solidjs.com/reference/basic-reactivity/create-memo

Shows how to use createMemo to track a cumulative value, like a sum, by utilizing the previous computed value in the memoization function. The initial value is provided as the second argument.

```jsx
// track the sum of all values taken on by input() as it updates
const sum = createMemo((prev) => input() + prev, 0)
```

--------------------------------

### SolidJS createResource Type Definitions (TypeScript)

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

Provides the TypeScript type definitions for `createResource`, including `ResourceReturn` and `ResourceOptions`. This clarifies the structure of the returned resource tuple and the available configuration options for developers using TypeScript.

```typescript
import { createResource } from "solid-js"
import type { ResourceReturn, ResourceOptions } from "solid-js"

type ResourceReturn<T> = [
  {
    (): T | undefined
    state: "unresolved" | "pending" | "ready" | "refreshing" | "errored"
    loading: boolean
    error: any
    latest: T | undefined
  },
  {
    mutate: (v: T | undefined) => T | undefined
    refetch: (info: unknown) => Promise<T> | T
  }
]

type ResourceOptions<T, S = unknown> = {
  initialValue?: T
  name?: string
  deferStream?: boolean
  ssrLoadFrom?: "initial" | "server"
  storage?: (
    init: T | undefined
  ) => [Accessor<T | undefined>, Setter<T | undefined>]
  onHydrated?: (k: S | undefined, info: { value: T | undefined }) => void
}

function createResource<T, U = true>(
  fetcher: (
    k: U,
    info: { value: T | undefined; refetching: boolean | unknown }
  ) => T | Promise<T>,
  options?: ResourceOptions<T, U>
): ResourceReturn<T>

function createResource<T, U>(
  source: U | false | null | (() => U | false | null),
  fetcher: (
    k: U,
    info: { value: T | undefined; refetching: boolean | unknown }
  ) => T | Promise<T>,
  options?: ResourceOptions<T, U>
): ResourceReturn<T>
```

--------------------------------

### Conditional Rendering with Keyed Show (SolidJS)

Source: https://docs.solidjs.com/solid-router/concepts/path-parameters

Explains how to use a keyed `Show` component to force a re-render when routes share the same path match. This is useful when dynamic content needs to be refreshed based on changing parameters.

```jsx
<Show when={params.something} keyed>
  <MyComponent />
</Show>
```

--------------------------------

### SolidJS Store Setters

Source: https://docs.solidjs.com/reference/store-utilities/create-store

Explains how to update a SolidJS store using the setter function, including direct value assignment and functional updates. Also covers deletion of properties.

```APIDOC
## Store Setters

### Description
The setter function allows for updating the store's state. Updates can be direct object assignments or functions that receive the previous state and return the new state. Objects are shallowly merged. Properties can be deleted by setting their value to `undefined`.

### Method
`setStore(newState: Partial<T> | SetState<T>)`

### Endpoint
N/A

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
- **newState** (Partial<T> | SetState<T>) - Required - Either a partial object representing the new state or a function that takes the current state and returns the new state.

### Request Example
```javascript
import { createStore } from "solid-js/store";

const [state, setState] = createStore({
  firstName: "John",
  lastName: "Miller",
});

// Direct update
setState({ firstName: "Johnny", middleName: "Lee" });
// state is now: { firstName: 'Johnny', middleName: 'Lee', lastName: 'Miller' }

// Functional update
setState((currentState) => ({ preferredName: currentState.firstName, lastName: "Milner" }));
// state is now: { firstName: 'Johnny', preferredName: 'Johnny', middleName: 'Lee', lastName: 'Milner' }

// Deleting a property (TypeScript example)
setState("middleName", undefined as any);
// state is now: { firstName: 'Johnny', preferredName: 'Johnny', lastName: 'Milner' }
```

### Response
#### Success Response (200)
Updates the store state reactively.

#### Response Example
(No direct response body, state is updated reactively)
```

--------------------------------

### Session Management with Cookies

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

Securely manage user sessions in stateless HTTP by utilizing HTTP-only cookies. Access and parse cookies from the `Request` object or use helper functions.

```APIDOC
## Session Management with Cookies

Since HTTP is stateless, session management is crucial for maintaining user state across requests. HTTP-only cookies are a secure method for storing session data on the client-side.

### Accessing Cookies:
Cookies are sent via the `Cookie` header in the `Request` object. You can parse this header manually or use utility functions for easier access.

### Using `vinxi/http` Helpers:
SolidStart provides helper functions, such as `getCookie`, within `vinxi/http` to simplify cookie handling.

### Example: Authenticating a User via Cookie:
```typescript
import type { APIEvent } from "@solidjs/start/server";
import { getCookie } from "vinxi/http";
import store from "./store"; // Assuming a local store module

export async function GET(event: APIEvent) {
  // Retrieve the 'userId' cookie from the request
  const userId = getCookie(event.request, "userId");

  // If no userId cookie is found, return an unauthorized response
  if (!userId) {
    return new Response("Not logged in", { status: 401 });
  }

  try {
    // Fetch user data based on the userId from the cookie
    const user = await store.getUser(userId);

    // Check if the fetched user's ID matches the cookie's userId (optional but good practice)
    if (!user || user.id !== userId) {
      return new Response("Not authorized", { status: 403 });
    }

    // Return user data if authentication is successful
    return user;
  } catch (error) {
    console.error("Error fetching user or validating session:", error);
    return new Response("Internal server error", { status: 500 });
  }
}

// Dummy store module for example purposes
// const store = {
//   getUser: async (id: string) => {
//     // Simulate fetching user data
//     if (id === "user123") {
//       return { id: "user123", name: "Jane Doe", email: "jane@example.com" };
//     }
//     return null;
//   }
// };
```

### Setting Cookies:
To set cookies, you typically do so in a `POST` or `PUT` request handler using the `Set-Cookie` header in the response.

```typescript
import type { APIEvent } from "@solidjs/start/server";

export async function POST(event: APIEvent) {
  const { userId } = await event.request.json(); // Example: getting userId from request body

  // Simulate successful login and generating a session token or user ID
  const userSessionId = userId; // In a real app, this would be a secure token

  // Set an HTTP-only cookie
  const response = new Response(JSON.stringify({ message: "Login successful" }), {
    status: 200,
    headers: {
      "Content-Type": "application/json",
      "Set-Cookie": `userId=${userSessionId}; HttpOnly; Path=/; Max-Age=3600` // 1 hour expiration
    }
  });

  return response;
}
```

**Note**: For robust session management, consider using dedicated libraries or authentication services.
```

--------------------------------

### Solid Router: Implement Catch-all Route with JSX

Source: https://docs.solidjs.com/solid-router/concepts/catch-all

This snippet demonstrates how to define a catch-all route in Solid Router using JSX. It imports necessary components and sets up routes, with a catch-all route (`*404`) to render a NotFound component for any unmatched URLs. This is a common pattern for handling 404 errors.

```jsx
import { Router, Route } from "@solidjs/router";


import Home from "./Home";
import About from "./About";
import NotFound from "./NotFound";


const App = () => (
  <Router>
    <Route path="/home" component={Home} />
    <Route path="/about" component={About} />
    <Route path="*404" component={NotFound} />
  </Router>
);

```

--------------------------------

### createResource - Server-Side Rendering with ssrLoadFrom

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

Initialize resources with prefetched data during server-side rendering using the `ssrLoadFrom` option. This prevents re-fetching on the client and ensures proper hydration.

```APIDOC
## Server-Side Rendering with `ssrLoadFrom`

### Description
Allows initializing a resource with prefetched data on the server, avoiding redundant fetches during client-side hydration.

### Options
- **ssrLoadFrom**: (`"server" | "initial"`) - Determines the source for the initial SSR value. Defaults to `"server"`.
  - If set to `"initial"`, the resource will use the `initialValue` provided in the options as if it were the result of the first fetch.

### Request Example
```javascript
// Assuming preloadedData is available from SSR
const [data, { mutate, refetch }] = createResource(() => params.id, fetchUser, {
  initialValue: preloadedData,
  ssrLoadFrom: "initial",
})
```

### Response
**Success Response (200)**
The resource will be initialized with `preloadedData` on the server and hydrated on the client without an additional fetch.
```

--------------------------------

### Expose tRPC Server Route with SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

Sets up a tRPC server route by defining a router using the '@trpc/server' library. This allows for type-safe API communication. It requires '@trpc/server', '@decs/typeschema', and 'valibot'. The router is exported to be used by clients.

```typescript
import { initTRPC } from "@trpc/server";
import { wrap } from "@decs/typeschema";
import { string } from "valibot";


const t = initTRPC.create();


export const appRouter = t.router({
  hello: t.procedure.input(wrap(string())).query(({ input }) => {
    return `hello ${input ?? "world"}`;
  })
});


export type AppRouter = typeof appRouter;
```

--------------------------------

### Chain Middleware Functions in Solid.js

Source: https://docs.solidjs.com/solid-start/advanced/middleware

Illustrates how to chain multiple middleware functions together using `createMiddleware` in Solid.js. Middleware functions can be provided as an array to `onRequest` or `onBeforeResponse` options, allowing for sequential execution of logic. This promotes modularity by breaking down complex middleware into smaller, reusable functions. The order in the array dictates the execution order, which is crucial for dependent middleware.

```typescript
import { createMiddleware } from "@solidjs/start/middleware";
import { type FetchEvent } from "@solidjs/start/server";


function middleware1(event: FetchEvent) {
  event.request.headers.set("x-custom-header1", "hello-from-middleware1");
}


function middleware2(event: FetchEvent) {
  event.request.headers.set("x-custom-header2", "hello-from-middleware2");
}


export default createMiddleware({
  onRequest: [middleware1, middleware2],
});

```

--------------------------------

### Push code to Zerops

Source: https://docs.solidjs.com/guides/deployment-options/zerops

Triggers the deployment of your application to Zerops. This command should be run from the root of your project directory where the `zerops.yml` file is located.

```bash
zcli push
```

--------------------------------

### SolidJS Component Initialization with Signals

Source: https://docs.solidjs.com/concepts/components/basics

Shows how to initialize state using signals within a SolidJS component. The component function body executes only once on initial render, setting up reactive primitives.

```javascript
function MyComponent() {
  const [count, setCount] = createSignal(0);


  console.log(count());


  return (
    <div>
      <p>Count: {count()}</p>
      <button onClick={() => setCount((prev) => prev + 1)}>Increment</button>
    </div>
  );
}
```

--------------------------------

### Generate Secure Session Password

Source: https://docs.solidjs.com/solid-start/advanced/session

Provides a command-line instruction to generate a cryptographically secure random password suitable for encrypting session data. The generated password should be at least 32 characters long and stored securely in environment variables.

```bash
openssl rand -base64 32
```

--------------------------------

### Declare Middleware Path in app.config.ts

Source: https://docs.solidjs.com/solid-start/advanced/middleware

Shows how to configure SolidStart to recognize the middleware configuration file. The `app.config.ts` file is updated with the `middleware` option pointing to the specific file path where the middleware is exported.

```typescript
import { defineConfig } from "@solidjs/start/config";


export default defineConfig({
  middleware: "src/middleware/index.ts",
});

```

--------------------------------

### Import createEffect in SolidJS

Source: https://docs.solidjs.com/reference/basic-reactivity/create-effect

Demonstrates how to import the `createEffect` function from the 'solid-js' library. This is the first step to using reactive effects in your SolidJS components.

```javascript
import { createEffect } from "solid-js";
```

--------------------------------

### Validating Route Parameters with MatchFilters in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Demonstrates how to implement route parameter validation in SolidJS using `MatchFilters`. This allows for defining custom validation logic (e.g., regex, enums) for dynamic route segments to ensure only valid paths are matched.

```javascript
import { lazy } from "solid-js";
import { render } from "solid-js/web";
import { Router, Route, type MatchFilters } from "@solidjs/router";


const User = lazy(() => import("./pages/User"));


const filters: MatchFilters = {
  parent: ["mom", "dad"], // allow enum values
  id: /^\d+$/, // only allow numbers
  withHtmlExtension: (v: string) => v.length > 5 && v.endsWith(".html"), // only `*.html` extensions wanted
};


render(() => (
  <Router>
    <Route
      path="/users/:parent/:id/:withHtmlExtension"
      component={User}
      matchFilters={filters}
    />
  </Router>
), document.getElementById("root"));
```

--------------------------------

### SolidJS: Basic Index Loop Structure

Source: https://docs.solidjs.com/concepts/control-flow/list-rendering

Shows the basic syntax for the `<Index>` component in SolidJS, used for rendering lists where order and length are stable. It takes an `each` prop for the data and a callback function for rendering. Dependencies include the `Index` component from 'solid-js'.

```jsx
import { Index } from "solid-js"


<Index each={data()}>
  {(item, index) => (
    // rendering logic for each element
  )}
</Index>
```

--------------------------------

### Run Tests (yarn)

Source: https://docs.solidjs.com/guides/testing

Executes the defined test script using yarn. This command will run all tests configured in the project.

```bash
yarn test
```

--------------------------------

### Add Test Script to package.json

Source: https://docs.solidjs.com/guides/testing

Configures the 'test' script in the project's package.json to run vitest. This allows you to execute your tests using a simple command.

```json
{
  "scripts": {
    "test": "vitest"
  }
}
```

--------------------------------

### Define Route with Path Parameter (SolidJS)

Source: https://docs.solidjs.com/solid-router/concepts/path-parameters

Demonstrates how to define a route with a dynamic path parameter. The `:id` in the path will capture any value following `/users/`. This allows for flexible routing where specific data can be displayed based on the URL.

```jsx
<Route path="/users/:id" component={User} />
```

--------------------------------

### Set Dynamic Route Title with Async Data

Source: https://docs.solidjs.com/solid-start/building-your-application/head-and-metadata

Utilizes the createResource function to fetch user data and dynamically sets the page title based on the user's name. This is useful for SEO and user experience on dynamic routes like user profiles.

```typescript
import { Title } from "@solidjs/meta";
import { RouteSectionProps } from "@solidjs/router";
import { createResource, Show } from "solid-js";


export default function User(props: RouteSectionProps) {
  const [user] = createResource(() => fetchUser(props.params.id));


  return (
    <Show when={user()}>
      <Title>{user()?.name}</Title>
      <h1>{user()?.name}</h1>
    </Show>
  );
}
```

--------------------------------

### SolidJS: Control Flow Narrowing with Signals and Optional Chaining

Source: https://docs.solidjs.com/configuration/typescript

Demonstrates how to safely access properties of a potentially undefined signal in SolidJS using optional chaining or the `<Show>` component. This is an alternative to TypeScript's control flow-based narrowing, which is not directly applicable to SolidJS accessors.

```typescript
const [user, setUser] = createSignal<User>();
return <div>{user() && user().name}</div>;
//                    ^ Object may be 'undefined'.
```

```typescript
return (
  <div>
    <Show when={user()}>
      {user().name /* Object is possibly 'undefined' */}
    </Show>
  </div>
);
```

```typescript
return <div>{user()?.name}</div>;
```

```typescript
return (
  <div>
    <Show when={user()}>
      {(nonNullishUser) => <>{nonNullishUser().name}</>}
    </Show>
  </div>
);
```

```typescript
return (
  <div>
    <Show keyed when={user()}>
      {(nonNullishUser) => nonNullishUser.name}
    </Show>
  </div>
);
```

```typescript
return <UserPanel user={user()} />;
//                        ^ Type 'undefined' is not assignable to type 'User'.
```

```typescript
return (
  <Show when={user()}>
    {(nonNullishUser) => <UserPanel user={nonNullishUser()} />}
  </Show>
);
```

```typescript
return <div>{user() && (user() as User).name}</div>;
```

--------------------------------

### Manage Request-Scoped Data with event.locals in SolidStart Middleware

Source: https://docs.solidjs.com/solid-start/advanced/middleware

Demonstrates how to use `event.locals` in SolidStart middleware to store and access request-specific data, such as user information or helper functions. This data is only available during the current HTTP request.

```javascript
import { createMiddleware } from "@solidjs/start/middleware"


export default createMiddleware({
  onRequest: (event) => {
    event.locals.user = {
      name: "John Wick",
    };
    event.locals.sayHello = () => {
      return "Hello, " + event.locals.user.name;
    };
  },
});
```

--------------------------------

### SolidJS Task List Initialization with createStore

Source: https://docs.solidjs.com/guides/complex-state-management

Initializes a SolidJS application's state using `createStore` for managing a list of tasks and their count. This approach consolidates related state into a single store object, reducing the need for multiple signals.

```javascript
import { createStore } from "solid-js/store"


const App = () => {
  const [state, setState] = createStore({
    tasks: [],
    numberOfTasks: 0,
  })
}


export default App

```

--------------------------------

### Isolate Client-Only Component Logic (JavaScript)

Source: https://docs.solidjs.com/solid-start/reference/client/client-only

This snippet demonstrates how to create a component that relies on browser-specific APIs like `document.location.href`. This component is intended to be rendered exclusively on the client.

```javascript
export default function ClientOnlyComponent() {
  const location = document.location.href;
  return <div>Current URL: {location}</div>;
}
```

--------------------------------

### Import useAction from Solid Router

Source: https://docs.solidjs.com/solid-router/reference/data-apis/use-action

This snippet shows how to import the `useAction` hook from the `@solidjs/router` library. This is the first step to using the action triggering functionality.

```typescript
import { useAction } from "@solidjs/router";
```

--------------------------------

### Implement Hash Router in SolidJS

Source: https://docs.solidjs.com/solid-router/concepts/alternative-routers

This code demonstrates how to replace the default Solid Router with HashRouter to enable client-side routing using the URL's hash fragment. It requires the '@solidjs/router' package and replaces the `<Router />` component with `<HashRouter />`.

```javascript
import { render } from "solid-js/web";
import {
    Router
    HashRouter,
    Route
    } from "@solidjs/router";


const App = (props) => (
    <>
        <h1>Root header</h1>
        {props.children}
    </>
);


render(
    () => <Router root={App}>{/*... routes */}</Router>,
    () => <HashRouter root={App}>{/*... routes */}</HashRouter>,
    document.getElementById("app")
);
```

--------------------------------

### Handle 404 for Dynamic Routes with HttpStatusCode and ErrorBoundary

Source: https://docs.solidjs.com/solid-start/reference/server/http-status-code

This snippet shows how to set a 404 status code for dynamic routes when a resource is missing, typically identified during an async request. It pairs HttpStatusCode with SolidJS's ErrorBoundary to catch errors and conditionally render the status code.

```tsx
import { Show, ErrorBoundary } from "solid-js";
import { query, createAsync } from "@solidjs/router";
import { HttpStatusCode } from "@solidjs/start";


const getHouse = query(async (house: string) => {
  if (house != "gryffindor") {
    throw new Error("House not found");
  }
  return house;
}, "house");


export default function House(props: { name: string }) {
  const house = createAsync(() => getHouse(props.name), { deferStream: true });
  return (
    <ErrorBoundary
      fallback={(e) => (
        <Show when={e.message === "House not found"}>
          <HttpStatusCode code={404} />
        </Show>
      )}
    >
      <div>{house()}</div>
    </ErrorBoundary>
  );
}
```

--------------------------------

### SolidJS <For> Component Basic Usage

Source: https://docs.solidjs.com/reference/components/for

Demonstrates the basic usage of the SolidJS <For> component to render a list of items. It uses the 'each' prop to pass an array and a simple arrow function within the children prop to render each item.

```jsx
<For each={state.list} fallback={<div>Loading...</div>}>
  {(item) => <div>{item}</div>}
</For>

```

--------------------------------

### SolidStart Handler with Nonce (TypeScript)

Source: https://docs.solidjs.com/solid-start/guides/security

This is the SolidStart server entry point configuration that accepts the nonce generated by the middleware. It ensures that the nonce is available to the SolidStart application, allowing dynamic script loading with CSP.

```typescript
// src/entry-server.tsx
// @refresh reload
import { createHandler, StartServer } from "@solidjs/start/server";


export default createHandler(
  () => <StartServer /* ... */ />,
  (event) => ({ nonce: event.locals.nonce })
);

```

--------------------------------

### Import createRenderEffect - SolidJS

Source: https://docs.solidjs.com/reference/secondary-primitives/create-render-effect

This snippet shows how to import the createRenderEffect function from the 'solid-js' library. It's a fundamental step for using this reactive primitive.

```javascript
import { createRenderEffect } from "solid-js";
```

--------------------------------

### User Profile Display with Show Component (SolidJS)

Source: https://docs.solidjs.com/reference/components/suspense

An improved SolidJS component that uses createResource and the Show component to display a fallback message while fetching user data. The profile data is rendered only when the resource has resolved, offering a better user experience.

```javascript
const MyComponentWithShow = () => {
  const [profile] = createResource(async () => {
    /* fetcher code here */
  })
  return (
    <Show when={profile()} fallback={<div>fetching user data</div>}>
      <div>{profile().name}</div>
      <div>{profile().email}</div>
    </Show>
  )
}
```

--------------------------------

### SolidJS: Create and Define Signals

Source: https://docs.solidjs.com/reference/basic-reactivity/create-signal

Demonstrates the creation of signals using `createSignal` in Solid.js. This includes defining signals for primitive types like numbers and booleans, and how to destructure the returned getter and setter functions.

```javascript
import { createSignal } from "solid-js"

const [count, setCount] = createSignal(0)
const [ready, setReady] = createSignal(false)
```

--------------------------------

### SolidJS onMount for One-Time Execution

Source: https://docs.solidjs.com/concepts/effects

Illustrates using the `onMount` function in SolidJS to execute a side effect exactly once when a component is initialized. It's suitable for API calls and avoids dependency tracking issues found in `createEffect` for single-run scenarios.

```javascript
import { onMount, createSignal, createEffect } from "solid-js";


function Component() {
  const [data, setData] = createSignal(null);


  createEffect(() => {
    data(); // will run every time data changes
  });


  onMount(async () => {
    // will run only once, when the component is mounted
    const fetchedData = await fetch("https://example.com/data");
    setData(fetchedData);
  });


  return <div>...</div>;
}

```

--------------------------------

### Build Solid.js Project with Various Package Managers

Source: https://docs.solidjs.com/guides/deployment-options/cloudflare

Executes the build script for a Solid.js project using different package managers. This command generates the production-ready static assets for deployment.

```npm
npm run build
```

```pnpm
pnpm build
```

```yarn
yarn build
```

```bun
bun run build
```

```deno
deno run build
```

--------------------------------

### Create a Signal in SolidJS

Source: https://docs.solidjs.com/concepts/signals

Demonstrates how to create a reactive signal using `createSignal` from the 'solid-js' library. It returns a getter and a setter function to manage the signal's state. The initial value is passed as an argument.

```javascript
import { createSignal } from "solid-js";


const [count, setCount] = createSignal(0);
//       ^ getter  ^ setter
```

--------------------------------

### Accessing Dynamic Route Parameters with useParams

Source: https://docs.solidjs.com/guides/routing-and-navigation

Illustrates how to retrieve dynamic route parameters within a SolidJS component using the `useParams` hook from `@solidjs/router`. This allows components to react to and utilize parameters like ':id' from the URL.

```javascript
import { useParams } from "@solidjs/router";


const User = () => {
  const params = useParams(); // Retrieve the dynamic route parameters
  // Now you can access the id parameter as params.id


  return (
    <p>
      This is the user with the id of <code>{params.id}</code>
    </p>
  );
};
```

--------------------------------

### SolidJS Router: Redirecting After Action

Source: https://docs.solidjs.com/solid-router/concepts/actions

Demonstrates using the `redirect` helper from SolidJS Router to navigate the user to a new page after an action completes. It can also revalidate specific queries upon redirection, useful for updating data on the new page.

```typescript
import { action, redirect } from "@solidjs/router";
import { useSession } from "vinxi/http";


const logoutAction = action(async () => {
  "use server";
  const session = await useSession({
    password: process.env.SESSION_SECRET as string,
    name: "session",
  });


  if (session.data.sessionId) {
    await session.clear();
    await db.session.delete({ id: sessionId });
  }


  throw redirect("/");
}, "logout");
```

--------------------------------

### Solid-Meta: Add Base Tag Component (JavaScript/TypeScript)

Source: https://docs.solidjs.com/solid-meta/reference/meta/base

Demonstrates how to use the Base component from '@solidjs/meta' to set the base URL for relative links. This component renders a `<base>` tag in the document's head. It requires the '@solidjs/meta' package and is typically used within a MetaProvider.

```javascript
import { Base } from "@solidjs/meta";


<Base target="_blank" href="https://docs.solidjs.com/" />;
```

```javascript
import { MetaProvider, Base } from "@solidjs/meta";


export default function Root() {
  return (
    <MetaProvider>
      <Base target="_blank" href="https://docs.solidjs.com/" />
    </MetaProvider>
  );
}
```

--------------------------------

### SolidJS createSignal and createEffect Reactivity

Source: https://docs.solidjs.com/advanced-concepts/fine-grained-reactivity

Demonstrates the fundamental mechanism of reactivity in SolidJS using createSignal and createEffect. It explains how signals track dependencies and effects are triggered upon signal updates. This implementation manually manages subscribers to simulate reactive behavior.

```javascript
let currentSubscriber = null;

function createSignal(initialValue) {
  let value = initialValue;
  const subscribers = new Set();

  function getter() {
    if (currentSubscriber) {
      subscribers.add(currentSubscriber);
    }
    return value;
  }

  function setter(newValue) {
    if (value === newValue) return; 
    value = newValue;
    for (const subscriber of subscribers) {
      subscriber(); 
    }
  }

  return [getter, setter];
}

// creating an effect
function createEffect(fn) {
  const previousSubscriber = currentSubscriber; 
  currentSubscriber = fn;
  fn();
  currentSubscriber = previousSubscriber;
}
```

--------------------------------

### createResource - Custom Storage with `storage` Option

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

Utilize the `storage` option to provide custom signal implementations for `createResource`, enabling advanced state management patterns like deep reactivity.

```APIDOC
## Custom Storage with `storage` Option

### Description
Enables the use of custom signal implementations for resource storage, offering flexibility for complex state management.

### Options
- **storage**: (`function`) - A function that returns a signal with the signature `[Accessor<T | undefined>, Setter<T | undefined>]`. Defaults to `createSignal`.
  - **Note**: This option is experimental and may be subject to change.

### Request Example
```javascript
// Example using a custom deep signal implementation
function createDeepSignal<T>(value: T): Signal<T> {
  const [store, setStore] = createStore({ value })
  return [
    () => store.value,
    (v: T) => {
      const unwrapped = unwrap(store.value)
      typeof v === "function" && (v = v(unwrapped))
      setStore("value", reconcile(v))
      return store.value
    },
  ] as Signal<T>
}

const [resource] = createResource(fetcher, {
  storage: createDeepSignal,
})
```

### Response
**Success Response (200)**
The resource will use the `createDeepSignal` for its internal state management, allowing for deep reactivity.
```

--------------------------------

### Create and Use an Effect in SolidJS

Source: https://docs.solidjs.com/concepts/effects

Demonstrates how to create an effect using `createEffect` that logs a signal's value to the console whenever it changes. This is useful for observing and reacting to state updates.

```javascript
import { createEffect, createSignal } from "solid-js";


const [count, setCount] = createSignal(0);


createEffect(() => {
  console.log(count());
});

```

--------------------------------

### Project Import YAML for Static Sites on Zerops

Source: https://docs.solidjs.com/guides/deployment-options/zerops

This YAML configuration is used for creating a new Zerops project for static Solid.js applications. It defines the project name and specifies a 'static' service with a configurable hostname.

```yaml
project:
  name: recipe-solidjs

services:
  - hostname: app
    type: static
    enableSubdomainAccess: true
```

--------------------------------

### Deploy SolidStart App to AWS Production with SST

Source: https://docs.solidjs.com/guides/deployment-options/aws-via-sst

Commands to deploy a SolidStart application to AWS in the 'production' stage using SST. These commands ensure the application is built and deployed to the cloud.

```bash
npx sst@latest deploy --stage production

```

```bash
pnpx sst@latest deploy --stage production

```

```bash
yarn dlx sst@latest deploy --stage production

```

```bash
bunx sst@latest deploy --stage production

```

```bash
dpx sst@latest deploy --stage production

```

--------------------------------

### Create Reusable SolidJS Context Wrapper

Source: https://docs.solidjs.com/guides/testing

A factory function to create reusable SolidJS context wrappers with different values. This simplifies testing components that require specific context configurations.

```jsx
const createWrapper = (value) => (props) =>
  <DataContext value={value} {...props}/>
```

--------------------------------

### Update Session Data in SolidStart

Source: https://docs.solidjs.com/solid-start/advanced/session

Illustrates how to update session data in SolidStart using the `update` method provided by the `useSession` helper. This allows modifying user preferences, such as the theme, and persisting the changes.

```typescript
export async function updateThemeSession(data: SessionData) {
  "use server";
  const session = await useThemeSession();
  await session.update(data);
}
```

--------------------------------

### Configure Nitro Preset in SolidStart

Source: https://docs.solidjs.com/solid-start/reference/config/define-config

This snippet illustrates configuring the Nitro server preset to 'netlify_edge' for SolidStart applications. This is useful for deploying to specific platforms.

```typescript
import { defineConfig } from "@solidjs/start/config";


export default defineConfig({
  server: {
    preset: "netlify_edge",
  },
});
```

--------------------------------

### Returning Responses

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

API routes are expected to return JSON data or a `Response` object. This allows for flexible data formatting and control over HTTP status codes and headers.

```APIDOC
## Returning Responses from API Routes

API route handlers should return either a JSON object (which SolidStart automatically wraps in a `Response` with `application/json` content type) or a standard `Response` object.

### Returning JSON:
When you return a JavaScript object or array directly, SolidStart serializes it to JSON and sets the appropriate `Content-Type` header.

```typescript
import type { APIEvent } from "@solidjs/start/server";

export async function GET({ params }: APIEvent) {
  const product = {
    id: params.productId,
    name: "Example Product",
    price: 99.99
  };
  // SolidStart will automatically stringify this to JSON and set Content-Type: application/json
  return product;
}
```

### Returning a `Response` Object:
For more control over the response (e.g., setting status codes, custom headers, or returning non-JSON data like text or blobs), you can explicitly return a `Response` object.

```typescript
import type { APIEvent } from "@solidjs/start/server";

export async function GET({ params }: APIEvent) {
  // Example: Fetching data asynchronously
  const products = await fetchProductsByCategory(params.category);

  if (!products || products.length === 0) {
    // Return a 404 Not Found response if no products are found
    return new Response(JSON.stringify({ message: "No products found for this category" }), {
      status: 404,
      headers: {
        "Content-Type": "application/json"
      }
    });
  }

  // Return a successful response with the product data
  return new Response(JSON.stringify(products), {
    status: 200,
    headers: {
      "Content-Type": "application/json"
    }
  });
}

// Dummy function for example purposes
async function fetchProductsByCategory(category: string): Promise<Array<any>> {
  // Replace with actual data fetching logic
  if (category === "electronics") {
    return [{ id: '1', name: 'Laptop' }, { id: '2', name: 'Smartphone' }];
  }
  return [];
}
```

### Handling Different Methods with `Response`:
```typescript
import type { APIEvent } from "@solidjs/start/server";

export async function GET(event: APIEvent) {
  // Handle GET request logic
  return new Response(JSON.stringify({ message: "Data retrieved successfully" }), {
    status: 200,
    headers: {
      "Content-Type": "application/json"
    }
  });
}

export async function POST(event: APIEvent) {
  const data = await event.request.json();
  // Handle POST request logic
  return new Response(JSON.stringify({ message: "Data created successfully", received: data }), {
    status: 201,
    headers: {
      "Content-Type": "application/json"
    }
  });
}
```

```

--------------------------------

### createDeferred Function

Source: https://docs.solidjs.com/reference/secondary-primitives/create-deferred

Details on how to use the createDeferred function, including its signature, options, and purpose.

```APIDOC
## createDeferred Function

### Description
Creates a readonly that only notifies downstream changes when the browser is idle. `timeoutMs` is the maximum time to wait before forcing the update.

### Method
```javascript
createDeferred<T>(
  source: () => T,
  options?: {
    timeoutMs?: number,
    equals?: false | ((prev: T, next: T) => boolean),
    name?: string
  }
): () => T
```

### Parameters
#### Options
- **timeoutMs** (`number`) - Optional - The maximum time to wait before forcing the update.
- **equals** (`false | ((prev: T, next: T) => boolean)`) - Optional - A function that returns true if the value has changed.
- **name** (`string`) - Optional - The name of the readonly.

### Request Example
```json
{
  "source": "() => someValue",
  "options": {
    "timeoutMs": 1000,
    "equals": "(prev, next) => prev !== next"
  }
}
```

### Response Example
```json
{
  "deferredValue": "actualValue"
}
```
```

--------------------------------

### zerops.yml for SSG Solid.js Apps

Source: https://docs.solidjs.com/guides/deployment-options/zerops

This `zerops.yml` file configures the build and run settings for a static site generated (SSG) Solid.js application on Zerops. It specifies build commands and the directory containing the static build output.

```yaml
zerops:
  - setup: app
    build:
      base: nodejs@latest
      buildCommands:
        - pnpm i
        - pnpm build
      deployFiles:
        - dist/~
    run:
      base: static
```

--------------------------------

### Override SEO Meta Tags in Route

Source: https://docs.solidjs.com/solid-start/building-your-application/head-and-metadata

Allows route-specific meta tags to override global ones defined in the root layout. This enables tailored SEO descriptions and titles for individual routes, enhancing relevance.

```typescript
import MySiteTitle from "~/components/MySiteTitle";


export default function About() {
  return (
    <>
      <MySiteTitle>About</MySiteTitle>
      <Meta name="description" content="This is my content tag." />
      <Meta
        property="og:title"
        content="Welcome to my site!"
      />
      <Meta
        property="og:description"
        content="A website"
      />
      <h1>About</h1>
    </>
  );
}
```

--------------------------------

### Solid Router: Equivalent Route Definitions

Source: https://docs.solidjs.com/solid-router/concepts/nesting

Demonstrates two syntaxes in Solid Router that achieve the same result for nested routes. This allows a child component to render at a specific URL path, with options for the parent path to also be a distinct route.

```jsx
<Route path="/users/:id" component={User} />


// is equivalent to


<Route path="/users">
  <Route path="/:id" component={User} />
</Route>
```

--------------------------------

### Alternative Nested Route Definitions in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Shows two equivalent ways to define nested routes that match the same URL (`/users/:id`). This highlights flexibility in structuring route definitions, with both parent path specification and direct child pathing.

```javascript
import { Route } from '@solidjs/router';
import { User } from './routes/User';

// Option 1
<Route path="/users/:id" component={User} />

// Option 2
<Route path="/users">
  <Route path="/:id" component={User} />
</Route>
```

--------------------------------

### SolidJS Data Transfer with createResource

Source: https://docs.solidjs.com/concepts/understanding-jsx

Illustrates how components can receive and react to data fetched via `createResource`. Props are used to pass this data, enabling components to update in real-time as the resource resolves or updates.

```jsx
import { createResource } from "solid-js";

async function fetchData() {
  const response = await fetch('/api/data');
  return response.json();
}

function MyDataComponent(props) {
  // props.data is expected to be the result of createResource
  return (
    <div>
      {props.data() ? `Data: ${props.data()}` : 'Loading...'}
    </div>
  );
}

function App() {
  const data = createResource(fetchData);
  return <MyDataComponent data={data} />;
}
```

--------------------------------

### SolidJS Factory Function for Context Type

Source: https://docs.solidjs.com/configuration/typescript

Illustrates using a factory function to generate context values and leveraging TypeScript's `ReturnType` to define the context type. This promotes code reusability and type safety for complex context structures.

```typescript
import { createContext, createSignal, useContext, Accessor, Setter, JSX } from "solid-js";

export const makeCountNameContext = (initialCount = 0, initialName = "") => {
  const [count, setCount] = createSignal(initialCount);
  const [name, setName] = createSignal(initialName);
  return [
    { count, name },
    { setCount, setName },
  ] as const;
};

type CountNameContextType = ReturnType<typeof makeCountNameContext>;

export const CountNameContext = createContext<CountNameContextType>();

export const useCountNameContext = () => {
  const countName = useContext(CountNameContext);
  if (!countName) {
    throw new Error(
      "useCountNameContext should be called inside its ContextProvider"
    );
  }
  return countName;
};

```

--------------------------------

### Basic on:* Event Handling in SolidJS

Source: https://docs.solidjs.com/reference/jsx-attributes/on

This snippet demonstrates the basic usage of the `on:*` syntax in SolidJS to attach an event listener directly to a DOM element. It's useful for specific events or when direct attachment is required.

```jsx
<div on:DOMContentLoaded={(e) => console.log("Welcome!")} />
```

--------------------------------

### createResource - TypeScript Definitions

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

Provides the TypeScript type definitions for `createResource`, including `ResourceReturn` and `ResourceOptions`, for enhanced type safety and developer experience.

```APIDOC
## TypeScript Definitions for `createResource`

### Description
Type definitions for `createResource` to aid TypeScript users in leveraging its features safely.

### Type Definitions
```typescript
import { createResource } from "solid-js"
import type { ResourceReturn, ResourceOptions } from "solid-js"

type ResourceReturn<T> = [
  {
    (): T | undefined
    state: "unresolved" | "pending" | "ready" | "refreshing" | "errored"
    loading: boolean
    error: any
    latest: T | undefined
  },
  {
    mutate: (v: T | undefined) => T | undefined
    refetch: (info: unknown) => Promise<T> | T
  }
]

type ResourceOptions<T, S = unknown> = {
  initialValue?: T
  name?: string
  deferStream?: boolean
  ssrLoadFrom?: "initial" | "server"
  storage?: (
    init: T | undefined
  ) => [Accessor<T | undefined>, Setter<T | undefined>]
  onHydrated?: (k: S | undefined, info: { value: T | undefined }) => void
}

function createResource<T, U = true>(
  fetcher: (k: U, info: { value: T | undefined; refetching: boolean | unknown }) => T | Promise<T>,
  options?: ResourceOptions<T, U>
): ResourceReturn<T>

function createResource<T, U>(
  source: U | false | null | (() => U | false | null),
  fetcher: (k: U, info: { value: T | undefined; refetching: boolean | unknown }) => T | Promise<T>,
  options?: ResourceOptions<T, U>
): ResourceReturn<T>
```
```

--------------------------------

### Route Groups in SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/routing

Explains the concept of route groups, defined by enclosing folder names in parentheses `()`, which allow for organizing routes without altering the URL structure. This enhances maintainability of the routing configuration.

```file-structure
|-- routes/
    |-- (static)
        |-- about-us                // example.com/about-us
            |-- index.tsx
        |-- contact-us              // example.com/contact-us
            |-- index.tsx
```

--------------------------------

### Solid Router Suspense Boundary for Data Fetching

Source: https://docs.solidjs.com/solid-router/data-fetching/streaming

Demonstrates using Suspense boundaries with Solid Router's query and createAsync for streaming data. Each Suspense component creates an independent boundary, allowing parts of the page to render while others are still loading. This improves perceived performance by showing content sooner.

```typescript
import { Suspense, For } from "solid-js";
import { query, createAsync } from "@solidjs/router";


const getAccountStatsQuery = query(async () => {
  // ... Fetches account statistics.
}, "accountStats");


const getRecentTransactionsQuery = query(async () => {
  // ... Fetches a list of recent transactions.
}, "recentTransactions");


function Dashboard() {
  const stats = createAsync(() => getAccountStatsQuery());
  const transactions = createAsync(() => getRecentTransactionsQuery());


  return (
    <div>
      <h1>Dashboard</h1>
      <Suspense fallback={<p>Loading account stats...</p>}>
        <For each={stats()}>
          {(stat) => (
            <p>
              {stat.label}: {stat.value}
            </p>
          )}
        </For>
      </Suspense>


      <Suspense fallback={<p>Loading recent transactions...</p>}>
        <For each={transactions()}>
          {(transaction) => (
            <h2>
              {transaction.description} - {transaction.amount}
            </h2>
          )}
        </For>
      </Suspense>
    </div>
  );
}

```

--------------------------------

### SolidJS Context Creation with Default Value

Source: https://docs.solidjs.com/configuration/typescript

Demonstrates creating a SolidJS context with a default value, which helps TypeScript infer the context type and avoid undefined values. This approach simplifies type management when a context provider might not always be present.

```typescript
import { createContext, useContext, createSignal, JSX } from "solid-js";

type Data = {
  count: number;
  name: string;
};

// Context with a default value
const dataContext = createContext<Data | undefined>();

// Example usage:
const MyComponent = () => {
  const contextValue = useContext(dataContext);
  // contextValue will be of type Data | undefined
  return <div>{contextValue?.count}</div>;
};

// Context with a non-undefined default value
const dataContextWithDefault = createContext({ count: 0, name: "" });

// Example usage:
const AnotherComponent = () => {
  const contextValue = useContext(dataContextWithDefault);
  // contextValue will be of type { count: number, name: string }
  return <div>{contextValue.count}</div>;
};

```

--------------------------------

### Provide Context in SolidJS

Source: https://docs.solidjs.com/reference/component-apis/create-context

Implements a SolidJS context provider component. It utilizes `createStore` to manage reactive state and provides the context value, which includes the state and functions to modify it, to its children. It accepts an optional `initialCount` prop.

```typescript
import { createStore } from 'solid-js/store';
import { CounterContext, INITIAL_COUNT } from "./counter.ts";


export function CounterProvider(props) {
    const [value, setValue] = createStore({ count: props.initialCount || INITIAL_COUNT })


    const counter = [
        value,
        {
            increment() {
                setValue("count", currentCount => currentCount + 1)
            },
            decrement() {
                setValue("count", currentCount => currentCount - 1)
            },
        },
    ]


    return (
        <CounterContext.Provider value={counter}>
            {props.children}
        </CounterContext.Provider>
    )
}

```

--------------------------------

### Set Global SEO Meta Tags in Root

Source: https://docs.solidjs.com/solid-start/building-your-application/head-and-metadata

Configures global SEO meta tags, such as og:image and og:site_name, within the root layout of the SolidStart application. These tags are applied to all pages unless overridden by route-specific tags.

```typescript
export default function Root() {
  return (
    <Html lang="en">
      <Head>
        <Meta
          property="og:image"
          content="https://example.com/image.jpg"
        />
        <Meta
          property="og:image:alt"
          content="Welcome to my site"
        />
        <Meta property="og:image:width" content="1200" />
        <Meta property="og:image:height" content="600" />
        <Meta property="og:site_name" content="GitHub" />
      </Head>
    </Html>
  );
}
```

--------------------------------

### Access event.locals from Server-Side Contexts in SolidStart

Source: https://docs.solidjs.com/solid-start/advanced/middleware

Shows how to retrieve request-specific data stored in `event.locals` from other server-side contexts using the `getRequestEvent` function in SolidStart. This allows server components or data fetching functions to access middleware-defined locals.

```javascript
import { getRequestEvent } from "solid-js/web"
import { query, createAsync } from "@solidjs/router"


const getUser = query(async () => {
  "use server";
  const event = getRequestEvent();
  return {
    name: event?.locals?.user?.name,
    greeting: event?.locals?.sayHello(),
  };
}, "user")


export default function Page() {
  const user = createAsync(() => getUser())


  return (
    <div>
      <p>Name: {user()?.name}</p>
      <button onClick={() => alert(user()?.greeting)}>Say Hello</button>
    </div>
  );
}
```

--------------------------------

### Implement MetaProvider in SolidJS

Source: https://docs.solidjs.com/solid-meta/reference/meta/metaprovider

MetaProvider is a parent component essential for managing metadata within a SolidJS application. It wraps all metadata components, ensuring they are correctly added to the application's `<head />`. No specific inputs are required, and its primary output is the injection of metadata into the HTML head.

```jsx
import { MetaProvider } from "@solidjs/meta";

<MetaProvider>// add meta components</MetaProvider>;
```

--------------------------------

### Create Initialized Signals with Default Values in SolidJS

Source: https://docs.solidjs.com/configuration/typescript

Demonstrates creating signals with initial default values. This allows TypeScript to infer the signal's type, eliminating the need for explicit type arguments and avoiding `| undefined`.

```typescript
const [count, setCount] = createSignal(0);
const [name, setName] = createSignal("");
```

--------------------------------

### SolidJS Creating a Signal

Source: https://docs.solidjs.com/guides/state-management

Demonstrates how to create a reactive signal in SolidJS using the `createSignal` function. This function takes an initial value and returns a getter and a setter function for managing the state.

```javascript
import { createSignal } from "solid-js";


const [count, setCount] = createSignal(0);

```

--------------------------------

### Nest Components in SolidJS

Source: https://docs.solidjs.com/concepts/components/basics

Illustrates how to nest components within each other to build more complex UIs. This nesting forms the basis of a component tree.

```javascript
function App() {
  return (
    <div>
      <MyComponent />
    </div>
  );
}
```

--------------------------------

### Injecting CSS Styles with Solid.js Meta Style Component

Source: https://docs.solidjs.com/solid-meta/reference/meta/style

Demonstrates how to use the Style component from '@solidjs/meta' to inject CSS rules directly into the document's head. This component is useful for dynamic styling but external stylesheets via Link are generally recommended. Styles are not scoped.

```jsx
import { Style } from "@solidjs/meta";

<Style>
  {`
    body {
      background-color: #000;
    }
  `}
</Style>;
```

```jsx
import { MetaProvider, Style } from "@solidjs/meta";

export default function Root() {
  return (
    <MetaProvider>
      <Style>{`
          p {
            color: #26b72b;
          }
        `}</Style>
    </MetaProvider>
  );
}
```

--------------------------------

### Solid Router: Server-Side Navigation with redirect

Source: https://docs.solidjs.com/solid-router/concepts/navigation

The `redirect` function is used within SolidStart's actions or query functions to perform server-side navigation. It returns a `Response` object, enabling redirection to a specified route after an operation, such as logging out.

```jsx
import { action, redirect } from "@solidjs/router";


const logout = action(async () => {
  localStorage.remove("token");
  throw redirect("/");
});

```

--------------------------------

### Solid.js Optimistic UI with useSubmission

Source: https://docs.solidjs.com/solid-router/concepts/actions

Implements an optimistic UI pattern for adding items to a shopping cart in Solid.js. It uses `query` for fetching cart data, `action` for handling form submissions, and `useSubmission` to access pending action inputs. A derived signal `optimisticCart` updates the UI immediately upon submission, reverting if the action fails or revalidating with server data upon success. Dependencies include `@solidjs/router`.

```typescript
import { For, Show } from "solid-js";
import { query, action, createAsync, useSubmission } from "@solidjs/router";


const getCartQuery = query(async () => {
  // ... Fetches the current shopping cart items.
}, "cart");


const addToCartAction = action(async (formData: FormData) => {
  // ... Adds a product to the cart.
}, "addToCart");


function CartPage() {
  const cart = createAsync(() => getCartQuery());
  const submission = useSubmission(addToCartAction);


  const optimisticCart = () => {
    const originalItems = cart() ?? [];
    if (submission.pending) {
      const formData = submission.input[0] as FormData;
      const productId = formData.get("productId")?.toString();
      const name = formData.get("name")?.toString();
      if (productId && name) {
        // Add the optimistic line item with a temporary identifier.
        return [...originalItems, { id: "temp", productId, name, quantity: 1 }];
      }
    }
    return originalItems;
  };


  return (
    <div>
      <h2>Your cart</h2>
      <For each={optimisticCart()}>{(item) => <p>{item.name}</p>}</For>


      <h3>Add item</h3>
      <form action={addToCartAction} method="post">
        <input name="productId" placeholder="Product ID" />
        <input name="name" placeholder="Product name" />
        <button type="submit" disabled={submission.pending}>
          {submission.pending ? "Adding..." : "Add to cart"}
        </button>
      </form>
    </div>
  );
}
```

--------------------------------

### Disabling SSR for Entire Pages

Source: https://docs.solidjs.com/solid-start/reference/client/client-only

Illustrates how to apply `clientOnly` at the page level to ensure the entire page renders only on the client.

```APIDOC
## Disabling SSR for Entire Pages

### Description
This guide shows how to use `clientOnly` to prevent server-side rendering for an entire page, ensuring it executes exclusively in the browser environment.

### Method
N/A (Conceptual guide)

### Endpoint
N/A

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
```jsx
import { clientOnly } from "@solidjs/start";

export default clientOnly(async () => ({ default: Page }), { lazy: true });

function Page() {
  // This code runs only on the client
  return <div>Client-only page content</div>;
}
```

### Response
#### Success Response (200)
N/A

#### Response Example
N/A
```

--------------------------------

### Access and Modify Request/Response Headers in SolidStart Middleware

Source: https://docs.solidjs.com/solid-start/advanced/middleware

Illustrates how to interact with `event.request.headers` and `event.response.headers` within SolidStart middleware. This enables reading client metadata and adding custom headers to both incoming requests and outgoing responses.

```javascript
import { createMiddleware } from "@solidjs/start/middleware"


export default createMiddleware({
  onRequest: (event) => {
    // Reading client metadata for later use
    const userAgent = event.request.headers.get("user-agent");
    // Adding custom headers to request/response
    event.request.headers.set("x-custom-request-header", "hello");
    event.response.headers.set("x-custom-response-header1", "hello");
  },
  onBeforeResponse: (event) => {
    // Finalizing response headers before sending to client
    event.response.headers.set("x-custom-response-header2", "hello");
  },
});
```

--------------------------------

### Import the query function from Solid Router

Source: https://docs.solidjs.com/solid-router/reference/data-apis/query

This snippet shows how to import the `query` function from the '@solidjs/router' package. This function is essential for implementing cached data fetching in SolidStart applications.

```javascript
import { query } from "@solidjs/router";
```

--------------------------------

### Solid.js Portal Component Usage

Source: https://docs.solidjs.com/reference/components/portal

Demonstrates how to use the Solid.js Portal component to render content into a specified DOM node. The 'mount' prop targets the DOM element, and 'children' are the elements to be rendered. This is commonly used for modals that need to be outside the regular page layout. Note that Portal only runs on the client and has hydration disabled.

```tsx
import { Portal } from "solid-js/web"
import type { JSX } from "solid-js"

function App() {
  return (
    <>
      {/* Other components */}
      <Portal mount={document.getElementById("modal")}>
        <div>My Modal Content</div>
      </Portal>
    </>
  )
}
```

--------------------------------

### Synchronous Effect Tracking with setTimeout in SolidJS

Source: https://docs.solidjs.com/advanced-concepts/fine-grained-reactivity

Demonstrates how `createEffect` with `setTimeout` can lead to missed dependency tracking due to the synchronous nature of SolidJS's reactivity. The system registers, runs, and unregisters subscribers synchronously, not waiting for asynchronous operations.

```javascript
createEffect(() => {
  setTimeout(() => {
    console.log(count());
  }, 1000);
});
```

--------------------------------

### SolidJS `on` Utility with Stores: Incorrect Usage

Source: https://docs.solidjs.com/reference/reactive-utilities/on-util

Highlights an incorrect way to use the `on` utility with SolidJS stores, where directly accessing a store property as a dependency does not trigger updates.

```javascript
const [state, setState] = createStore({ a: 1, b: 2 });


// this will not work
createEffect(on(state.a, (v) => console.log(v)));


setState({ a: 3 }); // logs nothing
```

--------------------------------

### SolidJS: Effect vs Memo for Conditional Logic

Source: https://docs.solidjs.com/concepts/derived-values/memos

Compares the usage of `createEffect` and `createMemo` in SolidJS for handling conditional logic based on a reactive signal (`count`). The effect runs on every `count` change, while the memo recomputes only when the derived value changes, optimizing performance and preventing unnecessary re-renders.

```javascript
// effect - runs whenever `count` changes
createEffect(() => {
  if (count() > 10) {
    setMessage("Count is too high!")
  } else {
    setMessage("")
  }
})


// memo - only runs when `count` changes to or from a value greater than 10
const message = createMemo(() => {
  if (count() > 10) {
    return "Count is too high!"
  } else {
    return ""
  }
})
```

--------------------------------

### Using Custom Context Consumer Hook

Source: https://docs.solidjs.com/concepts/context

Demonstrates how to use a custom context consumer hook, such as `useCounter`, within a SolidJS component. This hook abstracts the `useContext` call, making context access more straightforward.

```javascript
import { useCounter } from "./counter";


export function CounterProvider(props) {
  const count = useCounter();
  return (
    <>
      <div>{count()}</div>
    </>
  );
}
```

--------------------------------

### Create Context with createContext

Source: https://docs.solidjs.com/concepts/context

Demonstrates how to create a context object using `createContext` in SolidJS. This context object will be used to share data across the component tree.

```javascript
import { createContext } from "solid-js";


export const MyContext = createContext();
```

--------------------------------

### Type Definition for Solid Router Action Function

Source: https://docs.solidjs.com/solid-router/reference/data-apis/action

Provides the TypeScript type definitions for the 'action' function, illustrating its generic nature and the expected types for handler functions and optional configuration options. This helps in understanding the function's signature and how to correctly pass arguments and options.

```typescript
function action<T extends Array<any>, U = void>(
  fn: (...args: T) => Promise<U>,
  name?: string
): Action<T, U>;


function action<T extends Array<any>, U = void>(
  fn: (...args: T) => Promise<U>,
  options?: { name?: string; onComplete?: (s: Submission<T, U>) => void }
): Action<T, U>;


function action<T extends Array<any>, U = void>(
  fn: (...args: T) => Promise<U>,
  options: string | { name?: string; onComplete?: (s: Submission<T, U>) => void } = {}
): Action<T, U>;
```

--------------------------------

### renderToString API

Source: https://docs.solidjs.com/reference/rendering/render-to-string

Renders a SolidJS application to an HTML string synchronously and generates a script tag for progressive hydration.

```APIDOC
## POST /renderToString

### Description
Renders a SolidJS application to an HTML string synchronously. This function also generates a script tag for progressive hydration, allowing the client-side to take over rendering seamlessly.

### Method
POST

### Endpoint
/renderToString

### Parameters
#### Query Parameters
- **options** (object) - Optional - Configuration options for the rendering process.
  - **nonce** (string) - Optional - A nonce value to be included in the generated script tag for security purposes.
  - **renderId** (string) - Optional - A unique identifier to namespace renders when dealing with multiple top-level roots on the page.

### Request Body
```json
{
  "fn": "() => T",
  "options": {
    "nonce": "string",
    "renderId": "string"
  }
}
```

### Request Example
```javascript
import { renderToString } from "solid-js/web"

const App = () => <div>Hello SolidJS</div>;
const html = renderToString(App);
```

### Response
#### Success Response (200)
- **renderedHtml** (string) - The HTML string output of the rendered SolidJS application.

#### Response Example
```json
{
  "renderedHtml": "<div>Hello SolidJS</div><script>/* hydration script */</script>"
}
```
```

--------------------------------

### SolidJS: Using `equals: false` as a Trigger

Source: https://docs.solidjs.com/reference/basic-reactivity/create-signal

Shows how to use `createSignal` with `{ equals: false }` to create a signal that acts purely as a trigger for re-renders or side effects, without necessarily storing a meaningful value.

```javascript
const [depend, rerun] = createSignal(undefined, { equals: false })
// Calling depend() in a tracking scope makes that scope rerun whenever rerun() is called.
```

--------------------------------

### Basic JSX Element in SolidJS

Source: https://docs.solidjs.com/concepts/understanding-jsx

Demonstrates the basic syntax of creating a JSX element within a JavaScript file in SolidJS. This highlights how JSX allows HTML-like structures to be embedded directly.

```javascript
const element = <h1>I'm JSX!!</h1>

```

--------------------------------

### SolidJS: Custom Event Delegation

Source: https://docs.solidjs.com/concepts/components/event-handlers

Shows how to use the 'on:' form to attach event listeners for custom events or events not supported by Solid's default delegation.

```jsx
<div on:customEvent={handleCustomEvent} />
```

--------------------------------

### Clear Session Data using useSession Helper

Source: https://docs.solidjs.com/solid-start/advanced/session

This code snippet demonstrates how to clear session data using the `clear` method from the `useSession` helper. It assumes `useThemeSession` is an asynchronous function that returns a session object with a `clear` method. The `"use server"` directive indicates this function is intended to run on the server.

```typescript
export async function clearThemeSession() {
  "use server";
  const session = await useThemeSession();
  await session.clear();
}
```

--------------------------------

### Default Route Component Export in SolidStart

Source: https://docs.solidjs.com/solid-start/building-your-application/routing

Illustrates how a file in the 'routes' directory acts as a page component when it default exports a React component. This component is rendered when a user navigates to the corresponding URL. SolidStart automatically handles the creation and availability of this route.

```typescript
export default function Index() {
  return <div>Welcome to my site!</div>;
}
```

--------------------------------

### SolidJS Counter Component with Signals

Source: https://docs.solidjs.com/concepts/intro-to-reactivity

Demonstrates a basic counter component in SolidJS using signals. It shows how to create a signal, update its value with a setter, and display the reactive count. Only the updated part of the DOM is re-rendered.

```jsx
function Counter() {
  const [count, setCount] = createSignal(0);
  const increment = () => setCount((prev) => prev + 1);

  return (
    <div>
      <span>Count: {count()}</span>{" "}
      {/* Only `count()` is updated when the button is clicked. */}
      <button type="button" onClick={increment}>
        Increment
      </button>
    </div>
  );
}
```

--------------------------------

### SolidJS Reactive Effect with Signal Subscription

Source: https://docs.solidjs.com/concepts/intro-to-reactivity

Shows how to use `createEffect` in SolidJS to create a subscriber that automatically reacts to changes in a signal. The effect logs the signal's value whenever it's updated.

```jsx
function Counter() {
  const [count, setCount] = createSignal(0);
  const increment = () => setCount((prev) => prev + 1);

  createEffect(() => {
    console.log(count());
  });
  // the `createEffect` will trigger the console log every time `count` changes.
}
```

--------------------------------

### SolidJS: Binding Events with Arguments

Source: https://docs.solidjs.com/concepts/components/event-handlers

Explains how to pass an array as an event handler to provide additional arguments to the handler function, optimizing performance by avoiding extra closures.

```javascript
const handler = (data, event) => {
  console.log("Data:", data, "Event:", event);
};

```

```jsx
<button onClick={[handler, "Hello!"]}>Click Me</button>;
```

--------------------------------

### SolidJS: Memoized Derived State with createMemo

Source: https://docs.solidjs.com/guides/state-management

Demonstrates using createMemo to create a memoized (cached) derived value. This ensures that the computation for `doubleCountMemo` runs only once when `count` changes, regardless of how many times `doubleCountMemo()` is accessed, improving performance for expensive calculations.

```javascript
import { createSignal, createMemo } from "solid-js"


function Counter() {
  const [count, setCount] = createSignal(0)


  const increment = () => {
    setCount((prev) => prev + 1);
  };


  const doubleCount = () => {
    console.log('doubleCount called')
    return count() * 2
  }


  const doubleCountMemo = createMemo(() => {
    console.log('doubleCountMemo called')
    return count() * 2
  })


  return (
    <>
      <div>Current count: {count()}</div>
      <div>Doubled count: {doubleCount()}</div>
      <div>Doubled count: {doubleCount()}</div>
      <div>Doubled count: {doubleCount()}</div>
      <div>Doubled count: {doubleCountMemo()}</div>
      <div>Doubled count: {doubleCountMemo()}</div>
      <div>Doubled count: {doubleCountMemo()}</div>
      <button onClick={increment}>Increment</button>
    </>
  );
}


```

--------------------------------

### Import createAsync from SolidJS Router

Source: https://docs.solidjs.com/solid-router/reference/data-apis/create-async

This snippet shows how to import the createAsync function from the @solidjs/router package. This is the primary step to utilize the primitive.

```typescript
import { createAsync } from "@solidjs/router";
```

--------------------------------

### Solid Router SSR Integration

Source: https://docs.solidjs.com/solid-router/rendering-modes/ssr

This snippet demonstrates how to integrate Solid Router with Server-Side Rendering (SSR) by passing the request URL to the Router component. It leverages `isServer` from 'solid-js/web' to conditionally set the URL. This allows the router to initialize correctly on the server.

```jsx
import { isServer } from "solid-js/web";
import { Router } from "@solidjs/router";


<Router url={isServer ? req.url : ""} />;

```

--------------------------------

### useMatch with Optional Route Parameters

Source: https://docs.solidjs.com/solid-router/reference/primitives/use-match

Optional route parameters can be defined in the path by appending a '?' to the parameter name. This allows for flexible matching of routes with or without specific segments, such as optional project or reference paths.

```typescript
import { useMatch } from "solid-router";

const isReference = useMatch(() => "/:project?/reference/*?", {
  project: ["solid-router", "solid-meta", "solid-start"],
});

// This will match paths like:
// /reference
// /solid-router/reference
// /reference/...
// /solid-router/reference/...
```

--------------------------------

### Basic useMatch Hook for Route Matching

Source: https://docs.solidjs.com/solid-router/reference/primitives/use-match

The useMatch hook takes a path accessor and returns a Memoized signal that indicates if the current route matches the provided path. This is commonly used to apply active states to navigation links. It relies on the SolidJS reactivity system.

```typescript
import { useMatch } from "solid-router";

// Assuming props.href is a string representing the target path
const match = useMatch(() => props.href);

return <div classList={{ active: Boolean(match()) }} />;
```

--------------------------------

### Render SolidJS Component for Testing

Source: https://docs.solidjs.com/guides/testing

Renders a SolidJS component within a testing environment using `@solidjs/testing-library`. It sets up a container, registers the component for cleanup, and manages context and router wrapping. The function returns an object containing various utilities for interacting with the rendered component, such as querying elements, debugging, and unmounting.

```javascript
import { render } from "@solidjs/testing-library";
import MyComponent from "./MyComponent";

const renderResult = render(
  () => <MyComponent />,
  { // all options are optional
    container,
    baseElement,
    queries,
    hydrate,
    wrapper,
    location,
  }
);
const {
  asFragment,
  baseElement,
  container,
  debug,
  unmount,
  ...queries
} = renderResult;
```

--------------------------------

### Import useSubmissions from Solid Router

Source: https://docs.solidjs.com/solid-router/reference/data-apis/use-submissions

Demonstrates how to import the `useSubmissions` hook from the `@solidjs/router` library. This is the initial step required to utilize the primitive in your SolidJS components.

```javascript
import { useSubmissions } from "@solidjs/router";
```

--------------------------------

### Server Functions for Data Fetching and Mutations with SolidRouter

Source: https://docs.solidjs.com/solid-start/reference/server/use-server

SolidStart server functions seamlessly integrate with SolidRouter's data APIs for fetching and mutating data on the server. These functions are transpiled into RPC calls, ensuring client-triggered actions execute on the server.

```typescript
const getUser = query((id) => {
  "use server";
  return db.getUser(id);
}, "users");


const updateUser = action(async (id, data) => {
  "use server"
  await db.setUser(id, data);
  throw redirect("/", { revalidate: getUser.keyFor(id) });
});

```

--------------------------------

### SolidJS: Basic For Loop Structure

Source: https://docs.solidjs.com/concepts/control-flow/list-rendering

Demonstrates the fundamental structure of the `<For>` component in SolidJS for rendering lists. It requires an `each` prop for the data collection and a callback function to define the rendering logic for each item. Dependencies include the `For` component from 'solid-js'.

```jsx
import { For } from "solid-js"


<For each={data()}>
  {(item, index) =>
    // rendering logic for each element
  }
</For>
```

--------------------------------

### Simplifying Multiple State Updates with SolidJS 'produce'

Source: https://docs.solidjs.com/guides/complex-state-management

Demonstrates how to use the 'produce' utility from 'solid-js/store' to simplify making multiple state updates or complex modifications within a SolidJS store. 'produce' allows for a more readable and concise way to update nested state, especially when multiple properties need changing.

```javascript
import { produce } from "solid-js/store"


const toggleTask = (id) => {
  setState(
    "tasks",
    (task) => task.id === id,
    produce((task) => {
      task.completed = !task.completed
    })
  )
}


// You can also rewrite the `addTask` function through produce
const addTask = (text) => {
  setState(
    "tasks",
    produce((task) => {
      task.push({ id: state.tasks.length, text, completed: false })
    })
  )
}
```

--------------------------------

### SolidJS Component with Children Handling

Source: https://docs.solidjs.com/configuration/typescript

Explains how to create a SolidJS component that can accept child elements. It utilizes `ParentComponent` and `ParentProps` to correctly type the `children` prop, allowing for flexible component composition.

```typescript
import { ParentComponent, createSignal, JSX } from "solid-js";

const CustomCounter: ParentComponent = (props) => {
  const [count, setCount] = createSignal(0);
  return (
    <button onClick={() => setCount((prev) => prev + 1)}>
      {count()}
      {props.children}
    </button>
  );
};

// In this example, props is inferred to be of the type { children?: JSX.Element }
// Usage:
// <CustomCounter>
//   <span>Click me</span>
// </CustomCounter>;

```

--------------------------------

### Lazy Load Components with Solid Router

Source: https://docs.solidjs.com/solid-router/advanced-concepts/lazy-loading

Demonstrates lazy loading of components (`Home`, `Users`) in Solid Router using the `lazy` function. This approach defers the import of components until they are needed, reducing initial bundle size and improving load performance. It requires the `@solidjs/router` package.

```typescript
import { lazy } from "solid-js";
import { Router, Route } from "@solidjs/router";


const Home = lazy(() => import("./Home"));


const Users = lazy(() => import("./Users"));


const App = () => (
  <Router>
    <Route path="/" component={Home} />
    <Route path="/users" component={Users} />
  </Router>
);

```

--------------------------------

### SolidJS <For> Component with Dynamic List Source

Source: https://docs.solidjs.com/reference/components/for

Illustrates how to use the SolidJS <For> component when the list of items is dynamic and depends on a signal. The 'each' prop is set to a signal function, allowing the list to update reactively.

```jsx
<For each={stateSignal()}>{(item) => <div>{item}</div>}</For>

```

--------------------------------

### SolidStart CSP Middleware without Nonce (TypeScript)

Source: https://docs.solidjs.com/solid-start/guides/security

Configures a Content Security Policy (CSP) header without using nonces. This middleware sets a static CSP policy and should be registered during the 'onBeforeResponse' event. It's less secure than using nonces but simpler for certain configurations.

```typescript
import { createMiddleware } from "@solidjs/start/middleware";


export default createMiddleware({
  onBeforeResponse: (event) => {
    const csp = `
      default-src 'self';
      font-src 'self'  ;
      object-src 'none';
      base-uri 'none';
      frame-ancestors 'none';
      form-action 'self';
    `.replace(/\s+/g, " ");


    event.response.headers.set("Content-Security-Policy", csp);
  },
});

```

--------------------------------

### Create a Custom Context Hook with useContext in SolidJS

Source: https://docs.solidjs.com/reference/component-apis/use-context

Illustrates a recommended pattern for using useContext by wrapping it in a custom hook. This custom hook encapsulates the context consumption logic and includes error handling to ensure the context is available, making component code cleaner.

```javascript
import { useContext } from "solid-js"
import { CounterContext } from "./YourContextProviderFile"

function useCounterContext() {
  const context = useContext(CounterContext)

  if (!context) {
    throw new Error("useCounterContext: cannot find a CounterContext")
  }

  return context
}
```

--------------------------------

### SolidJS Basic Component Definition

Source: https://docs.solidjs.com/configuration/typescript

Shows the fundamental way to define a SolidJS component using the generic `Component<P>` type. It demonstrates a simple counter component that does not accept props or children, highlighting type safety by preventing incorrect prop or child usage.

```typescript
import type { Component } from "solid-js";
import { createSignal } from "solid-js";

// In counter.tsx
const Counter: Component = () => {
  const [count, setCount] = createSignal(0);
  return (
    <button onClick={() => setCount((prev) => prev + 1)}>{count()}</button>
  );
};

// In app.tsx
// <Counter />; // âœ”ï¸
// <Counter initial={5} />; // âŒ: No 'initial' prop defined
// <Counter>hi</Counter>; // âŒ: Children aren't expected

```

--------------------------------

### Configure SolidStart Middleware Path

Source: https://docs.solidjs.com/solid-start/reference/server/create-middleware

Configures the path to the middleware file within the SolidStart application. This setting in `app.config.ts` is necessary for SolidStart to recognize and execute the defined middleware. Requires `@solidjs/start/config`.

```typescript
import { defineConfig } from "@solidjs/start/config";


export default defineConfig({
  middleware: "src/middleware/index.ts",
});
```

--------------------------------

### Solid.js <Show> Component with Keyed Rendering

Source: https://docs.solidjs.com/reference/components/show

Illustrates the 'keyed' prop in the <Show> component. When set to true, any change in the 'when' prop's reference triggers a re-render of the children. This is useful for ensuring updates when the condition's value itself changes, even if it's an object with the same properties.

```jsx
import { createSignal, Show } from "solid-js";


function KeyedExample() {
  const [user, setUser] = createSignal({ name: "John Wick" });


  function update() {
    // This operation changes the reference of the user object.
    setUser({ ...user() });
  }


  return (
    <div>
      <button onClick={update}>Update</button>
      <Show when={user()} keyed>
        <p>Name: {user().name}</p>
        {/* Updates shown with each click */}
        <p>Last updated: {Date.now()}</p>
      </Show>
    </div>
  );
}

```

--------------------------------

### SolidJS: Basic Event Handling (Delegated and Native)

Source: https://docs.solidjs.com/concepts/components/event-handlers

Demonstrates how to attach event listeners to elements in SolidJS. 'onClick' is a delegated event, while 'on:scroll' is a native event.

```jsx
// delegated event
<button onClick={handleClick}>Click me</button>


// native event
<div on:scroll={handleScroll}>... very long text ...</div>
```

--------------------------------

### Defining Optional Route Parameters in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Explains how to define optional route parameters in SolidJS by appending a question mark (?) to the parameter name. This allows a route to match both with and without the specified parameter.

```javascript
// Matches stories and stories/123 but not stories/123/comments
<Route path="/stories/:id?" component={Stories} />
```

--------------------------------

### Using Signals as Refs for Conditional Elements in Solid.js

Source: https://docs.solidjs.com/concepts/refs

Demonstrates how to use signals as refs in Solid.js, which is beneficial when the element's existence is dependent on state. This handles cases where the element might not be present when the component initially renders or might be removed later.

```javascript
function App() {
  const [show, setShow] = createSignal(false)
  let element!: HTMLParagraphElement


  return (
    <div>
      <button onClick={() => setShow((isShown) => !isShown)}>Toggle</button>


      <Show when={show()}>
        <p ref={element}>This is the ref element</p>
      </Show>
    </div>
  )
}
```

--------------------------------

### createMemo API

Source: https://docs.solidjs.com/reference/basic-reactivity/create-memo

Defines a memoized reactive value by executing a function and caching its result. The function is only re-executed when its dependencies change.

```APIDOC
## createMemo

### Description
Memos let you efficiently use a derived value in many reactive computations. `createMemo` creates a readonly reactive value equal to the return value of the given function and makes sure that function only gets executed when its dependencies change.

### Method
`createMemo`

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Function Signature
```typescript
createMemo<T>(
  fn: (v: T) => T,
  value?: T,
  options?: { equals?: false | ((prev: T, next: T) => boolean) }
): () => T
```

### Parameters
#### `fn`
- **(v: T) => T** - Required - The function to memoize. It receives the previous return value or the initial value as an argument.

#### `value`
- **T** - Optional - The initial value of the memo.

#### `options`
- **{ equals?: false | ((prev: T, next: T) => boolean) }** - Optional - An optional object with an `equals` function to test equality. If `false`, the memo always updates when dependencies change. If a function is provided, it's used to compare previous and next values.

### Request Example
```javascript
import { createMemo } from "solid-js"

const computeExpensiveValue = (a, b) => {
  // Imagine this is a computationally expensive operation
  console.log("Computing expensive value...");
  return a + b;
};

const a = createSignal(1);
const b = createSignal(2);

const memoizedValue = createMemo(() => computeExpensiveValue(a(), b()));

console.log(memoizedValue()); // "Computing expensive value..." will be logged, output: 3

a(5); // Dependencies changed
console.log(memoizedValue()); // "Computing expensive value..." will be logged again, output: 7

b(10); // Dependencies changed again
console.log(memoizedValue()); // "Computing expensive value..." will be logged again, output: 15

// If a() is updated to a value that doesn't change the result:
a(5); // No change in dependencies that affect the result
console.log(memoizedValue()); // "Computing expensive value..." will NOT be logged, output: 15 (due to memoization)

// Using a custom equals function
const customMemo = createMemo((prev, next) => {
  // Only update if the string representation changes
  return JSON.stringify(prev) === JSON.stringify(next);
}, { initialValue: { data: 'initial' } });

```

### Response
#### Success Response (200)
Returns a readonly signal that provides the memoized value.

#### Response Example
```javascript
// The returned value is a function that you call to get the memoized value:
const memoizedValue = createMemo(() => /* ... */);
const currentValue = memoizedValue();
console.log(currentValue);
```
```

--------------------------------

### JSON Action with Revalidation

Source: https://docs.solidjs.com/solid-router/reference/response-helpers/json

This endpoint demonstrates how to return JSON data from an action and specify cache revalidation using the `json` helper.

```APIDOC
## POST /actions/todos/completed

### Description
Returns a JSON array of completed todos and revalidates the cache for specific todo items.

### Method
POST

### Endpoint
/actions/todos/completed

### Parameters
#### Query Parameters
None

#### Request Body
None (Implicitly handled by the action)

### Request Example
```json
// No explicit request body for this example, the action is invoked directly.
```

### Response
#### Success Response (200)
- **completedTodos** (array) - An array of todo objects with 'complete' status.

#### Response Example
```json
{
  "completedTodos": [
    {
      "id": "1",
      "task": "Buy groceries",
      "status": "complete"
    },
    {
      "id": "3",
      "task": "Walk the dog",
      "status": "complete"
    }
  ]
}
```
```

--------------------------------

### Configure SolidStart WebSocket Endpoint

Source: https://docs.solidjs.com/solid-start/advanced/websocket

This code configures the SolidStart server to enable experimental WebSocket support and adds a WebSocket router. It specifies the handler file for WebSocket connections. Note: This feature is experimental and its configuration may change in future releases.

```typescript
import { defineConfig } from "@solidjs/start/config";


export default defineConfig({
  server: {
    experimental: {
      websocket: true,
    },
  },
}).addRouter({
  name: "ws",
  type: "http",
  handler: "./src/ws.ts",
  target: "server",
  base: "/ws",
});
```

--------------------------------

### createResource Usage with Source Signal

Source: https://docs.solidjs.com/reference/basic-reactivity/create-resource

This snippet illustrates using createResource with a source signal. The fetcher function is called when the source signal has a value and re-triggered whenever the source signal changes. The source signal's value is passed to the fetcher.

```javascript
const [data, { mutate, refetch }] = createResource(source, fetchData)
```

--------------------------------

### Protect Routes with Server Function and Solid Router (JavaScript)

Source: https://docs.solidjs.com/solid-start/advanced/auth

Illustrates protecting routes using a server function with Solid Router. The `getPrivatePosts` function, when called, checks for user authentication and redirects to the login page if the user is not signed in. This is integrated into a SolidStart Page component.

```javascript
const getPrivatePosts = query(async function() {
  "use server"
  const user = await getUser()
  if(!user) {
    throw redirect("/login");
  }


  return db.getPosts({ userId: user.id, private: true })
})


export default function Page() {
  const posts = createAsync(() => getPrivatePosts());
}
```

--------------------------------

### Safely Handling Children with children Helper in SolidJS

Source: https://docs.solidjs.com/concepts/components/props

Demonstrates the use of the 'children' helper in SolidJS for safely accessing and rendering child components or elements. This prevents potential issues like repeated creation of components when 'props.children' is accessed multiple times.

```jsx
import { children } from "solid-js"


function ColoredList(props) {
  const safeChildren = children(() => props.children);


  return <>{safeChildren()}</>;
}
```

--------------------------------

### SolidJS Index Component Simplified Implementation

Source: https://docs.solidjs.com/reference/components/index-component

A basic implementation of the SolidJS Index component. It uses createSignal to manage the items and maps over the 'each' array, calling the children function with a signal for each item and its index.

```typescript
function Index<T, U extends JSX.Element>(props: {
  each: readonly T[];
  fallback?: JSX.Element;
  children: (item: () => T, index: number) => U;
}) {
  return () => {
    const [items, setItems] = createSignal(props.each);
    return props.each.map((_, i) => props.children(() => items()[i], i));
  };
}

```

--------------------------------

### Handling Reactivity with Props in SolidJS

Source: https://docs.solidjs.com/concepts/components/props

Illustrates the correct way to access props in SolidJS to maintain reactivity. Direct destructuring is discouraged as it can break reactivity. Wrapping prop access in a function or accessing directly from the 'props' object ensures updates are reflected.

```jsx
function MyComponent(props) {
  // const { name } = props; // âŒ: breaks reactivity and will not update when the prop value changes
  // const name = props.name; // âŒ: another example of breaking reactivity
  const name = () => props.name; // âœ“: by wrapping `props.name` into a function, `name()` always retrieves its current value
}
```

--------------------------------

### SolidJS: Direct Event Attachment with 'on:'

Source: https://docs.solidjs.com/reference/jsx-attributes/on_

Explains how to use the 'on:' syntax in SolidJS for direct event handler attachment. This is useful for events with capital letters or when needing to use listener options like 'once' or 'passive'.

--------------------------------

### Inline Styling with Strings and Objects in SolidJS

Source: https://docs.solidjs.com/concepts/components/class-style

Demonstrates how to apply inline styles to an element in SolidJS. Styles can be provided as a CSS string or a JavaScript object. Keys in the object should be dash-cased CSS property names.

```jsx
// String
<div style="color: red;">This is a red div</div>


// Object
<div style={{ color: "red" }}>This is a red div</div>
```

--------------------------------

### User Profile Display with Suspense Component (SolidJS)

Source: https://docs.solidjs.com/reference/components/suspense

This SolidJS component utilizes createResource and the Suspense component to achieve an optimal user experience. It renders the component structure immediately and shows a fallback UI while data is loading, updating the content once the resource resolves.

```javascript
const MyComponentWithSuspense = () => {
  const [profile] = createResource(async () => {
    /* fetcher code here */
  })
  return (
    <Suspense fallback={<div>fetching user data</div>}>
      <div>{profile()?.name}</div>
      <div>{profile()?.email}</div>
    </Suspense>
  )
}
```

--------------------------------

### Defining HTTP Method Handlers

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

API routes export functions named after the HTTP method they handle. These functions receive an `APIEvent` object containing request details.

```APIDOC
## Defining HTTP Method Handlers

API routes handle requests by exporting functions named after the HTTP methods they support.

### Handled HTTP Methods:
*   `GET`
*   `POST`
*   `PATCH`
*   `DELETE`
*   `PUT`
*   `HEAD`
*   `OPTIONS`

### Example Handlers:
```typescript
// src/routes/api/users/[id].ts
import type { APIEvent } from "@solidjs/start/server";

// Handler for GET requests
export async function GET({ params }: APIEvent) {
  // Access dynamic route parameters via params.id
  console.log(`Fetching user with ID: ${params.id}`);
  // ... fetch user data
  return new Response(JSON.stringify({ id: params.id, name: "Example User" }), {
    headers: {
      "Content-Type": "application/json"
    }
  });
}

// Handler for POST requests
export async function POST(event: APIEvent) {
  const body = await event.request.json();
  console.log("Creating new user with data:", body);
  // ... create user
  return new Response(JSON.stringify({ message: "User created successfully" }), {
    status: 201,
    headers: {
      "Content-Type": "application/json"
    }
  });
}

// Handler for DELETE requests
export async function DELETE({ params }: APIEvent) {
  console.log(`Deleting user with ID: ${params.id}`);
  // ... delete user
  return new Response(null, { status: 204 }); // No Content
}
```

### Exporting a Single Handler for Multiple Methods:
You can define a single handler function and export it for multiple HTTP methods.

```typescript
import type { APIEvent } from "@solidjs/start/server";

async function handler(event: APIEvent) {
  if (event.request.method === "GET") {
    // Handle GET logic
    return new Response("GET request handled");
  } else if (event.request.method === "POST") {
    // Handle POST logic
    return new Response("POST request handled", { status: 200 });
  }
  return new Response("Method not allowed", { status: 405 });
}

export const GET = handler;
export const POST = handler;
```

```

--------------------------------

### Define Generic SolidJS Components

Source: https://docs.solidjs.com/configuration/typescript

Illustrates the correct syntax for creating generic components in SolidJS using both arrow functions and function declarations. Generics must be explicitly typed due to potential conflicts with JSX syntax.

```typescript
// For arrow functions, the syntax <T> by itself is invalid in TSX because it could be confused with JSX.
const MyGenericComponent = <T extends unknown>(
  props: MyProps<T>
): JSX.Element => {
  /* ... */
};

```

```typescript
// Using a function declaration for a generic component
function MyGenericComponent<T>(props: MyProps<T>): JSX.Element {
  /* ... */
}

```

--------------------------------

### SolidJS Ref: Unsafe Initialization Assertion (TypeScript)

Source: https://docs.solidjs.com/configuration/typescript

Demonstrates a riskier TypeScript workaround using a definite assignment assertion (`!`) at variable initialization. While this bypasses TypeScript's null checks for the variable, it can lead to runtime errors if the DOM element is not yet available when accessed.

```typescript
let divRef!: HTMLDivElement;


// Permitted by TypeScript but will throw an error at runtime:
// divRef.focus();


onMount(() => {
  divRef.focus();
});
```

--------------------------------

### SolidJS: Forwarding Refs with JSX

Source: https://docs.solidjs.com/concepts/refs

Demonstrates how to forward a ref from a parent component to a child component in SolidJS using JSX. This allows parent components to directly access and manipulate DOM elements within child components, typically used for imperative DOM operations like focusing an input or managing a canvas.

```jsx
// Parent component
import { Canvas } from "./Canvas.jsx"


function ParentComponent() {
  let canvasRef


  const animateCanvas = () => {
    // Manipulate the canvas using canvasRef...
  }


  return (
    <div>
      <Canvas ref={canvasRef} />
      <button onClick={animateCanvas}>Animate Canvas</button>
    </div>
  )
}


// Child component
function Canvas(props) {
  return (
    <div className="canvas-container">
      <canvas ref={props.ref} /> {/* Assign the ref to the canvas element */}
    </div>
  )
}
```

--------------------------------

### SolidStart CSP Middleware with Nonce (TypeScript)

Source: https://docs.solidjs.com/solid-start/guides/security

Configures a Content Security Policy (CSP) header using nonces for enhanced security. This middleware generates a random nonce, stores it in event locals, and injects it into the script-src directive. It should be registered using the 'onRequest' event and the nonce should be passed to the SolidStart handler.

```typescript
import { createMiddleware } from "@solidjs/start/middleware";
import { randomBytes } from "crypto";


export default createMiddleware({
  onRequest: (event) => {
    const nonce = randomBytes(16).toString("base64");


    event.locals.nonce = nonce;


    const csp = `
      default-src 'self';
      script-src 'nonce-${nonce}' 'strict-dynamic' 'unsafe-eval';
      object-src 'none';
      base-uri 'none';
      frame-ancestors 'none';
      form-action 'self';
    `.replace(/\s+/g, " ");


    event.response.headers.set("Content-Security-Policy", csp);
  },
});
```

--------------------------------

### Provide Value to Context Provider

Source: https://docs.solidjs.com/concepts/context

Illustrates how to pass a specific value to the SolidJS `Provider` component using the `value` prop. This value can be of any type, including signals, and will be accessible to consuming components.

```javascript
import { createContext, useContext } from "solid-js";
import { MyContext } from "./create";


const Provider = (props) => (
  <MyContext.Provider value="new value">{props.children}</MyContext.Provider>
);
```

--------------------------------

### Batching Updates with SolidJS 'produce' vs. 'batch'

Source: https://docs.solidjs.com/guides/complex-state-management

Compares two methods for batching multiple state updates in SolidJS: using the 'batch' function for separate 'setState' calls and using the 'produce' utility for a more integrated approach. 'produce' often leads to cleaner code when modifying multiple properties of the same state slice.

```javascript
// without produce
batch(() => {
setState(0, "text", "I'm updated text")
setState(0, "completed", true)
})


// with produce
setState(
  0,
  produce((task) => {
    task.text = "I'm updated text";
    task.completed = true;
  })
)
```

--------------------------------

### SolidJS: Static and Dynamic Class Assignment using 'class'

Source: https://docs.solidjs.com/reference/jsx-attributes/classlist

Demonstrates how to apply static and dynamic CSS classes to elements in SolidJS using the 'class' attribute. This includes setting multiple static classes, conditionally applying a single class, and constructing dynamic class strings.

```jsx
// Two static classes
<div class="active editing" />


// One dynamic class, deleting class attribute if it's not needed
<div class={state.active ? 'active' : undefined} />


// Two dynamic classes
<div class={`${state.active ? 'active' : ''} ${state.currentId === row.id ? 'editing' : ''}`} />
```

--------------------------------

### SolidJS Dynamic Props with Signals

Source: https://docs.solidjs.com/concepts/understanding-jsx

Demonstrates the use of dynamic props in SolidJS by binding an element's style to a reactive signal. This allows the style to update automatically when the signal's value changes, illustrating real-time UI updates.

```jsx
import { createSignal } from "solid-js";

function MyComponent() {
  const [dynamicStyle, setDynamicStyle] = createSignal("color: blue;");

  return (
    <div style={dynamicStyle()}>
      This text changes color.
    </div>
  );
}
```

--------------------------------

### SolidJS Suspense for Multiple Async Events

Source: https://docs.solidjs.com/guides/fetching-data

Demonstrates using the Suspense component in SolidJS to handle multiple asynchronous events. It displays a fallback UI while data is loading and prevents rendering partially loaded content. It takes a fallback prop and wraps asynchronous operations.

```javascript
import { createSignal, createResource, Switch, Match, Suspense } from "solid-js"


const fetchUser = async (id) => {
  const response = await fetch(`https://swapi.dev/api/people/${id}/`);
  return response.json();
}


function App() {
  const [userId, setUserId] = createSignal();
  const [user] = createResource(userId, fetchUser);


  return (
    <div>
    <input
      type="number"
      min="1"
      placeholder="Enter Numeric Id"
      onInput={(e) => setUserId(e.currentTarget.value)}
    />
      <Suspense fallback={<div>Loading...</div>}>
        <Switch>
          <Match when={user.error}>
            <span>Error: {user.error.message}</span>
          </Match>
          <Match when={user()}>
            <div>{JSON.stringify(user())}</div>
          </Match>
        </Switch>
      </Suspense>
    </div>
  );
}

```

--------------------------------

### Separate Side Effects with `createEffect` in SolidJS

Source: https://docs.solidjs.com/concepts/derived-values/memos

Demonstrates how to handle side effects separately using `createEffect` while keeping memos pure. This pattern prevents infinite loops by ensuring that UI updates or other side effects do not trigger memo re-evaluation. Dependencies include `createSignal`, `createMemo`, and `createEffect` from 'solid-js'.

```javascript
import { createSignal, createMemo, createEffect } from "solid-js"


const [count, setCount] = createSignal(0)
const [message, setMessage] = createSignal("")


const isEven = createMemo(() => count() % 2 === 0)


createEffect(() => {
  if (count() > 10) {
    setMessage("Count is too high!")
  }
})
```

--------------------------------

### Return JSON from Action with Cache Revalidation (SolidJS)

Source: https://docs.solidjs.com/solid-router/reference/response-helpers/json

Demonstrates how to use the `json` function from `@solidjs/router` to return JSON data from a SolidJS action. It also shows how to specify cache revalidation keys for a given route using the `revalidate` option.

```typescript
import { action, json } from "@solidjs/router";
import { fetchTodo } from "../fetchers";


const getCompletedTodos = action(async () => {
  const completedTodos = await fetchTodo({ status: 'complete' });


  return json(completedTodos, { revalidate: getTodo.keyFor(id) });
});
```

--------------------------------

### Manually Preload Route with usePreloadRoute in SolidJS

Source: https://docs.solidjs.com/solid-router/reference/primitives/use-preload-route

The `usePreloadRoute` hook returns a function to manually preload a route. This mimics automatic preloading triggered by link hovering or focus. It takes the route path and an optional options object as arguments.

```javascript
const preload = usePreloadRoute();

preload(`/users/settings`, { preloadData: true });
```

--------------------------------

### Add Meta Tag in SolidJS

Source: https://docs.solidjs.com/solid-meta/reference/meta/meta

Demonstrates how to use the `<Meta>` component from `@solidjs/meta` to add a meta tag to your SolidJS application. This component wraps the native `meta` element and accepts its properties.

```jsx
import { Meta } from "@solidjs/meta";


<Meta name="description" content="My site description" />;
```

--------------------------------

### Single-Flight Mutation for Product Update (SolidJS)

Source: https://docs.solidjs.com/solid-start/building-your-application/data-mutation

Implements a single-flight mutation for updating product data. It combines a server action to modify the product with a server query to fetch updated data. The query is preloaded, allowing SolidStart to revalidate and stream updated data in a single response, optimizing UI synchronization.

```typescript
import {
  action,
  query,
  createAsync,
  type RouteDefinition,
  type RouteSectionProps,
} from "@solidjs/router";
import { db } from "./db";


const updateProductAction = action(async (id: string, formData: FormData) => {
  "use server";
  const name = formData.get("name")?.toString();
  await db.products.update(id, { name });
}, "updateProduct");


const getProductQuery = query(async (id: string) => {
  "use server";
  return await db.products.get(id);
}, "product");


export const route = {
  preload: ({ params }) => getProductQuery(params.id as string),
} satisfies RouteDefinition;


export default function ProductDetail(props: RouteSectionProps) {
  const product = createAsync(() => getProductQuery(props.params.id as string));


  return (
    <div>
      <p>Current name: {props.data.product?.name}</p>
      <form
        action={updateProductAction.with(props.params.id as string)}
        method="post"
      >
        <input name="name" placeholder="New name" />
        <button>Save</button>
      </form>
    </div>
  );
}

```

--------------------------------

### Enable Server-Only Functions with "use server" in SolidStart

Source: https://docs.solidjs.com/solid-start/reference/server/use-server

The 'use server' directive in SolidStart designates functions to run exclusively on the server. This ensures that sensitive operations or server-side logic are never exposed to the client-side. Functions marked with 'use server' must be async or return a promise.

```typescript
const logHello = async (message: string) => {
  "use server";
  console.log(message);
};

```

--------------------------------

### Create Nested Stores in SolidJS

Source: https://docs.solidjs.com/concepts/stores

Illustrates the creation of nested stores in SolidJS to manage nested properties. This approach helps in organizing and setting values within complex store structures, maintaining reactivity across derived stores.

```javascript
const [store, setStore] = createStore({
  userCount: 3,
  users: [ ... ],
})


const [users, setUsers] = createStore(store.users)


setUsers((currentUsers) => [
  ...currentUsers,
  {
    id: 3,
    username: "michael584",
    location: "Nigeria",
    loggedIn: false,
  },
])
```

--------------------------------

### Update Context with Signals in SolidJS

Source: https://docs.solidjs.com/concepts/context

Demonstrates how to use signals to update context values in SolidJS. The CounterProvider component creates a signal and provides it along with methods to modify it. The App component wraps its children with the provider, and the Child component consumes the context to display and update the count.

```jsx
import { CounterProvider } from "./Context";
import { Child } from "./Child";


export function App() {
  return (
    <CounterProvider count={1}>
      <h1>Welcome to Counter App</h1>
      <Child />
    </CounterProvider>
  )
}
```

```jsx
import { createSignal, useContext } from "solid-js";


export function CounterProvider(props) {
  const [count, setCount] = createSignal(props.initialCount || 0);
  const counter = [
    count,
    {
      increment() {
      setCount(prev => prev + 1);
      },
      decrement() {
      setCount(prev => prev - 1);
      }
    }
  ];


  return (
    <CounterContext.Provider value={counter}>
      {props.children}
    </CounterContext.Provider>
  );
}


export function useCounter() { return useContext(CounterContext); }
```

```tsx
// /context/counter-component.tsx
import { useCounter } from "./Context";


export function Child(props) {
  const [count, { increment, decrement }] = useCounter();


  return (
  <>
    <div>{count()}</div>
    <button onClick={increment}>+</button>
    <button onClick={decrement}>-</button>
  </>
  );
};

```

--------------------------------

### SolidJS: Efficient UI Update using batch

Source: https://docs.solidjs.com/reference/store-utilities/modify-mutable

This snippet shows how to use the 'batch' function from 'solid-js' to group multiple state updates. By wrapping the modifications within a batch, the UI is updated only once, preventing unnecessary re-renders and improving efficiency.

```javascript
import { batch } from "solid-js"


batch(() => {
  state.user.firstName = "Jane";
  state.user.lastName = "Doe";
});
```

--------------------------------

### SolidJS Signal Getter and Setter Explanation

Source: https://docs.solidjs.com/concepts/intro-to-reactivity

Illustrates the fundamental getter and setter functions provided by SolidJS's `createSignal`. The getter accesses the signal's value, while the setter updates it, triggering reactivity.

```javascript
const [count, setCount] = createSignal(0);
//     ^ getter  ^ setter
```

```javascript
console.log(count()); // `count()` is a getter that returns the current value of `count`, which is `0`.

setCount(1); // the setter, `setCount`, updates the value of `count`.

console.log(count()); // the updated value of `count` is now `1`.
```

--------------------------------

### Custom Context Consumer Hook

Source: https://docs.solidjs.com/concepts/context

Illustrates creating a custom hook in SolidJS to simplify consuming a specific context. Instead of importing `useContext` repeatedly, a custom hook like `useCounter` provides a cleaner interface.

```javascript
export function useCounter() {
  return useContext(CounterContext);
}
```

--------------------------------

### Solid Router: Navigate Component with Dynamic Path

Source: https://docs.solidjs.com/solid-router/reference/components/navigate

Demonstrates using the Navigate component with a function for the 'href' prop to dynamically determine the navigation path. This function receives `navigate` and `location` from Solid Router hooks. The component renders and immediately navigates to the path returned by the function.

```javascript
function getPath({ navigate, location }) {
  // navigate is the result of calling useNavigate(); location is the result of calling useLocation().
  // You can use those to dynamically determine a path to navigate to
  return "/some-path";
}


// Navigating to /redirect will redirect you to the result of getPath
<Route path="/redirect" component={() => <Navigate href={getPath} />} />;
```

--------------------------------

### Use HTML Form with SolidJS Router Action

Source: https://docs.solidjs.com/solid-router/concepts/actions

Demonstrates using an HTML form with a SolidJS Router action for submitting feedback. The form's `method` must be `post`. The action receives `FormData` as its first argument. For SSR, a unique name must be provided to the action function.

```typescript
import { action } from "@solidjs/router";


const submitFeedbackAction = action(async (formData: FormData) => {
  const message = formData.get("message")?.toString();
  // ... Sends the feedback to the server.
}, "submitFeedback");


function FeedbackForm() {
  return (
    <form action={submitFeedbackAction} method="post">
      <textarea name="message" placeholder="Message" />
      <button type="submit">Send feedback</button>
    </form>
  );
}
```

--------------------------------

### Solid Router: Programmatic Navigation with useNavigate

Source: https://docs.solidjs.com/solid-router/concepts/navigation

The `useNavigate` primitive enables programmatic navigation within a SolidJS application. It allows developers to trigger route changes based on user actions or application logic, with options like `replace` to control browser history.

```jsx
import { useNavigate } from "@solidjs/router";


function LoginPage() {
  const navigate = useNavigate();


  return (
    <button
      onClick={() => {
        // Login logic
        navigate("/dashboard", { replace: true });
      }}
    >
      Login
    </button>
  );
}

```

--------------------------------

### Solid.js <Show> Component with Render Function

Source: https://docs.solidjs.com/reference/components/show

Explains how to use a render function as a child of the <Show> component. The function receives an accessor to the 'when' prop (or the prop itself if 'keyed' is true). Signals accessed directly within the render function's scope are not tracked by default, preventing automatic updates unless the signal access is within a JSX element.

```jsx
import { createSignal, Show } from "solid-js";


function RenderFunctionExample() {
  const [count, setCount] = createSignal(0);
  return (
    <div>
      <button onClick={() => setCount((c) => c + 1)}>Increment</button>
      {/* This does not update. */}
      <Show when={count()}>{(c) => count()}</Show>
      {/* This will update. */}
      <Show when={count()}>{(c) => <>{count()}</>}</Show>
    </div>
  );
}

```

--------------------------------

### TypeScript Signature for Reload Options

Source: https://docs.solidjs.com/solid-router/reference/response-helpers/reload

Defines the TypeScript interface for the options object passed to the 'reload' function. It extends native ResponseInit and includes an optional 'revalidate' property for specifying query keys.

```typescript
interface ResponseOptions & Omit<ResponseInit, "body"> {
  revalidate?: string | string[];
}


reload(opt?: ResponseOptions): CustomResponse<never>;
```

--------------------------------

### Netlify Redirects for SPA

Source: https://docs.solidjs.com/solid-router/rendering-modes/spa

Configures Netlify to redirect all paths to index.html for single page applications using client-side routing. This is essential to prevent 'not found' errors on URLs not matching existing files.

```plaintext
/*   /index.html   200

```

--------------------------------

### Isolate Server Functions with "use server" in SolidStart

Source: https://docs.solidjs.com/solid-start/reference/server/use-server

By placing 'use server' at the beginning of a function's body in SolidStart, you can make that specific function server-only, even if the rest of the file is intended for client-side execution. This provides granular control over where code runs.

```typescript
const logHello = async (message: string) => {
  "use server";
  console.log(message);
};


logHello("Hello");

```

--------------------------------

### SolidJS: Accessing and Updating Signals

Source: https://docs.solidjs.com/reference/basic-reactivity/create-signal

Illustrates how to read the current value of a Solid.js signal using its getter function and how to update it using the setter function. This covers both direct value assignment and using a function to derive the new value from the previous one.

```javascript
// Read signal's current value
const currentCount = count()

// Create a derived signal
const doubledCount = () => 2 * count()

// Update signal by providing a value
setReady(true)

// Update signal by providing a function setter
const newCount = setCount((prev) => prev + 1)
```

--------------------------------

### SolidJS createEffect Type Definitions

Source: https://docs.solidjs.com/reference/basic-reactivity/create-effect

Shows the TypeScript type signatures for the `createEffect` function. These signatures define the expected arguments and their types, including overloads for different initial value configurations.

```typescript
function createEffect<Next>(
  fn: EffectFunction<undefined | NoInfer<Next>, Next>
): void;
function createEffect<Next, Init = Next>(
  fn: EffectFunction<Init | Next, Next>,
  value: Init,
  options?: { name?: string }
): void;
function createEffect<Next, Init>(
  fn: EffectFunction<Init | Next, Next>,
  value?: Init,
  options?: { name?: string }
): void;
```

--------------------------------

### Pass Additional Arguments to SolidJS Router Action

Source: https://docs.solidjs.com/solid-router/concepts/actions

Illustrates passing additional arguments to a SolidJS Router action using the `.with()` method. This creates a new action that forwards specified arguments followed by the form's `FormData` to the original action, useful when form data doesn't contain all necessary parameters.

```typescript
import { action } from "@solidjs/router";


const updateProductAction = action(
  async (productId: string, formData: FormData) => {
    // ... Sends the updated fields to the server.


    return { ok: true };
  },
  "updateProduct"
);


function EditProductForm(props: { productId: string }) {
  return (
    <form action={updateProductAction.with(props.productId)} method="post">
      <input name="name" placeholder="Product name" />
      <button type="submit">Save</button>
    </form>
  );
}
```

--------------------------------

### Render SolidJS Application in Browser

Source: https://docs.solidjs.com/reference/rendering/render

The core browser entry point for SolidJS applications. It renders a provided component function into a specified DOM element. Ensure the component is passed as a function to correctly establish signal roots. The returned dispose function cleans up the mounted application.

```TypeScript
import { render } from "solid-js/web"
import type { JSX } from "solid-js"
import type { MountableElement } from "solid-js/web"


function render(
  code: () => JSX.Element,
  element: MountableElement
): () => void

// Example Usage:
// const dispose = render(App, document.getElementById("app"))
// // or
// const dispose = render(() => <App />, document.getElementById("app"))
```

--------------------------------

### Login to Cloudflare Wrangler

Source: https://docs.solidjs.com/guides/deployment-options/cloudflare

Logs the user into their Cloudflare account via the Wrangler CLI. This is a necessary step before deploying applications to Cloudflare Pages or Workers.

```bash
wrangler login
```

--------------------------------

### Create an Uninitialized Signal in SolidJS

Source: https://docs.solidjs.com/configuration/typescript

Demonstrates the creation of an uninitialized signal using `createSignal<T>`. The signal's type will include `undefined` if not initialized, and its getter/setter types will reflect this.

```typescript
const [count, setCount] = createSignal<number>();
```

--------------------------------

### SolidJS: Customizing Signal Equality Check

Source: https://docs.solidjs.com/reference/basic-reactivity/create-signal

Demonstrates how to use the `equals` option with `createSignal` to define custom logic for determining if a signal's value has changed. This is useful for handling non-primitive types or specific update conditions.

```javascript
const [count, setCount] = createSignal(0, {
  equals: (prev, next) => prev === next,
})

// Example: Always update, even for objects with the same identity
const [object, setObject] = createSignal({ count: 0 }, { equals: false })

// Example: Equality based on string length
const [myString, setMyString] = createSignal("string", {
  equals: (newVal, oldVal) => newVal.length === oldVal.length,
})
```

--------------------------------

### Validate Path Parameters with MatchFilter (SolidJS)

Source: https://docs.solidjs.com/solid-router/concepts/path-parameters

Illustrates how to validate path parameters using the `matchFilters` prop on the `Route` component. This allows for custom validation logic, such as ensuring a parameter is a number or matches a specific string pattern, before rendering the component.

```jsx
import { lazy } from "solid-js";
import { render } from "solid-js/web";
import { Router, Route } from "@solidjs/router";


const User = import("./pages/User");


const filters = {
  parent: ["mom", "dad"], /* allow enum values */ 
  id: /^\d+$/, /* only allow numbers */ 
  withHtmlExtension: (v: string) => v.length > 5 && v.endsWith(".html"), /* we want an `*.html` extension */ 
};


render(() => (
  <Router>
    <Route
      path="/users/:parent/:id/:withHtmlExtension"
      component={User}
      matchFilters={filters}
    />
  </Router>
), document.getElementById("app"));
```

--------------------------------

### createAsync Type Definitions

Source: https://docs.solidjs.com/solid-router/reference/data-apis/create-async

These are the TypeScript type definitions for the createAsync function. It outlines the expected function signature for the fetcher and the optional configuration options.

```typescript
function createAsync<T>(
  fn: (prev: T) => Promise<T>,
  options: {
    name?: string;
    initialValue: T;
    deferStream?: boolean;
  }
): AccessorWithLatest<T>;


function createAsync<T>(
  fn: (prev: T | undefined) => Promise<T>,
  options?: {
    name?: string;
    initialValue?: T;
    deferStream?: boolean;
  }
): AccessorWithLatest<T | undefined>;
```

--------------------------------

### SolidJS onCleanup for Resource Management

Source: https://docs.solidjs.com/concepts/effects

Shows how to use `onCleanup` in SolidJS to clear resources, such as intervals or subscriptions, when a component unmounts. This prevents memory leaks and ensures background tasks are properly terminated.

```javascript
import { onCleanup, createSignal } from "solid-js";


function App() {
  const [count, setCount] = createSignal(0);


  const timer = setInterval(() => {
    setCount((prev) => prev + 1);
  }, 1000);


  onCleanup(() => {
    clearInterval(timer);
  });


  return <div>Count: {count()}</div>;
}

```

--------------------------------

### SolidJS Native Event for stopPropagation

Source: https://docs.solidjs.com/concepts/components/event-handlers

Shows how to correctly implement `event.stopPropagation()` using a native event listener in SolidJS. This is necessary because delegated events are attached to the document and `stopPropagation` may not work as expected.

```jsx
onMount(() => {
  ref.addEventListener("click", () => {
    console.log("div native");
  });
});
<div ref={ref}>
  <button
    onClick={(event) => {
      event.stopPropagation();
      console.log("button");
    }}> 
    button
  </button>
</div>;
```

--------------------------------

### Set Site Title with SolidJS MetaProvider

Source: https://docs.solidjs.com/solid-meta/reference/meta/title

To set the title for your entire site, wrap your application with MetaProvider and include the Title component within it. This allows for a default title to be set that can be overridden by specific pages or components.

```jsx
import { MetaProvider, Title } from "@solidjs/meta";
export default function Root() {
  return (
    <MetaProvider>
      <Title>Default Application Title</Title>
    </MetaProvider>
  );
}
```

--------------------------------

### Solid.js Switch and Match for Multiple Conditions

Source: https://docs.solidjs.com/concepts/control-flow/conditional-rendering

Introduces the '<Switch>' and '<Match>' components for managing multiple sequential conditions, similar to JavaScript's switch statement. The first '<Match>' that evaluates to true renders its children.

```jsx
import { Switch, Match } from "solid-js"


<Switch>
  <Match when={condition1}>
    <p>Outcome 1</p>
  </Match>
  <Match when={condition2}>
    <p>Outcome 2</p>
  </Match>
</Switch>
```

--------------------------------

### Render SolidJS Component with Portal Content

Source: https://docs.solidjs.com/guides/testing

Renders a SolidJS component that uses a Portal and asserts its content using `@testing-library/jest-dom`. This is useful for testing components that break out of the DOM tree structure.

```jsx
import { test, expect } from "vitest"
import { render, screen } from "@solidjs/testing-library"
import { Toast } from "./Toast"


test("increments value", async () => {
  render(() => <Toast><p>This is a toast</p></Toast>)
  const toast = screen.getByRole("log")
  expect(toast).toHaveTextContent("This is a toast")
})
```

--------------------------------

### SolidJS: Set initial prop value for signal

Source: https://docs.solidjs.com/reference/reactive-utilities/untrack

Demonstrates setting an initial value for a signal in a SolidJS component using a prop prefixed with 'initial'. This pattern is recognized by the linter and ensures the signal is initialized correctly without explicit untracking.

```typescript
// component.tsx
import { createSignal } from "solid-js"


export function Component(props) {
    const [name, setName] = createSignal(props.initialName)


    return <div>{name()}</div>
    }
}

```

--------------------------------

### Project Import YAML for SSR Node.js Apps on Zerops

Source: https://docs.solidjs.com/guides/deployment-options/zerops

This YAML configuration is used for creating a new Zerops project for server-side rendered (SSR) Solid.js Node.js applications. It defines the project name and specifies a 'nodejs@20' service with a configurable hostname.

```yaml
project:
  name: recipe-solidjs

services:
  - hostname: app
    type: nodejs@20
    enableSubdomainAccess: true
```

--------------------------------

### Set HTTP Status Code with HttpStatusCode

Source: https://docs.solidjs.com/solid-start/reference/server/http-status-code

The HttpStatusCode component from @solidjs/start is used to set the HTTP status code for a page response during server-side rendering. It takes a 'code' prop to specify the desired status, such as 404 for not found pages.

```tsx
import { HttpStatusCode } from "@solidjs/start";


<HttpStatusCode code={404} />;
```

--------------------------------

### Render Hook Utility in SolidJS Primitive Testing

Source: https://docs.solidjs.com/guides/testing

The `renderHook` utility from `@solidjs/testing-library` allows testing reusable state and logic (primitives/hooks) without rendering a full component. It provides access to the hook's result, a cleanup function, and the owner for advanced use cases. Dependencies include `@solidjs/testing-library`.

```typescript
import { renderHook } from "@solidjs/testing-library"

const renderResult = renderHook(hook, {
  initialProps,
  wrapper,
})
const {
  result,
  cleanup,
  owner,
} = renderResult
```

--------------------------------

### Solid Router: Styling Links with <A> Component Props

Source: https://docs.solidjs.com/solid-router/concepts/navigation

The <A> component allows for dynamic styling of links based on their active or inactive state using `activeClass` and `inactiveClass` props. It also supports exact route matching with the `end` prop, which is useful for root links.

```jsx
import { A } from "@solidjs/router";


function Navbar() {
  return (
    <nav>
      <A href="/" end={true}>
        Home
      </A>
      <A
        href="/login"
        activeClass="text-blue-900"
        inactiveClass="text-blue-500"
      >
        Login
      </A>
    </nav>
  );
}

```

--------------------------------

### Response Options Interface

Source: https://docs.solidjs.com/solid-router/reference/response-helpers/json

Defines the type signature for the `json` helper's options, including cache revalidation.

```APIDOC
## Type Signature for json Helper Options

### Description
Defines the options available when returning a JSON response from an action, extending native `ResponseInit`.

### Method
N/A (Type definition)

### Endpoint
N/A

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
N/A

### Response
#### Success Response (200)
- **ResponseOptions** (object) - Extends `ResponseInit` and adds an optional `revalidate` property.
  - **revalidate** (string | string[]) - Optional. Specifies cache keys to revalidate.

#### Response Example
```typescript
interface ResponseOptions extends Omit<ResponseInit, "body"> {
  revalidate?: string | string[];
}

json<T>(data: T, opt?: ResponseOptions): CustomResponse<T>;
```
```

--------------------------------

### Prop-Based Dynamic Styling in SolidJS

Source: https://docs.solidjs.com/concepts/components/class-style

Illustrates how to use component props to dynamically apply CSS classes in SolidJS. The 'ThemedButton' component accepts a 'theme' prop to determine its class, enabling style variations based on usage.

```jsx
function ThemedButton(props) {
  return (
    <button class={props.theme}>
      {props.theme === "light" ? "Light Button" : "Dark Button"}
    </button>
  );
}
```

--------------------------------

### Test SolidJS Route with Location Option

Source: https://docs.solidjs.com/guides/testing

Renders a SolidJS route component and tests its content by specifying an initial `location`. This utilizes the `location` option provided by `@solidjs/testing-library`'s `render` function, requiring an asynchronous query for lazily loaded components.

```jsx
const { findByText } = render(
  () => <Route path="/article/:id" component={Article} />,
  { location: "/article/12345" }
);
expect(await findByText("Article 12345")).toBeInTheDocument()
```

--------------------------------

### Solid Store Produce API

Source: https://docs.solidjs.com/reference/store-utilities/produce

The `produce` function allows for immutable updates to SolidJS store objects within a provided callback function. It's inspired by Immer and simplifies state management for nested store structures.

```APIDOC
## Solid Store Produce API

### Description
The `produce` function from `solid-js/store` provides a convenient way to update store state immutably. It accepts a function that receives the current state and allows direct mutation, which `produce` then translates into an immutable update.

### Method
This is a utility function, not a direct HTTP method.

### Endpoint
N/A

### Parameters
#### Function Signature
```typescript
function produce<T>(
  fn: (state: T) => void
): (state: T extends NotWrappable ? T : Store<T>) => T extends NotWrappable ? T : Store<T>;
```

- **fn** (function) - Required - A callback function that takes the current state as an argument and performs mutations.

### Usage with `createStore`

```javascript
import { createStore } from 'solid-js/store';
import { produce } from 'solid-js/store';

const [state, setState] = createStore({
  user: {
    name: "John",
    age: 30,
  },
  list: ["book", "pen"],
});

setState(
  produce((state) => {
    state.user.name = "Jane";
    state.list.push("pencil");
  })
);
```

### Response
#### Success Response
The `produce` function returns a new state object with the applied mutations, ensuring immutability.

#### Response Example
After the `setState` call above, the `state` object would be:
```json
{
  "user": {
    "name": "Jane",
    "age": 30
  },
  "list": ["book", "pen", "pencil"]
}
```
```

--------------------------------

### Provide Context Values in SolidJS

Source: https://docs.solidjs.com/guides/complex-state-management

Wraps components with a Context Provider to share state and functions. It utilizes `createStore` for reactive state management.

```javascript
import { createStore } from "solid-js/store"


const TaskApp = () => {
  const [state, setState] = createStore({
    tasks: [],
    numberOfTasks: 0,
  })


  return (
    <TaskContext.Provider value={{ state, setState }}>
      {/* Your components */}
    </TaskContext.Provider>
  )
}
```

--------------------------------

### Advanced useMatch with MatchFilters

Source: https://docs.solidjs.com/solid-router/reference/primitives/use-match

The useMatch hook supports an optional second argument for MatchFilters, allowing for more granular control over route matching. Filters can be arrays of strings, regular expressions, or functions for custom logic, including checking for HTML extensions.

```typescript
import { useMatch, MatchFilters } from "solid-router";

const filters: MatchFilters = {
  parent: ["mom", "dad"],
  id: /\^\d+$/,
  withHtmlExtension: (v: string) => v.length > 5 && v.endsWith(".html")
};

// Example usage with filters would follow, integrating 'filters' into the useMatch call.
```

--------------------------------

### Event Handling and Dynamic Attributes in SolidJS JSX

Source: https://docs.solidjs.com/concepts/understanding-jsx

Demonstrates how to use event listeners (like onClick) and dynamically set attributes (like class) in SolidJS JSX. It shows the use of camelCase for event handlers and curly braces for dynamic values.

```jsx
<button class="myClass" onClick={handleClick}>
  Click me!
</button>

```

--------------------------------

### Handling Function Values with Signal Setter in SolidJS

Source: https://docs.solidjs.com/configuration/typescript

Shows the recommended way to set a signal's value when the signal is intended to store functions. Using the callback form ensures the function is stored as data, not executed.

```typescript
setSignal(() => value);
```

--------------------------------

### Flightcontrol Configuration for SolidJS Static Site

Source: https://docs.solidjs.com/guides/deployment-options/aws-via-flightcontrol

This JSON configuration defines deployment settings for a SolidJS static site on Flightcontrol. It specifies the environment, region, source branch, build type, service name, domain, output directory, and enables single-page application routing. This configuration is used when deploying via the `flightcontrol.json` file.

```json
{
  "$schema": "https://app.flightcontrol.dev/schema.json",
  "environments": [
    {
      "id": "production",
      "name": "Production",
      "region": "us-west-2",
      "source": {
        "branch": "main"
      },
      "services": [
        {
          "id": "my-static-solid",
          "buildType": "nixpacks",
          "name": "My static solid site",
          "type": "static",
          "domain": "solid.yourapp.com",
          "outputDirectory": "dist",
          "singlePageApp": true
        }
      ]
    }
  ]
}
```

--------------------------------

### SolidJS Router: Customizing Revalidation with Reload

Source: https://docs.solidjs.com/solid-router/concepts/actions

Shows how to use the `reload` helper to customize revalidation behavior without returning data. It accepts a `revalidate` option, allowing specific queries to be revalidated or revalidation to be prevented entirely by passing an empty array.

```typescript
import { action, reload, json } from "@solidjs/router";


// Example 1: Revalidating a specific query
const savePreferencesAction = action(async () => {
  // ... Saves the user preferences.


  // Only revalidate the 'userPreferences' query
  throw reload({ revalidate: ["userPreferences"] });
});
```

--------------------------------

### Update SolidJS Store Values with Setters

Source: https://docs.solidjs.com/concepts/stores

Demonstrates how to update specific values within a SolidJS store using the `setStore` function provided by `createStore`. This is the recommended approach for modifying store state, ensuring reactivity.

```javascript
const [store, setStore] = createStore({
  userCount: 3,
  users: [ ... ],
})


setStore("users", (currentUsers) => [
  ...currentUsers,
  {
    id: 3,
    username: "michael584",
    location: "Nigeria",
    loggedIn: false,
  },
])
```

--------------------------------

### Subscribing to Multiple Signals with an Effect in SolidJS

Source: https://docs.solidjs.com/concepts/effects

Shows how a single effect can subscribe to and react to changes in multiple signals simultaneously. The effect's callback executes when any of the observed signals are updated, logging their current values.

```javascript
import { createSignal, createEffect } from "solid-js";


const [count, setCount] = createSignal(0);
const [message, setMessage] = createSignal("Hello");


createEffect(() => {
  console.log(count(), message());
});


setCount(1); // Output: 1, "Hello"
setMessage("World"); // Output: 1, "World"

```

--------------------------------

### Firebase Hosting Configuration (firebase.json)

Source: https://docs.solidjs.com/guides/deployment-options/firebase

Configuration file for Firebase Hosting. It specifies the public directory for your application's build output and files to ignore during deployment.

```json
{
  "hosting": {
    "public": "dist",
    "ignore": []
  }
}
```

--------------------------------

### Solid.js Show Component for Loading State

Source: https://docs.solidjs.com/concepts/control-flow/conditional-rendering

Demonstrates using the '<Show>' component to conditionally render content based on a loading state. It takes a 'when' property which is re-evaluated on state or prop changes. This is useful for displaying loading indicators.

```jsx
import { Show } from "solid-js"


<Show when={data.loading}>
  <div>Loading...</div>
</Show>
```

--------------------------------

### Define Optional Path Parameter (SolidJS)

Source: https://docs.solidjs.com/solid-router/concepts/path-parameters

Demonstrates how to make a path parameter optional by appending a `?` to its name. This allows a route to match URLs with or without the specified parameter segment. Note that segments beyond an optional parameter will not be matched.

```jsx
<Route path="/users/:id?" component={User} />
```

--------------------------------

### Implement WebSocket Event Handler in SolidStart

Source: https://docs.solidjs.com/solid-start/advanced/websocket

This code defines an event handler for managing WebSocket connections and events within a SolidStart application. It exports an object with handlers for 'open', 'message', 'close', and 'error' events, allowing you to process incoming WebSocket data and manage connection lifecycle.

```typescript
import { eventHandler } from "vinxi/http";


export default eventHandler({
  handler() {},
  websocket: {
    async open(peer) {
      console.log("open", peer.id, peer.url);
    },
    async message(peer, msg) {
      const message = msg.text();
      console.log("msg", peer.id, peer.url, message);
    },
    async close(peer, details) {
      console.log("close", peer.id, peer.url);
    },
    async error(peer, error) {
      console.log("error", peer.id, peer.url, error);
    },
  },
});
```

--------------------------------

### SolidJS Component with Props Typing

Source: https://docs.solidjs.com/configuration/typescript

Demonstrates how to define a SolidJS component that accepts specific props. It uses the `Component<P>` generic, where `P` is a type defining the expected props, ensuring type safety when passing data to the component.

```typescript
import type { Component } from "solid-js";
import { createSignal } from "solid-js";

const InitCounter: Component<{ initial: number }> = (props) => {
  const [count, setCount] = createSignal(props.initial);
  return (
    <button onClick={() => setCount((prev) => prev + 1)}>{count()}</button>
  );
};

// Usage:
// <InitCounter initial={5} />;

```

--------------------------------

### SolidJS Dynamic Component API

Source: https://docs.solidjs.com/reference/components/dynamic

The Dynamic component in SolidJS enables the rendering of any component or HTML tag, passing through all provided props.

```APIDOC
## SolidJS Dynamic Component

### Description
The `<Dynamic />` component allows you to insert an arbitrary component or HTML tag and pass props through to it. This is useful for creating flexible and dynamic UI structures.

### Usage

```jsx
import { Dynamic } from "solid-js/web"

<Dynamic component={MyComponent} someProp={state.something} />
```

### Props

#### Path Parameters
* None

#### Query Parameters
* None

#### Request Body
* None

### Request Example
```jsx
// Example demonstrating the usage of the Dynamic component
<Dynamic component="div" className="container" >
  Hello, World!
</Dynamic>

<Dynamic component={MyOtherComponent} data-testid="my-component" />
```

### Response
* This component does not have a direct request/response model as it's a client-side rendering component.

#### Success Response (200)
* N/A

#### Response Example
* N/A

### Component Signature
```typescript
function Dynamic<T>(
  props: T & {
    children?: any
    component?: Component<T> | string | keyof JSX.IntrinsicElements
  }
): () => JSX.Element
```

### Props Details

| Name      | Type                                              | Description                                   |
|-----------|---------------------------------------------------|-----------------------------------------------|
| `component` | `Component<T>` | `string` | `keyof JSX.IntrinsicElements` | The component or tag to render.               |
| `children`  | `any`                                             | The children to pass to the rendered component. |
| `...`     | `T`                                               | Any other props to pass to the component.     |

```

--------------------------------

### SolidJS Nested Batching and Asynchronous Behavior

Source: https://docs.solidjs.com/reference/reactive-utilities/batch

Illustrates how nested `batch` calls in SolidJS form a single larger batch. It also highlights that if the batched function `fn` is asynchronous, updates are batched only until the first `await` keyword is encountered.

```typescript
import { batch } from "solid-js"
import { createSignal, createMemo, createEffect } from "solid-js"
const [up1, setUp1] = createSignal(1)
const [up2, setUp2] = createSignal(2)
const [up3, setUp3] = createSignal(3)
const down = createMemo(() => up1() + up2() + up3())
// For illustration, monitor when `down` gets recomputed:
createEffect(() => console.log(down())) // outputs 6

batch(() => {
  setUp1(11) // doesn't update down yet
  setUp2(11) // doesn't update down yet
  setUp3(11) // doesn't update down yet
  console.log(down()) // recomputes down, outputs 33
  setUp1(12) // doesn't update down yet
  setUp2(12) // doesn't update down yet
  setUp3(12) // doesn't update down yet
}) // recomputes down, outputs 36
```

--------------------------------

### HttpStatusCode Component Usage

Source: https://docs.solidjs.com/solid-start/reference/server/http-status-code

The HttpStatusCode component sets the HTTP status code for the page response while server-side rendering. It takes a 'code' prop to specify the desired status code.

```APIDOC
## POST /websites/solidjs/HttpStatusCode

### Description
Sets the HTTP status code for the page response during server-side rendering.

### Method
POST

### Endpoint
/websites/solidjs/HttpStatusCode

### Parameters
#### Path Parameters
- None

#### Query Parameters
- None

#### Request Body
- **code** (number) - Required - The HTTP status code to set.

### Request Example
```json
{
  "code": 404
}
```

### Response
#### Success Response (200)
- None (This component primarily affects the server response, not a direct JSON response).

#### Response Example
(No direct JSON response for this component's action. The effect is on the HTTP status code of the server response.)
```

--------------------------------

### SolidJS: Defining Custom Event Handlers with `on:___`

Source: https://docs.solidjs.com/configuration/typescript

Illustrates how to define and use custom event handlers in SolidJS using the `on:___` attribute. This involves extending Solid's JSX namespace to include custom event types and their corresponding event objects.

```typescript
class NameEvent extends CustomEvent {
  type: "Name";
  detail: { name: string };

  constructor(name: string) {
    super("Name", { detail: { name } });
  }
}

declare module "solid-js" {
  namespace JSX {
    interface CustomEvents {
      Name: NameEvent; // Matches `on:Name`
    }
  }
}

// Usage
<div on:Name={(event) => console.log("name is", event.detail.name)} />;
```

--------------------------------

### Test SolidJS Component Relying on Context

Source: https://docs.solidjs.com/guides/testing

Renders a SolidJS component that depends on context, providing the context value using the `wrapper` option in `@solidjs/testing-library`. Asserts that the component correctly consumes the context data.

```jsx
import { test, expect } from "vitest"
import { render } from "@solidjs/testing-library"
import { DataContext, DataConsumer } from "./Data"


const wrapper = (props) => <DataContext value="test" {...props} />


test("receives data from context", () => {
  const { getByText } = render(() => <DataConsumer />, { wrapper })
  expect(getByText("test")).toBeInTheDocument()
});
```

--------------------------------

### Handle File Uploads with SolidJS Router Form Action

Source: https://docs.solidjs.com/solid-router/concepts/actions

Shows how to configure an HTML form for file uploads using SolidJS Router actions. The `<form>` element must include `enctype="multipart/form-data"` to properly send file data along with other form inputs.

```html
<form action={uploadFileAction} method="post" enctype="multipart/form-data">
  <input type="file" name="myFile" />
  <button type="submit">Upload</button>
</form>
```

--------------------------------

### Set Route-Specific Title

Source: https://docs.solidjs.com/solid-start/building-your-application/head-and-metadata

Applies a title to a specific route using the Title component from @solidjs/meta. This title is active only when the user is on this route and is removed upon navigation away.

```typescript
import { Title } from "@solidjs/meta";


export default function About() {
  return (
    <>
      <Title>About</Title>
      <h1>About</h1>
    </>
  );
}
```

--------------------------------

### APIEvent Object

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

The `APIEvent` object passed to your route handlers provides access to the request, dynamic parameters, and an internal fetch utility.

```APIDOC
## The APIEvent Object

Each API route handler function receives an `APIEvent` object as its first argument. This object provides crucial information and utilities for handling requests.

### Properties of APIEvent:
*   **`request`** (`Request` object): Represents the incoming HTTP request from the client. You can access method, headers, body, etc.
*   **`params`** (`object`): An object containing the dynamic route parameters. For a route like `/api/users/:id`, if the request is to `/api/users/123`, `params` will be `{ id: '123' }`.
*   **`fetch`** (`Function`): An internal `fetch` function provided by SolidStart. It allows making requests to other API routes within your application without needing to specify the `origin` URL, simplifying inter-route communication.

### Example Usage:
```typescript
import type { APIEvent } from "@solidjs/start/server";

export async function GET(event: APIEvent) {
  const userId = event.params.id;
  console.log(`Received request for user ID: ${userId}`);

  // Example of using the internal fetch utility
  // Assuming another API route exists at /api/user-details/:id
  try {
    const userDetailsResponse = await event.fetch(`/api/user-details/${userId}`);
    if (userDetailsResponse.ok) {
      const userDetails = await userDetailsResponse.json();
      console.log("User details fetched:", userDetails);
      return new Response(JSON.stringify({ userId, ...userDetails }), {
        headers: {
          "Content-Type": "application/json"
        }
      });
    } else {
      return new Response("Failed to fetch user details", { status: 500 });
    }
  } catch (error) {
    console.error("Error during fetch:", error);
    return new Response("Internal server error", { status: 500 });
  }
}
```

```

--------------------------------

### Disable SSR for Entire Page with clientOnly (JavaScript)

Source: https://docs.solidjs.com/solid-start/reference/client/client-only

This snippet shows how to apply `clientOnly` at the page level to disable server-side rendering for the entire page. The `lazy: true` option is used for lazy loading, and the page content will only execute on the client.

```javascript
import { clientOnly } from "@solidjs/start";


export default clientOnly(async () => ({ default: Page }), { lazy: true });


function Page() {
  // This code runs only on the client
  return <div>Client-only page content</div>;
}
```

--------------------------------

### Preloading Data with `cache` in Solid Router

Source: https://docs.solidjs.com/solid-router/reference/data-apis/cache

Illustrates integrating a cached data fetching function with Solid Router's routing mechanism. A `preloadUser` function is defined to fetch user data using `getUser` (which is assumed to be created with `cache` or a similar mechanism). This preload function can be passed to a `Route` component to ensure data is fetched before the component is rendered.

```javascript
import { lazy } from "solid-js";
import { Route } from "@solidjs/router";
import { getUser } from "..." // the cache function


const User = lazy(() => import("./pages/users/[id].js"));


// preload function
function preloadUser({params, location}) {
  void getUser(params.id)
}


// Pass it in the route definition
<Route path="/users/:id" component={User} preload={preloadUser} />
```

--------------------------------

### Solid Router: Define Single Route with Config

Source: https://docs.solidjs.com/solid-router/getting-started/config

This snippet demonstrates how to define a single route using configuration in Solid Router. It requires the `@solidjs/router` package and uses `lazy` for component loading. The `path` property specifies the URL, and `component` points to the component to render.

```javascript
import { lazy } from "solid-js";
import { render } from "solid-js/web";
import { Router } from "@solidjs/router";


const routes = {
    path: "/",
    component: lazy(() => import("/routes/index.js")),
}




render(() => <Router>{routes}</Router>, document.getElementById("app"));
```

--------------------------------

### Import UnoCSS in Root Component

Source: https://docs.solidjs.com/guides/styling-components/uno

Demonstrates how to import UnoCSS into the root `index.jsx` or `index.tsx` file of a SolidJS application. This makes UnoCSS utilities available throughout the application.

```javascript
/* @refresh reload */
import "uno.css"
import {
  render
} from "solid-js/web"
import "./index.css"
import App from "./App"


render(() => <App />, document.getElementById('root') as HTMLElement);
```

--------------------------------

### Accessing Cache Keys with `.key` and `.keyFor`

Source: https://docs.solidjs.com/solid-router/reference/data-apis/cache

Demonstrates how to access the cache keys generated by a cached function. The `.key` property returns the base key defined when the function was created, while `.keyFor(args)` returns a specific key for a given set of arguments. These methods are useful for cache invalidation.

```javascript
let id = 5;
getUser.key; // returns "users"
getUser.keyFor(id); // returns "users[5]"
```

--------------------------------

### Optimize Static JSX with /* @once */ Decorator

Source: https://docs.solidjs.com/reference/jsx-attributes/once

Demonstrates how to use the /* @once */ decorator in Solid.js to prevent the compiler from reactively wrapping static JSX attributes or children. This improves performance by ensuring values that do not change are not unnecessarily re-evaluated. It's useful for performance-critical sections where values are known to be constant.

```jsx
<MyComponent static={/*@once*/ state.wontUpdate} />

```

```jsx
<MyComponent>{/*@once*/ state.wontUpdate}</MyComponent>

```

--------------------------------

### SolidJS: Differentiating Union Types with Memoized Signals

Source: https://docs.solidjs.com/configuration/typescript

Shows how to differentiate types within a union using `createMemo` when a simple check on `null` or `undefined` is insufficient. This approach is useful for conditionally rendering components based on specific properties of a signal's value.

```typescript
type User = Admin | OtherUser;
const admin = createMemo(() => {
  const u = user();
  return u && u.type === "admin" ? u : undefined;
});
return <Show when={admin()}>{(a) => <AdminPanel user={a()} />}</Show>;
```

```typescript
<Show
  when={(() => {
    const u = user();
    return u && u.type === "admin" ? u : undefined;
  })()}
>
  {(admin) => <AdminPanel user={admin()} />}
</Show>
```

--------------------------------

### Define SolidJS Components Without Component Types

Source: https://docs.solidjs.com/configuration/typescript

Demonstrates how to define SolidJS components using arrow functions and function declarations. Any function accepting props and returning JSX.Element is a valid component. Components can also be defined to take no props.

```typescript
// arrow function
const MyComponent = (props: MyProps): JSX.Element => { ... }
```

```typescript
// function declaration
function MyComponent(props: MyProps): JSX.Element { ... }
```

```typescript
// component which takes no props
function MyComponent(): JSX.Element { ... }
```

--------------------------------

### SolidJS: Basic Counter Component with Signal Updates

Source: https://docs.solidjs.com/concepts/intro-to-reactivity

Demonstrates a simple counter component in SolidJS. It uses `createSignal` to manage state and updates the UI reactively when the 'Increment' button is clicked. The JSX directly embeds the signal's current value, which automatically updates.

```javascript
function Counter() {
  const [count, setCount] = createSignal(0);
  const increment = () => setCount((prev) => prev + 1);


  return (
    <div>
      <span>Count: {count()}</span>{" "}
      {/* âœ… will update when `count()` changes. */}
      <button type="button" onClick={increment}>
        Increment
      </button>
    </div>
  );
}
```

--------------------------------

### Set HTTP Response Header with SolidStart HttpHeader

Source: https://docs.solidjs.com/solid-start/reference/server/http-header

The HttpHeader component from '@solidjs/start' allows you to set custom headers on HTTP responses. You provide the header name and value as props. This is useful for controlling browser behavior or passing metadata.

```typescript
import { HttpHeader } from "@solidjs/start";


<HttpHeader name="x-robots-tag" value="noindex" />;
```

--------------------------------

### SolidJS: Render to Stream

Source: https://docs.solidjs.com/reference/rendering/render-to-stream

Renders SolidJS components to a stream. It synchronously renders the initial content, including Suspense fallbacks, and then streams subsequent data as async resources complete. This function is suitable for server-side rendering.

```typescript
import { renderToStream } from "solid-js/web"

function renderToStream<T>(
  fn: () => T,
  options?: {
    nonce?: string
    renderId?: string
    onCompleteShell?: () => void
    onCompleteAll?: () => void
  }
): {
  pipe: (writable: { write: (v: string) => void }) => void
  pipeTo: (writable: WritableStream) => void
}
```

```javascript
// node
renderToStream(App).pipe(res)
```

```javascript
// web stream
const { readable, writable } = new TransformStream()
renderToStream(App).pipeTo(writable)
```

--------------------------------

### Redirect within Server Actions

Source: https://docs.solidjs.com/solid-router/reference/response-helpers/redirect

When `redirect` is used within a SolidStart Server Action, the redirect is handled by the server. The response automatically includes data for the destination route, avoiding an extra client-server roundtrip.

```APIDOC
## POST /api/users

### Description
An example of a SolidStart Server Action that adds a user and then redirects to the users list page. The redirect includes data for the `/users` route.

### Method
POST

### Endpoint
/api/users

### Parameters
#### Request Body
- **user** (object) - Required - The user object to add.
  - **name** (string) - Required - The name of the user.
  - **email** (string) - Required - The email of the user.

### Request Example
```json
{
  "user": {
    "name": "Jane Doe",
    "email": "jane.doe@example.com"
  }
}
```

### Response
#### Redirect Response
- **Location** (string) - The URL to redirect to (e.g., '/users').
- **Data** (object) - Data for the destination route (e.g., updated user list).

### Response Example (Redirect)
*Server returns a redirect response to '/users' with the updated user list data.*

```

--------------------------------

### Complete tsconfig.json for SolidJS Projects

Source: https://docs.solidjs.com/configuration/typescript

A comprehensive tsconfig.json configuration for SolidJS projects, including settings for strict mode, module resolution, JSX handling, and Vite client types.

```json
{
  "compilerOptions": {
    "strict": true,
    "target": "ESNext",
    "module": "ESNext",
    "moduleResolution": "node",
    "allowSyntheticDefaultImports": true,
    "esModuleInterop": true,
    "jsx": "preserve",
    "jsxImportSource": "solid-js",
    "types": ["vite/client"],
    "noEmit": true,
    "isolatedModules": true
  }
}
```

--------------------------------

### Synchronous String Rendering with SolidJS renderToString

Source: https://docs.solidjs.com/reference/rendering/render-to-string

The renderToString function from 'solid-js/web' renders a SolidJS component to an HTML string synchronously. It supports progressive hydration by generating a script tag. Options can be provided for nonce and renderId to customize the script tag and namespace renders.

```typescript
import { renderToString } from "solid-js/web"


function renderToString<T>(
  fn: () => T,
  options?: {
    nonce?: string
    renderId?: string
  }
): string
```

```javascript
const html = renderToString(App)
```

--------------------------------

### Using Refs for DOM Element Access in Solid.js

Source: https://docs.solidjs.com/concepts/refs

Shows the basic usage of the `ref` attribute in Solid.js to directly access DOM elements within the JSX template. The assignment happens at creation time, before the element is added to the DOM.

```javascript
function Component() {
  let myElement;


  return (
    <div>
      <p ref={myElement}>My Element</p>
    </div>
  )
}
```

--------------------------------

### Solid.js Nested Show Components

Source: https://docs.solidjs.com/concepts/control-flow/conditional-rendering

Shows how to handle multiple conditions by nesting '<Show>' components. Each nested '<Show>' evaluates its 'when' condition independently. This pattern can become complex for many conditions.

```jsx
import { Show } from "solid-js"


<Show when={data.loading}>
  <div>Loading...</div>
  <Show when={data.error}>
    <div>Error: {data.error}</div>
  </Show>
</Show>
```

--------------------------------

### Advanced on:* Event Handling with Options in SolidJS

Source: https://docs.solidjs.com/reference/jsx-attributes/on

This snippet shows how to use the `on:*` syntax in SolidJS with advanced event listener options like `once`, `passive`, and `capture`. It utilizes an `EventListenerObject` or an inline object for detailed control over event listener behavior, replacing the deprecated `oncapture:` syntax.

```jsx
const handler = {
  handleEvent(e) {
    console.log(e)
  },
  once:true,
  passive:false,
  capture:true
}

<div on:wheel={handler} />
```

```jsx
<div on:click={{passive:true, handleEvent(e) { console.log("Weeeee!")}}} />
```

--------------------------------

### SolidJS: Derived State as a Function for Multiple Uses

Source: https://docs.solidjs.com/guides/state-management

Illustrates using a derived signal as a function directly within the JSX. This approach re-evaluates the calculation every time the derived signal is accessed, potentially causing performance issues with expensive computations or frequent accesses.

```javascript
import { createSignal } from "solid-js"


function Counter() {
  const [count, setCount] = createSignal(0)


  const increment = () => {
    setCount(count() + 1)
  }


  const doubleCount = () => count() * 2
  const doubleCount = () => {
    console.log('doubleCount called')
    return count() * 2
  }


  return (
    <>
      <div>Current count: {count()}</div>
      <div>Doubled count: {doubleCount()}</div>
      <div>Doubled count: {doubleCount()}</div>
      <div>Doubled count: {doubleCount()}</div>
      <button onClick={increment}>Increment</button>
    </>
  )
}


```

--------------------------------

### Assigning JSX to a Variable in Solid.js

Source: https://docs.solidjs.com/concepts/refs

Demonstrates how to assign JSX to a variable to create and access DOM elements directly, similar to `document.createElement`. This method avoids the need to wait for elements to be attached to the DOM but can make the JSX structure harder to read.

```javascript
function Component() {
  const myElement = <p>My Element</p>


  return <div>{myElement}</div>
}
```

--------------------------------

### Customize Portal Mount Point with SolidJS

Source: https://docs.solidjs.com/concepts/control-flow/portal

Specify a custom DOM node as the mount point for portal content using the `mount` prop. This allows you to control exactly where the portalized elements are rendered in the document, instead of defaulting to the document body.

```jsx
import { Portal } from "solid-js/web"


<Portal mount={document.querySelector("main")}>
  <div class="popup">...</div>
</Portal>
```

--------------------------------

### Trigger Actions Programmatically with useAction in SolidJS

Source: https://docs.solidjs.com/solid-router/concepts/actions

The `useAction` primitive allows triggering actions directly via JavaScript without a form element. It takes an action function as input and returns a callable function to invoke the action with arguments. This method is client-side only and lacks progressive enhancement.

```typescript
import { action, useAction } from "@solidjs/router";


const markNotificationReadAction = action(async (notificationId: string) => {
  // ... Marks a notification as read on the server.
});


function NotificationItem(props: { id: string }) {
  const markRead = useAction(markNotificationReadAction);


  return <button onClick={() => markRead(props.id)}>Mark as read</button>;
}
```

--------------------------------

### Import UnoCSS using Virtual Alias

Source: https://docs.solidjs.com/guides/styling-components/uno

An alternative method to import UnoCSS in the root component file using the virtual alias `virtual:uno.css`. This achieves the same result as importing `uno.css` directly.

```javascript
/* @refresh reload */
import "virtual:uno.css"
import {
  render
} from "solid-js/web"
import "./index.css"
import App from "./App"


render(() => <App />, document.getElementById('root') as HTMLElement);
```

--------------------------------

### Solid Router: Config-based Route Nesting

Source: https://docs.solidjs.com/solid-router/concepts/nesting

Shows how to implement nested routes using a configuration object in Solid Router. The 'children' property is used to define a hierarchy of routes, with components lazily loaded for each path.

```javascript
import { render } from "solid-js/web";
import { Router } from "@solidjs/router";


const routes = {
  path: "/",
  component: lazy(() => import("/routes/index.js")),
  children: [
    {
      path: "/users",
      component: lazy(() => import("/routes/users.js")),
      children: [
        {
          path: "/:id",
          component: lazy(() => import("/routes/user.js")),
        },
      ],
    },
  ],
};


render(() => <Router>{routes}</Router>, document.getElementById("app"));
```

--------------------------------

### Generate tsconfig.json with tsc

Source: https://docs.solidjs.com/configuration/typescript

Commands to initialize a tsconfig.json file using the TypeScript compiler (tsc) with different package manager runners.

```bash
npx tsc --init
```

```bash
pnpx tsc --init
```

```bash
yarn dlx tsc --init
```

```bash
bunx tsc --init
```

```bash
dpx tsc --init
```

--------------------------------

### SolidJS Switch Component Implementation (JavaScript)

Source: https://docs.solidjs.com/reference/components/switch-and-match

A simple JavaScript implementation of the SolidJS Switch component. It iterates through its children (Match components) and renders the first one whose 'when' prop is truthy, or a fallback if none match.

```javascript
function Switch(props) {
  let children = props.children


  if (!Array.isArray(children)) children = [children]


  for (let i = 0; i < children.length; i++) {
    const child = children[i]
    if (child.props.when) return child
  }


  return props.fallback
}
```

--------------------------------

### SolidJS: Extending CustomEvents for Native HTML Events

Source: https://docs.solidjs.com/configuration/typescript

Explains how to extend SolidJS's `CustomEvents` interface to include native HTML events, resolving TypeScript errors that occur when using the `on` prefix with standard DOM events. This allows for seamless integration of native event handling.

```typescript
declare module "solid-js" {
  namespace JSX {
    interface CustomEvents extends HTMLElementEventMap {}
  }
}
```

```typescript
declare module "solid-js" {
  namespace JSX {
    interface CustomEvents
      extends Pick<HTMLElementEventMap, "mousemove" | "pointermove"> {}
  }
}
```

--------------------------------

### Redirect After Server Action Mutation

Source: https://docs.solidjs.com/solid-router/reference/response-helpers/redirect

This snippet shows how to use `redirect` within an `action` for server-side mutations. After a user is added using `postUser`, it redirects to the '/users' route. The response automatically includes data for the destination route, preventing an extra network trip.

```typescript
import { action, redirect } from "@solidjs/router";


const addUser = action(async (user: User) => {
  await postUser(user);


  return redirect("/users");
});

```

--------------------------------

### Manage User Sessions with Cookies in a SolidStart API Route

Source: https://docs.solidjs.com/solid-start/building-your-application/api-routes

This SolidStart API route illustrates session management using HTTP-only cookies. It retrieves a 'userId' from the request cookies, validates it against user data fetched from a store, and returns the user information or an appropriate error response.

```typescript
import type { APIEvent } from "@solidjs/start/server";
import { getCookie } from "vinxi/http";
import store from "./store";


export async function GET(event: APIEvent) {
  const userId = getCookie("userId");
  if (!userId) {
    return new Response("Not logged in", { status: 401 });
  }
  const user = await store.getUser(event.params.userId);
  if (user.id !== userId) {
    return new Response("Not authorized", { status: 403 });
  }
  return user;
}
```

--------------------------------

### SolidJS: Signal Type Definitions

Source: https://docs.solidjs.com/reference/basic-reactivity/create-signal

Provides the TypeScript type definitions for Solid.js signals, including `Signal`, `Accessor`, and `Setter`. These types clarify the structure and expected usage of signal-related functions.

```typescript
import type { Signal, Accessor, Setter } from "solid-js"
type Signal<T> = [get: Accessor<T>, set: Setter<T>]
type Accessor<T> = () => T
type Setter<T> = (v: T | ((prev?: T) => T)) => T
```

--------------------------------

### Basic Usage of useSubmission in SolidJS

Source: https://docs.solidjs.com/solid-router/reference/data-apis/use-submission

Demonstrates how to use the useSubmission hook within a SolidJS component to manage the state of a form submission. It includes handling pending states, displaying results or errors, and providing options to clear or retry the submission.

```javascript
import { Show } from "solid-js";
import { action, useSubmission } from "@solidjs/router";


const addTodoAction = action(async (formData: FormData) => {
  const name = formData.get("name")?.toString();


  if (!name || name.length <= 2) {
    return { ok: false, message: "Name must be larger than 2 characters." };
  }


  // ... Sends the todo data to the server.


  return { ok: true };
}, "addTodo");


function AddTodoForm() {
  const submission = useSubmission(addTodoAction);


  return (
    <form action={addTodoAction} method="post">
      <input name="name" />
      <button type="submit">{submission.pending ? "Adding..." : "Add"}</button>
      <Show when={!submission.result?.ok}>
        <div>
          <p>{submission.result.message}</p>
          <button onClick={() => submission.clear()}>Clear</button>
          <button onClick={() => submission.retry()}>Retry</button>
        </div>
      </Show>
    </form>
  );
}
```

--------------------------------

### SolidJS: Storing Functions in Signals

Source: https://docs.solidjs.com/reference/basic-reactivity/create-signal

Explains the correct way to store functions within a Solid.js signal. It highlights that when storing a function, the setter should be called with a function that returns the desired function, or the initial value can be a function directly.

```javascript
// Storing a function using the setter
setValue(() => myFunction);

// Storing a function as the initial value
const [func, setFunc] = createSignal(myFunction);
```

--------------------------------

### SolidJS Toast Component with Portal

Source: https://docs.solidjs.com/guides/testing

Defines a SolidJS `Toast` component that utilizes the `Portal` component from 'solid-js/web' to render its children into a designated DOM node. The component accepts optional props for its role.

```jsx
import { Portal } from "solid-js/web";


export const Toast = (props) => {
  return (
    <Portal>
      <div class="toast" role={props.role ?? "log"}>
        {props.children}
      </div>
    </Portal>
  );
}
```

--------------------------------

### Use props.children with Parent Route in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Illustrates how to leverage `props.children` within a parent route component to render nested route components. This allows for layout structures where child routes are injected into a parent's template.

```javascript
import { Route } from '@solidjs/router';
import { A } from '@solidjs/router';
import { Users } from './routes/Users';
import { User } from './routes/User';

function PageWrapper(props) {
  return (
    <div>
      <h1> We love our users! </h1>
      {props.children}
      <A href="/">Back Home</A>
    </div>
  );
}

<Route path="/users" component={PageWrapper}>
  <Route path="/" component={Users} />
  <Route path="/:id" component={User} />
</Route>
```

--------------------------------

### Solid Router: Revalidating Data Queries with `revalidate`

Source: https://docs.solidjs.com/solid-router/data-fetching/revalidation

Demonstrates how to revalidate data queries in Solid Router using the `revalidate` function. This includes revalidating all instances of a query or specific instances based on arguments. It utilizes `query` for defining queries and `createAsync` for fetching data.

```typescript
import { For } from "solid-js";
import { query, createAsync, revalidate } from "@solidjs/router";


const getProjectsQuery = query(async () => {
  // ... Fetches a list of projects.
}, "projects");


const getProjectTasksQuery = query(async (projectId: string) => {
  // ... Fetches a list of tasks for a project.
}, "projectTasks");


function Projects() {
  const projects = createAsync(() => getProjectsQuery());


  function refetchAllTasks() {
    revalidate(getProjectTasksQuery.key);
  }


  return (
    <div>
      <button onClick={refetchAllTasks}>Refetch all tasks</button>
      <For each={projects()}>{(project) => <Project id={project.id} />}</For>
    </div>
  );
}


function Project(props: { id: string }) {
  const tasks = createAsync(() => getProjectTasksQuery(props.id));


  function refetchTasks() {
    revalidate(getProjectTasksQuery.keyFor(props.id));
  }


  return (
    <div>
      <button onClick={refetchTasks}>Refetch tasks for this project</button>
      <For each={project.tasks}>{(task) => <div>{task.title}</div>}</For>
    </div>
  );
}

```

--------------------------------

### Import Route Component - SolidJS Router

Source: https://docs.solidjs.com/solid-router/reference/preload-functions/preload

This snippet shows the basic import statement for the Route component from the '@solidjs/router' package, essential for defining routes in a SolidJS application.

```javascript
import { Route } from "@solidjs/router";
```

--------------------------------

### Passing Props to Dynamic Components in SolidJS

Source: https://docs.solidjs.com/concepts/control-flow/dynamic

Illustrates how to pass props to components rendered dynamically using SolidJS's `<Dynamic>` component. Props passed to `<Dynamic>` are directly available to the rendered component, similar to standard JSX prop passing.

```javascript
import { Dynamic } from "solid-js/web"


function App() {
  return (
    <Dynamic component={someComponent} someProp="someValue" />
  )
}
```

--------------------------------

### Create CSS Module File (CSS)

Source: https://docs.solidjs.com/guides/styling-components/css-modules

Defines local styles using the `.module.css` extension. Class names are scoped to the component where they are imported, preventing global style conflicts. Avoid using HTML tags directly as selectors to maintain style predictability.

```css
/* styles.module.css */
.foo {
  color: red;
}
.bar {
  background-color: blue;
}
```

--------------------------------

### SolidJS: Create Signal from RxJS Observable with `from`

Source: https://docs.solidjs.com/reference/reactive-utilities/from

This snippet demonstrates how to use the `from` utility to convert an RxJS observable (`obsv$`) into a SolidJS Signal. The `from` function takes the observable and returns a function that provides the current value of the Signal. It handles subscription and disposal automatically.

```typescript
import { from } from "solid-js"

// Assuming obsv$ is an RxJS observable
const signal = from(obsv$)
```

--------------------------------

### Solid Router: Using the <A> Component for Basic Navigation

Source: https://docs.solidjs.com/solid-router/concepts/navigation

The <A> component in Solid Router extends the native <a> element to provide soft navigation. It automatically handles base URL paths and supports relative paths, simplifying link creation for internal application routes.

```jsx
import { A } from "@solidjs/router";


function DashboardPage() {
  return (
    <main>
      <nav>
        <A href="/">Home</A>
      </nav>
      {/* This is a relative path that, from /dashboard, links to /dashboard/users */}
      <A href="users">Users</A>
    </main>
  );
}

```

--------------------------------

### Deploy Solid.js App to Cloudflare Pages with Wrangler

Source: https://docs.solidjs.com/guides/deployment-options/cloudflare

Deploys the built static assets of a Solid.js project to Cloudflare Pages using the Wrangler CLI. The 'dist' directory typically contains the production build output.

```bash
wrangler pages deploy dist
```

--------------------------------

### SolidJS: Signal Tracking Inside vs. Outside Component Return

Source: https://docs.solidjs.com/concepts/intro-to-reactivity

Illustrates signal tracking in SolidJS components. Accessing a signal within the `return` statement (JSX) enables reactive updates. Accessing it outside the `return` statement, like in a `console.log`, only runs during initialization and does not track updates. `createEffect` is shown for side effects that should react to signal changes.

```javascript
function Counter() {
  const [count, setCount] = createSignal(0);
  const increment = () => setCount((prev) => prev + 1);


  console.log("Count:", count()); // âŒ not tracked - only runs once during initialization.


  createEffect(() => {
    console.log(count()); // âœ… will update whenever `count()` changes.
  });


  return (
    <div>
      <span>Count: {count()}</span>{/* âœ… will update whenever `count()` changes. */}
      <button type="button" onClick={increment}>
        Increment
      </button>
    </div>
  );
}
```

--------------------------------

### SolidJS Accessing and Updating State with Signals

Source: https://docs.solidjs.com/guides/state-management

Shows how to access the current value of a signal using its getter function and how to update the state using its setter function. The setter can accept a new value or a function that receives the previous value to calculate the new state.

```javascript
console.log(count()); // 0

setCount((prev) => prev + 1);


console.log(count()); // 1

```

--------------------------------

### SolidJS: Index Loop with Item Signal Access

Source: https://docs.solidjs.com/concepts/control-flow/list-rendering

Demonstrates accessing the `item` signal within the `<Index>` component's callback to render dynamic content. This is suitable when the content at an index may change frequently while the index itself remains stable. Dependencies include the `Index` component from 'solid-js'.

```jsx
import { Index } from "solid-js"


<Index each={data()}>
  {(item, index) => (
    <li>
      {item().name} - {item().completed}
    </li>
  )}
</Index>
```

--------------------------------

### SolidJS Router Action: Return Structured Errors on Failure

Source: https://docs.solidjs.com/solid-router/concepts/actions

Demonstrates how to use SolidJS Router's action creator to handle form submissions. Instead of throwing errors, actions should return a structured object indicating success or failure with specific error messages. This improves type safety and allows for detailed error reporting in the UI.

```typescript
import { Show } from "solid-js";
import { action, useSubmission } from "@solidjs/router";


const verifyTwoFactorAction = action(async (formData: FormData) => {
  const code = formData.get("code")?.toString();


  if (!code || code.length !== 6) {
    return {
      ok: false,
      errors: { code: "Enter the 6-digit code from the authenticator app." },
    };
  }


  // ... Verifies the code with the server and handles potential errors.


  return { ok: true };
}, "verifyTwoFactor");


function TwoFactorForm() {
  const submission = useSubmission(verifyTwoFactorAction);


  const errors = () => {
    const result = submission.result;
    if (result && !result.ok) {
      return result.errors;
    }
  };


  return (
    <form action={verifyTwoFactorAction} method="post">
      <div>
        <input name="code" placeholder="6-digit code" inputMode="numeric" />
        <Show when={errors()?.code}>
          <p>{errors().code}</p>
        </Show>
      </div>


      <button type="submit" disabled={submission.pending}>
        {submission.pending ? "Verifying..." : "Verify"}
      </button>
    </form>
  );
}

```

--------------------------------

### Vercel Rewrites for SPA

Source: https://docs.solidjs.com/solid-router/rendering-modes/spa

Sets up Vercel rewrites to handle client-side routing in single page applications. It ensures that all incoming requests are directed to index.html, avoiding 'not found' errors for non-file URLs.

```json
{
  "rewrites": [
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ]
}

```

--------------------------------

### Solid Router Disable Streaming with deferStream

Source: https://docs.solidjs.com/solid-router/data-fetching/streaming

Shows how to disable streaming for a specific data query using the `deferStream: true` option in `createAsync`. This ensures the server waits for the query to resolve before sending the initial HTML, which is useful for SEO-critical content.

```typescript
import { query, createAsync } from "@solidjs/router";


const getArticleQuery = query(async () => {
  // ... Fetches an article.
}, "article");


function ArticleHeader() {
  const article = createAsync(() => getArticleQuery(), {
    deferStream: true,
  });


  return <h1>{article()?.title}</h1>;
}

```

--------------------------------

### Define Route with Multiple Paths - SolidJS

Source: https://docs.solidjs.com/solid-router/reference/components/route

The `Route` component allows defining multiple paths for a single route definition. This is beneficial for scenarios where a route should remain mounted and avoid re-rendering when navigating between related locations. The `path` prop accepts either a single string or an array of strings.

```jsx
<Route path={["/login", "/register"]} component={Login} />
```

--------------------------------

### Test Effect Utility in SolidJS

Source: https://docs.solidjs.com/guides/testing

The `testEffect` function from `@solidjs/testing-library` is designed for testing asynchronous effects. It takes a function that receives a `done` callback. The returned promise resolves when `done` is called and rejects if any errors occur. Dependencies include `@solidjs/testing-library`.

```typescript
import { testEffect } from "@solidjs/testing-library"
import { createSignal, createEffect } from "solid-js"

const [value, setValue] = createSignal(0)
return testEffect(done =>
  createEffect((run: number = 0) => {
    if (run === 0) {
      expect(value()).toBe(0)
      setValue(1)
    } else if (run === 1) {
      expect(value()).toBe(1)
      done()
    }
    return run + 1
  })
)
```

--------------------------------

### Server Function for Logout Action (SolidJS)

Source: https://docs.solidjs.com/solid-start/building-your-application/data-mutation

Defines a server-only action to handle user logout. It securely accesses session data, clears the session, deletes associated database records, and redirects the user. This pattern prevents sensitive logic from being exposed to the client.

```typescript
import { action, redirect } from "@solidjs/router";
import { useSession } from "vinxi/http";
import { db } from "./db";


const logoutAction = action(async () => {
  "use server";
  const session = await useSession({
    password: process.env.SESSION_SECRET as string,
    name: "session",
  });


  if (session.data.sessionId) {
    await session.clear();
    await db.session.delete({ id: sessionId });
  }


  throw redirect("/");
}, "logout");

```

--------------------------------

### Define a Server Action in SolidJS Router

Source: https://docs.solidjs.com/solid-router/concepts/actions

Defines a server action by wrapping mutation logic with the `action` function. This action interacts with a remote API to create a support ticket. It handles successful responses and API errors, returning an object indicating success or failure with a message.

```typescript
import { action } from "@solidjs/router";


const createTicketAction = action(async (subject: string) => {
  const response = await fetch("https://my-api.com/support/tickets", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ subject }),
  });


  if (!response.ok) {
    const errorData = await response.json();
    return { ok: false, message: errorData.message };
  }


  return { ok: true };
}, "createTicket");
```

--------------------------------

### SolidStart CORS Middleware (TypeScript)

Source: https://docs.solidjs.com/solid-start/guides/security

Implements Cross-Origin Resource Sharing (CORS) for API endpoints. This middleware checks the 'Origin' header against a list of trusted origins and handles both preflight (OPTIONS) and normal requests by setting appropriate CORS headers.

```typescript
import { createMiddleware } from "@solidjs/start/middleware";
import { json } from "@solidjs/router";


const TRUSTED_ORIGINS = ["https://my-app.com", "https://another-app.com"];


export default createMiddleware({
  onBeforeResponse: (event) => {
    const { request, response } = event;


    response.headers.append("Vary", "Origin, Access-Control-Request-Method");


    const origin = request.headers.get("Origin");
    const requestUrl = new URL(request.url);
    const isApiRequest = requestUrl && requestUrl.pathname.startsWith("/api");


    if (isApiRequest && origin && TRUSTED_ORIGINS.includes(origin)) {
      // Handle preflight requests.
      if (
        request.method === "OPTIONS" &&
        request.headers.get("Access-Control-Request-Method")
      ) {
        // Preflight requests are standalone, so we immediately send a response.
        return json(null, {
          headers: {
            "Access-Control-Allow-Origin": origin,
            "Access-Control-Allow-Methods": "OPTIONS, POST, PUT, PATCH, DELETE",
            "Access-Control-Allow-Headers": "Authorization, Content-Type",
          },
        });
      }


      // Handle normal requests.
      response.headers.set("Access-Control-Allow-Origin", origin);
    }
  },
});

```

--------------------------------

### Passing and Accessing Props in SolidJS

Source: https://docs.solidjs.com/concepts/components/props

Demonstrates how to pass read-only properties (props) from a parent component to a child component in SolidJS. It shows how props are defined as attributes in JSX and accessed via the 'props' object within the child component.

```jsx
function App() {
  // Passing a prop named "name" to the MyComponent component
  return (
    <div>
      <MyComponent name="Ryan Carniato" />
    </div>
  );
}

function MyComponent(props) {
  return <div>Hello {props.name}</div>;
}
```

--------------------------------

### Access Path Parameters with useParams (SolidJS)

Source: https://docs.solidjs.com/solid-router/concepts/path-parameters

Shows how to access the values of path parameters within a component using the `useParams` hook. The captured parameter values are available as properties of the object returned by `useParams`.

```jsx
import { useParams } from "@solidjs/router";


function User() {
    const params = useParams();
    return <div>User ID: {params.id}</div>; /* Output: User ID: 123 */ 
}
```

--------------------------------

### Consume Context with useContext in SolidJS

Source: https://docs.solidjs.com/reference/component-apis/use-context

Demonstrates how to use the useContext hook in SolidJS to access context data provided by a parent component. This is useful for avoiding prop drilling in deeply nested component trees. It assumes a CounterContext has been previously created.

```javascript
import { useContext } from "solid-js"
import { CounterContext } from "./YourContextProviderFile"

const [state, { increment, decrement }] = useContext(CounterContext)
```

--------------------------------

### SolidJS: Using EventListenerObject with `on:___`

Source: https://docs.solidjs.com/configuration/typescript

Demonstrates the usage of `EventListenerObject` with SolidJS custom event handlers, allowing for event listener options like `once: true`. This feature, available from v1.9.0, enables more control over how event listeners are attached.

```typescript
import type { JSX } from "solid-js"


const handler: JSX.EventHandlerWithOptions<HTMLDivElement, Event> =  {
  once: true,
  handleEvent: (event) => {
    console.log("will fire only once");
  },
}


// Usage
<div on:click={handler} />;
```

--------------------------------

### Make Parent Route Navigable in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Explains how to make the parent route itself renderable. This requires explicitly defining a route for the parent path, in addition to any child routes it may contain, ensuring the parent component is displayed.

```javascript
import { Route } from '@solidjs/router';
import { Users } from './routes/Users';
import { User } from './routes/User';

// Option 1
<Route path="/users" component={Users} />
<Route path="/users/:id" component={User} />

// Option 2
<Route path="/users">
  <Route path="/" component={Users} />
  <Route path="/:id" component={User} />
</Route>
```

--------------------------------

### SolidJS Signal Tracking and Un-tracked Updates

Source: https://docs.solidjs.com/concepts/intro-to-reactivity

Demonstrates how SolidJS signals only trigger updates when accessed within a tracking scope (like `createEffect`). If a signal is not tracked, changes to it won't cause side effects.

```javascript
const [count, setCount] = createSignal(0);

console.log("Count:", count());

setCount(1);

// Output: Count: 0

// `count` is not being tracked, so the console log will not update when `count` changes.
```

--------------------------------

### SolidJS <For> Component with Index Access

Source: https://docs.solidjs.com/reference/components/for

Shows how to access the index of each item within the SolidJS <For> component's children callback. The callback receives both the item and an index signal, which can be used for displaying item numbers or keys.

```jsx
<For each={state.list} fallback={<div>Loading...</div>}>
  {(item, index) => (
    <div>
      #{index()} {item}
    </div>
  )}
</For>

```

--------------------------------

### SolidJS Portal Event Propagation

Source: https://docs.solidjs.com/concepts/components/event-handlers

Demonstrates event handling within a SolidJS Portal component. Events originating from within the Portal propagate up the component tree, not the DOM tree, making them easier to manage.

```jsx
<div class="container" onInput={() => console.log("portal key press")}>
  <Portal mount={document.body}>
    <input onInput={() => console.log("input key press")} />
  </Portal>
</div>
```

--------------------------------

### Implement Route Change Guard with useBeforeLeave in SolidJS

Source: https://docs.solidjs.com/solid-router/reference/primitives/use-before-leave

The useBeforeLeave hook from Solid Router enables the execution of a callback function before navigating away from the current route. It provides arguments to inspect the navigation context, prevent the route change, or retry the navigation. This is particularly useful for guarding routes with unsaved changes.

```typescript
import { useBeforeLeave } from "@solidjs/router";

// Assuming 'form' is a reactive object with an 'isDirty' property
const form = {
  isDirty: true // Example: true if form has unsaved changes
};

useBeforeLeave((e) => {
  if (form.isDirty && !e.defaultPrevented) {
    // preventDefault to block immediately and prompt user async
    e.preventDefault();
    setTimeout(() => {
      if (window.confirm("Discard unsaved changes - are you sure?")) {
        // user wants to proceed anyway so retry with force=true
        e.retry(true);
      }
    }, 100);
  }
});
```

--------------------------------

### Importing CSS Files in SolidJS Components

Source: https://docs.solidjs.com/concepts/components/class-style

Shows the standard method for importing CSS files into SolidJS components using the 'import' statement. The imported CSS is typically injected into the document's head as a style tag.

```jsx
import "./Card.css";


function Card() {
  // ...
}
```

--------------------------------

### SolidJS Ref: Safe DOM Element Access in TypeScript

Source: https://docs.solidjs.com/configuration/typescript

Illustrates a safe approach for using refs in TypeScript with strict `null` checks enabled. It shows how to declare the ref variable as potentially `undefined` and includes checks before accessing its properties within the `onMount` lifecycle function.

```typescript
let divRef: HTMLDivElement | undefined
// This would be flagged as an error during compilation
divRef.focus()
onMount(() => {
  if (!divRef) return
  divRef.focus()
})
return <div ref={divRef}>...</div>
```

--------------------------------

### Splitting Props with splitProps in SolidJS

Source: https://docs.solidjs.com/concepts/components/props

Details the 'splitProps' utility in SolidJS, which allows splitting a single props object into multiple sets of props while preserving reactivity. This is useful for organizing and passing specific props to different child components.

```jsx
import { splitProps } from "solid-js"


function ParentComponent(props) {
  // Splitting props into two groups: 'name' and 'age'
  const [greetingProps, personalInfoProps, restProps] = splitProps(
    props,
    ["name"],
    ["age"]
  );


  // Using greetingProps and personalInfoProps in the current component
  return (
    <div>
      <Greeting {...greetingProps} />
      <PersonalInfo {...personalInfoProps} />
      {/* restProps can be passed down or used as needed */}
    </div>
  );
}
```

--------------------------------

### Using MemoryRouter for In-Memory Routing in SolidJS

Source: https://docs.solidjs.com/solid-router/reference/components/memory-router

This snippet demonstrates how to use the MemoryRouter from '@solidjs/router' to manage routing history entirely within memory. It includes creating a MemoryHistory instance, defining navigation functions, and integrating the MemoryRouter with a root component for suspended loading. This approach is beneficial for testing or when external history management is not desired.

```jsx
import { MemoryRouter, createMemoryHistory, A } from "@solidjs/router";
import { Suspense } from "solid-js";


export default function App() {
  const history = createMemoryHistory();


  const toHome = () => {
    history.set({ value: "/" });
  };
  const toAbout = () => {
    history.set({ value: "/about" });
  };


  return (
    <>
      <button onClick={toHome}>{ '"/"'}</button>
      <button onClick={toAbout}>{ '"/about"'}</button>


      <MemoryRouter
        history={history}
        root={(props) => <Suspense>{props.children}</Suspense ážš}
      >
        {/*... routes */}
      </MemoryRouter>
    </>
  );
}

```

--------------------------------

### Define Multiple Paths for a Single Route in SolidJS

Source: https://docs.solidjs.com/guides/routing-and-navigation

Allows defining multiple URL paths that will match and render the same component. This prevents route re-renders when navigating between these similar paths. It takes an array of strings as the path.

```javascript
import { Route } from '@solidjs/router';
import { Login } from './routes/Login';

<Route path={["login", "register"]} component={Login} />
```

--------------------------------

### Inline Styling with Objects in SolidJS JSX

Source: https://docs.solidjs.com/concepts/understanding-jsx

Explains and demonstrates how to apply inline styles to elements in SolidJS JSX when the style value is an object. This requires using double curly braces: one for the JSX expression and another for the JavaScript object literal.

```jsx
<button style={{
color: 'red',
font-size: '2rem',
}}>
Click me!
</button>

```

--------------------------------

### SolidJS: Use untrack to ignore dependencies

Source: https://docs.solidjs.com/reference/reactive-utilities/untrack

The 'untrack' utility in SolidJS allows you to execute code without tracking its dependencies. This is useful for optimizing performance by preventing unnecessary re-renders when a prop's value is known not to change.

```typescript
import { untrack } from "solid-js"


export function Component(props) {
    const value = untrack(() => props.value)


    return <div>{value}</div>
    }
}

```

--------------------------------

### SolidJS Task List with Signals

Source: https://docs.solidjs.com/guides/complex-state-management

A SolidJS component demonstrating a task list using multiple createSignal calls for managing tasks, their count, and completed status. This approach can lead to verbosity and potential synchronization issues.

```javascript
import { For, createSignal, Show, createMemo } from "solid-js"


const App = () => {
  const [tasks, setTasks] = createSignal([])
  const [numberOfTasks, setNumberOfTasks] = createSignal(tasks.length)
  const completedTasks = createMemo(() => tasks().filter((task) => task.completed))
  let input


  const addTask = (text) => {
    setTasks([...tasks(), { id: tasks().length, text, completed: false }])
    setNumberOfTasks(numberOfTasks() + 1)
  }
  const toggleTask = (id) => {
    setTasks(
      tasks().map((task) =>
        task.id !== id ? task : { ...task, completed: !task.completed }
      )
    )
  }


  return (
    <>
      <h1>My list</h1>
      <span>You have {numberOfTasks()} task(s) today!</span>
      <div>
        <input ref={input} />
        <button
          onClick={(e) => {
            if (!input.value.trim()) return
            addTask(input.value)
            input.value = ""
          }}
        >
          Add Task
        </button>
      </div>
      <For each={tasks()}>
        {(task) => {
          const { id, text } = task
          console.log(`Creating ${text}`)
          return (
            <div>
              <input
                type="checkbox"
                checked={task.completed}
                onChange={[toggleTask, id]}
              />
              <span
                style={{
                  "text-decoration": task.completed ? "line-through" : "none",
                }}
              >
                {text}
              </span>
            </div>
          )
        }}
      </For>
    </>
  )
}


export default App

```

--------------------------------

### SolidJS Switch and Match Type Definitions (TypeScript)

Source: https://docs.solidjs.com/reference/components/switch-and-match

Defines the types for the Switch and Match components in SolidJS using TypeScript. It includes type definitions for props and the generic nature of the Match component.

```typescript
import { Switch, Match } from "solid-js"
import type { MatchProps, JSX } from "solid-js"


function Switch(props: { 
  fallback?: JSX.Element
  children: JSX.Element
}): () => JSX.Element

type MatchProps<T> = {
  when: T | undefined | null | false
  children: JSX.Element | ((item: T) => JSX.Element)
}
function Match<T>(props: MatchProps<T>)
```

--------------------------------

### SolidJS `on` Utility Type Signature

Source: https://docs.solidjs.com/reference/reactive-utilities/on-util

Defines the type signature for the `on` utility in SolidJS, detailing its generic types for dependencies and return values, along with its parameters and options.

```typescript
import { on } from "solid-js"


function on<T extends Array<() => any> | (() => any), U>(
  deps: T,
  fn: (input: T, prevInput: T, prevValue?: U) => U,
  options: { defer?: boolean } = {}
): (prevValue?: U) => U | undefined
```

--------------------------------

### Redirect Helper - Core Usage

Source: https://docs.solidjs.com/solid-router/reference/response-helpers/redirect

The `redirect` helper function from `@solidjs/router` allows you to perform redirects. By default, it uses a `302 Found` status code. It can be used within query functions or server actions to navigate users to a different route, often when an action fails or a condition isn't met.

```APIDOC
## POST /api/example

### Description
This endpoint demonstrates a common use case for `redirect` where a user is redirected to a login page if they are not authenticated.

### Method
GET

### Endpoint
/api/example

### Parameters
#### Query Parameters
- **id** (string) - Required - The ID of the item to fetch.

### Request Example
```javascript
// No request body for this GET example
```

### Response
#### Success Response (200)
- **user** (object) - The user object if authenticated.

#### Error Response (302)
- **Location** (string) - The URL to redirect to (e.g., '/login').

### Response Example (Success)
```json
{
  "user": {
    "id": "123",
    "name": "John Doe"
  }
}
```

### Response Example (Redirect)
*Server returns a 302 status code with a 'Location' header pointing to '/login'.*

```

--------------------------------

### SolidJS: Dynamic Class Names and Signal-based Class Lists

Source: https://docs.solidjs.com/reference/jsx-attributes/classlist

Shows advanced usage of 'classList' in SolidJS, including dynamically determined class names and values, and managing class lists via signals. This allows for more flexible and reactive class management.

```jsx
// Dynamic class name and value
<div classList={{ [className()]: classOn() }} />


// Signal class list
const [classes, setClasses] = createSignal({})
setClasses((c) => ({ ...c, active: true }))
<div classList={classes()} />
```

--------------------------------

### Define User Profile Query in Solid Router

Source: https://docs.solidjs.com/solid-router/data-fetching/queries

Defines an asynchronous query named 'userProfile' to fetch user data from a remote API. It includes error handling for network or API failures, throwing an error that can be caught by an ErrorBoundary. This query is intended for use within Solid Router applications.

```typescript
import { query } from "@solidjs/router";


const getUserProfileQuery = query(async (userId: string) => {
  const response = await fetch(
    `https://api.example.com/users/${encodeURIComponent(userId)}`
  );
  const json = await response.json();


  if (!response.ok) {
    throw new Error(json?.message ?? "Failed to load user profile.");
  }


  return json;
}, "userProfile");
```

--------------------------------

### Solid.js Portal Component Type Definition

Source: https://docs.solidjs.com/reference/components/portal

Provides the TypeScript type definition for the Solid.js Portal component's props. It includes 'mount' for the target DOM node, 'useShadow' for enabling Shadow DOM isolation, 'isSVG' for SVG context, and 'children' for the content to render. The 'mount' defaults to 'document.body'.

```typescript
import { Portal } from "solid-js/web"
import type { JSX } from "solid-js"

function MyComponent(props: {
  mount?: Node
  useShadow?: boolean
  isSVG?: boolean
  children: JSX.Element
}): Text {
  // ... component implementation using Portal ...
  return <Portal {...props} />
}
```

--------------------------------

### Solid.js Switch with Fallback

Source: https://docs.solidjs.com/concepts/control-flow/conditional-rendering

Demonstrates the '<Switch>' component with an optional 'fallback' property. The fallback content is rendered if none of the '<Match>' components' conditions evaluate to true. This provides a default case for conditional rendering.

```jsx
import { Switch, Match } from "solid-js"


<Switch fallback={<p>Fallback content</p>}>
  <Match when={condition1}>
    <p>Outcome 1</p>
  </Match>
  <Match when={condition2}>
    <p>Outcome 2</p>
  </Match>
</Switch>
```

--------------------------------

### Solid.js Explicit Properties and Custom Attributes with Directives

Source: https://docs.solidjs.com/configuration/typescript

Demonstrates the use of `prop:___` for setting explicit properties with their original data types (like objects or arrays) and `attr:___` for setting custom, string-based HTML attributes. It includes TypeScript interface extensions for explicit properties and attributes.

```typescript
declare module "solid-js" {
  namespace JSX {
    interface ExplicitProperties {
      count: number;
      name: string;
    }
    interface ExplicitAttributes {
      count: number;
      name: string;
    }
    interface ExplicitBoolAttributes {
      disabled: boolean;
    }
  }
}


// Usage
<Input prop:name={name()} prop:count={count()}/>
<my-web-component attr:name={name()} attr:count={count()} bool:disabled={true}/>
```

--------------------------------

### SolidJS createMemo Signature

Source: https://docs.solidjs.com/reference/basic-reactivity/create-memo

Defines the type signature for the createMemo function in SolidJS. It takes a function to memoize, an optional initial value, and an optional options object for custom equality checks.

```typescript
import { createMemo } from "solid-js"


function createMemo<T>(
  fn: (v: T) => T,
  value?: T,
  options?: { equals?: false | ((prev: T, next: T) => boolean) }
): () => T
```

--------------------------------

### Firebase Project Configuration (.firebaserc)

Source: https://docs.solidjs.com/guides/deployment-options/firebase

Configuration file to associate your local project with a specific Firebase project. Replace `<YOUR_FIREBASE_PROJECT_ID>` with your actual Firebase project ID.

```json
{
  "projects": {
    "default": "<YOUR_FIREBASE_PROJECT_ID>"
  }
}
```

--------------------------------

### renderToStream

Source: https://docs.solidjs.com/reference/rendering/render-to-stream

Renders SolidJS components to a stream, handling asynchronous data and Suspense fallbacks.

```APIDOC
## POST /renderToStream

### Description
This method renders to a stream. It renders the content synchronously including any Suspense fallback placeholders, and then continues to stream the data and HTML from any async resource as it completes.

### Method
POST

### Endpoint
/renderToStream

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
- **fn** (function) - Required - A function that returns the component to render.
- **options** (object) - Optional - Configuration options for the render stream.
  - **nonce** (string) - Optional - The nonce to use for inline scripts.
  - **renderId** (string) - Optional - The id to use for this render. Used to namespace renders when having multiple top level roots.
  - **onCompleteShell** (function) - Optional - A callback that fires when synchronous rendering is complete before writing the first flush to the stream out to the browser.
  - **onCompleteAll** (function) - Optional - A callback that fires when all server Suspense boundaries have settled.

### Request Example
```javascript
// node
renderToStream(App).pipe(res)

// web stream
const { readable, writable } = new TransformStream()
renderToStream(App).pipeTo(writable)
```

### Response
#### Success Response (200)
- **pipe** (function) - A function that pipes the stream to a Node.js writable stream.
- **pipeTo** (function) - A function that pipes the stream to a Web WritableStream.

#### Response Example
```json
{
  "message": "Stream started"
}
```
```

--------------------------------

### SolidJS: Case-Sensitive Native Events

Source: https://docs.solidjs.com/concepts/components/event-handlers

Shows how native event listeners in SolidJS are case-sensitive, especially for custom events.

```jsx
<button on:Custom-Event={handleClick}>Click me</button>
```

--------------------------------

### SolidJS: Sharing State with createSignal and Props

Source: https://docs.solidjs.com/guides/state-management

Demonstrates lifting state to a common ancestor ('App' component) in SolidJS. It uses `createSignal` to manage the 'count' state and passes it down as props to child components ('Counter', 'DisplayCounts'). A setter function is also passed to allow child components to modify the shared state, ensuring synchronization.

```javascript
import { createSignal, createEffect, createMemo } from "solid-js";


function App() {
  const [count, setCount] = createSignal(0);
  const [doubleCount, setDoubleCount] = createSignal(0);
  const squaredCount = createMemo(() => count() * count());


  createEffect(() => {
    setDoubleCount(count() * 2);
  });


  return (
    <>
      <Counter count={count()} setCount={setCount} />
      <DisplayCounts
        count={count()}
        doubleCount={doubleCount()}
        squaredCount={squaredCount()}
      />
    </>
  );
}


function Counter(props) {
  const increment = () => {
    props.setCount((prev) => prev + 1);
  };


  return <button onClick={increment}>Increment</button>;
}


function DisplayCounts(props) {
  return (
    <div>
      <div>Current count: {props.count}</div>
      <div>Doubled count: {props.doubleCount}</div>
      <div>Squared count: {props.squaredCount}</div>
    </div>
  );
}


export default App;
```

--------------------------------

### Debug Undefined Context with Custom Hook in SolidJS

Source: https://docs.solidjs.com/concepts/context

Illustrates a custom `useMyContext` hook in SolidJS to handle cases where `useContext` might return `undefined`. This pattern ensures that a context Provider is present, throwing a descriptive error if it's missing, which helps in debugging and type safety with TypeScript.

```jsx
import { useContext } from "solid-js";


function useMyContext() {
  const value = useContext(MyContext);


  if (!value) {
    throw new Error("Missing context Provider");
  }


  return value;
}


function Child() {
  const value = useMyContext();


  return <div>{value}</div>;
}

```

--------------------------------

### Implement Root-Level Layout in Solid Router

Source: https://docs.solidjs.com/solid-router/concepts/layouts

Define a root-level layout component to wrap all routes in your SolidJS application. Pass the layout component to the `root` prop of the `Router`. The layout component receives route content via `props.children`, ensuring consistent headers and footers across all pages.

```javascript
import { render } from "solid-js/web";
import { Router, Route } from "@solidjs/router";


import Home from "./pages/Home";


const Layout = (props) => {
    return (
        <>
            <header>Header</header>
            {props.children}
            <footer>Footer</footer>
        </>
    );
};


render(
    () => (
        <Router root={Layout}>
            <Route path="/" component={Home} />
            <Route path="/hello-world" component={() => <div>Hello world!</div>} />
        </Router>
    ),
    document.getElementById("app")
);

```

--------------------------------

### Revalidate Query Data with SolidJS Router

Source: https://docs.solidjs.com/solid-router/reference/data-apis/revalidate

Demonstrates how to use the `revalidate` function to refetch posts data. It imports necessary functions from `@solidjs/router`, defines a query for fetching posts, and uses `createAsync` to display them. The `refetchPosts` function calls `revalidate` with the query key to refresh the data. This function is useful for manual data updates in SolidJS applications.

```javascript
import { For } from "solid-js";
import { query, createAsync, revalidate } from "@solidjs/router";


const getPosts = query(async () => {
  return await fetch("https://api.com/posts").then((response) =>
    response.json()
  );
}, "posts");


function Posts() {
  const posts = createAsync(() => getPosts());


  function refetchPosts() {
    revalidate(getPosts.key);
  }


  return (
    <div>
      <button onClick={refetchPosts}>Refetch posts</button>
      <ul>
        <For each={posts()}>{(post) => <li>{post.title}</li>}</For>
      </ul>
    </div>
  );
}
```

--------------------------------

### Basic tsconfig.json for SolidJS

Source: https://docs.solidjs.com/configuration/typescript

This configuration is essential for the SolidJS JSX compiler to correctly process Solid's JSX syntax. It involves preserving the original JSX form and specifying SolidJS as the source for JSX types.

```json
{
  "compilerOptions": {
    "jsx": "preserve",
    "jsxImportSource": "solid-js"
  }
}
```

--------------------------------

### Type Definitions for createRenderEffect - SolidJS

Source: https://docs.solidjs.com/reference/secondary-primitives/create-render-effect

This shows the various type signatures for the createRenderEffect function in SolidJS. It accepts a function (effect) and an optional initial value and options object.

```typescript
function createRenderEffect<Next>(fn: EffectFunction<undefined | NoInfer<Next>, Next>): void;
function createRenderEffect<Next, Init = Next>(
  fn: EffectFunction<Init | Next, Next>,
  value: Init,
  options?: { name?: string }
): void;
function createRenderEffect<Next, Init>(
  fn: EffectFunction<Init | Next, Next>,
  value?: Init,
  options?: { name?: string }
): void;
```

--------------------------------

### Using classList for Conditional Classes in SolidJS

Source: https://docs.solidjs.com/concepts/components/class-style

Demonstrates the 'classList' attribute in SolidJS for applying multiple conditional CSS classes. It takes an object where keys are class names and values are boolean expressions. This is often more efficient than using the 'class' attribute for multiple dynamic classes.

```jsx
const [current, setCurrent] = createSignal("foo");


<button
  classList={{ "selected" : current() === "foo" }}
  onClick={() => setCurrent("foo")}
>
  foo
</button>;
```

--------------------------------

### Access Raw Query String with useLocation in SolidJS

Source: https://docs.solidjs.com/solid-router/concepts/search-parameters

This snippet illustrates how to access the raw query string of the current URL using the `useLocation` primitive in Solid Router. The `location.search` property returns the entire query string, including the leading '?'. This is useful for scenarios where direct access to the string is needed.

```javascript
import { useLocation } from "@solidjs/router";


export const App = () => {
  const location = useLocation();


  return (
    <div>
      <span>Query String: {location.search}</span>
    </div>
  );
};

```

--------------------------------

### SolidJS: Set default prop value for signal

Source: https://docs.solidjs.com/reference/reactive-utilities/untrack

Illustrates setting a default value for a signal in a SolidJS component using a prop prefixed with 'default'. This common pattern allows signals to be initialized with fallback values without triggering reactivity tracking for the initial assignment.

```typescript
// component.tsx
import { createSignal } from "solid-js"


export function Component(props) {
    const [name, setName] = createSignal(props.defaultName)


    return <div>{name()}</div>
    }
}

```

--------------------------------

### Create Context Module in SolidJS

Source: https://docs.solidjs.com/reference/component-apis/create-context

Defines and exports a SolidJS context object. It's recommended to place this in its own module to prevent re-instantiation during Hot-Module Replacement (HMR). It sets up initial values for a counter's state and setter functions.

```typescript
import { createContext } from "solid-js";


export const INITIAL_COUNT = 0;


const INITIAL_STORE_SETTER = {
  increment: () => {},
  decrement: () => {}
};


export const CounterContext = createContext([
  { count: INITIAL_COUNT },
  INITIAL_STORE_SETTER
]);

```

--------------------------------

### SolidJS Ref: Basic DOM Element Access (JavaScript)

Source: https://docs.solidjs.com/configuration/typescript

Demonstrates the basic usage of the `ref` attribute in SolidJS to assign a DOM element to a variable in a JavaScript environment. The variable remains `undefined` until the component is mounted, after which it holds the DOM element.

```javascript
let divRef;
console.log(divRef); // Outputs: undefined
onMount(() => {
  console.log(divRef); // Outputs: <div> element
});
return <div ref={divRef} />;
```

--------------------------------

### Typing event.locals in SolidStart

Source: https://docs.solidjs.com/solid-start/advanced/request-events

This TypeScript code defines how to add custom types to the `event.locals` object in SolidStart. It uses module augmentation to declare new properties within the `App.RequestEventLocals` interface, allowing for type-safe access to custom context data within server-side request events. Ensure the `@solidjs/start/env` types are referenced.

```typescript
/// <reference types="@solidjs/start/env" />
declare module App {
  interface RequestEventLocals {
    /**
     * Declare your getRequestEvent().locals here
     */
  }
}
```

--------------------------------

### SolidJS CSRF Protection Middleware

Source: https://docs.solidjs.com/solid-start/guides/security

This SolidJS middleware prevents basic CSRF attacks by validating the 'Origin' and 'Referer' headers. It blocks requests from untrusted origins and enforces strict checks for requests made over HTTPS without an 'Origin' header. Note that 'Origin' and 'Referer' headers can be forged, and more advanced CSRF protection mechanisms should be considered.

```typescript
import { createMiddleware } from "@solidjs/start/middleware";
import { json } from "@solidjs/router";


const SAFE_METHODS = ["GET", "HEAD", "OPTIONS", "TRACE"];
const TRUSTED_ORIGINS = ["https://another-app.com"];


export default createMiddleware({
  onRequest: (event) => {
    const { request } = event;


    if (!SAFE_METHODS.includes(request.method)) {
      const requestUrl = new URL(request.url);
      const origin = request.headers.get("Origin");


      // If we have an Origin header, check it against our allowlist.
      if (origin) {
        const parsedOrigin = new URL(origin);


        if (
          parsedOrigin.origin !== requestUrl.origin &&
          !TRUSTED_ORIGINS.includes(parsedOrigin.host)
        ) {
          return json({ error: "origin invalid" }, { status: 403 });
        }
      }


      // If we are serving via TLS and have no Origin header, prevent against
      // CSRF via HTTP man-in-the-middle attacks by enforcing strict Referer
      // origin checks.
      if (!origin && requestUrl.protocol === "https:") {
        const referer = request.headers.get("Referer");


        if (!referer) {
          return json({ error: "referer not supplied" }, { status: 403 });
        }


        const parsedReferer = new URL(referer);


        if (parsedReferer.protocol !== "https:") {
          return json({ error: "referer invalid" }, { status: 403 });
        }


        if (
          parsedReferer.host !== requestUrl.host &&
          !TRUSTED_ORIGINS.includes(parsedReferer.host)
        ) {
          return json({ error: "referer invalid" }, { status: 403 });
        }
      }
    }
  },
});

```

--------------------------------

### Conditional Code Execution in Development

Source: https://docs.solidjs.com/reference/rendering/dev

Shows how to execute code only in development mode and not on the server using a combination of DEV and isServer checks.

```APIDOC
## Conditional Development Execution

### Description
Executes code only when in development mode (`DEV` is true) and not on the server (`!isServer`). This is particularly useful for libraries.

### Method
Conditional Logic

### Endpoint
N/A

### Parameters
N/A

### Request Example
```javascript
import { DEV } from "solid-js"
import { isServer } from "solid-js/web"

if (DEV && !isServer) {
  console.log(...);
}
```

### Response
#### Success Response (200)
Code within the `if` block will execute only in client-side development environments.

#### Response Example
N/A
```

--------------------------------

### SolidJS Store Getter for Derived Values

Source: https://docs.solidjs.com/reference/store-utilities/create-store

Illustrates using a getter within a SolidJS store object to compute derived values. The `fullName` getter dynamically calculates the full name based on `firstName` and `lastName` properties.

```javascript
const [state, setState] = createStore({
  user: {
    firstName: "John",
    lastName: "Smith",
    get fullName() {
      return `${this.firstName} ${this.lastName}`;
    },
  },
});

```

--------------------------------

### Using `cache` within a Route Component

Source: https://docs.solidjs.com/solid-router/reference/data-apis/cache

Shows how to directly use a cached data fetching function, `getUser`, within a SolidJS route component. The `createAsync` function is used to manage the asynchronous loading of user data. This pattern ensures that if the component is re-rendered with the same `props.params.id`, the cached user data is used instead of re-fetching.

```javascript
// pages/users/[id].js
import { getUser } from "..." // the cache function


export default function User(props) {
  const user = createAsync(() => getUser(props.params.id));
  return <h1>{user().name}</h1>;
}
```

--------------------------------

### Callback Form of Ref Assignment in Solid.js

Source: https://docs.solidjs.com/concepts/refs

Illustrates the callback form of the `ref` attribute in Solid.js. This is useful when you need to access the DOM element before it is added to the DOM, typically for pre-DOM manipulation or validation.

```javascript
<p ref={(el) => {
  myElement = el // el is created but not yet added to the DOM
  }}>
  My Element
</p>
```

--------------------------------

### Render Directive Utility in SolidJS Testing

Source: https://docs.solidjs.com/guides/testing

The `renderDirective` function from `@solidjs/testing-library` simplifies testing custom directives. It provides access to the directive's argument signal and the target element, facilitating the simulation of directive behavior during tests. Dependencies include `@solidjs/testing-library`.

```typescript
import { renderDirective } from "@solidjs/testing-library"

const renderResult = renderDirective(directive, {
  initialValue,
  targetElement,
  ...renderOptions,
})
const {
  arg,
  setArg,
  ...renderResults
} = renderResult
```

--------------------------------

### Extract Raw Data from SolidJS Store with `unwrap`

Source: https://docs.solidjs.com/concepts/stores

The `unwrap` utility transforms a SolidJS store into a standard JavaScript object, providing a non-reactive snapshot of the current state. This is useful for interfacing with third-party libraries or when reactivity overhead is not needed.

```javascript
import { createStore, unwrap } from "solid-js/store"


const [data, setData] = createStore({
  animals: ["cat", "dog", "bird", "gorilla"],
})


const rawData = unwrap(data)
```

--------------------------------

### SolidJS: Import and Type Signature of modifyMutable

Source: https://docs.solidjs.com/reference/store-utilities/modify-mutable

This snippet shows how to import the modifyMutable function from 'solid-js/store' and its generic type signature. It highlights that modifyMutable is designed to work with mutable stores obtained from createMutable.

```javascript
import { modifyMutable } from "solid-js/store"


function modifyMutable<T>(mutable: T, modifier: (state: T) => T): void
```

--------------------------------

### createSignal API

Source: https://docs.solidjs.com/reference/basic-reactivity/create-signal

The createSignal function is the most basic reactive primitive in SolidJS. It tracks a single value and returns a getter and a setter function.

```APIDOC
## createSignal

### Description
Creates a reactive signal that holds a single value. It returns a pair of functions: a getter (accessor) to read the value and a setter to update it.

### Method
`createSignal`

### Parameters
#### Generics
- **T**: The type of the value stored in the signal.

#### Arguments
- **initialValue** (T): The initial value of the signal. Can be any type.
- **options** (object, optional): Configuration options for the signal.
  - **equals** (`false` | `(prev: T, next: T) => boolean`, optional): A function to determine if the signal's value has changed. Defaults to `===`.
  - **name** (`string`, optional): A name for the signal, useful for debugging.
  - **internal** (`boolean`, optional): If true, the signal is not accessible in devtools. Defaults to `false`.

### Return Value
- **[get: Accessor<T>, set: Setter<T>]**: A two-element array containing:
  - **get**: An accessor function `() => T` that returns the current value of the signal.
  - **set**: A setter function `(v: T | ((prev?: T) => T)) => T` that updates the signal's value.

### Types
```typescript
import type { Signal, Accessor, Setter } from "solid-js"
type Signal<T> = [get: Accessor<T>, set: Setter<T>]
type Accessor<T> = () => T
type Setter<T> = (v: T | ((prev?: T) => T)) => T
```

### Request Example
```javascript
import { createSignal } from "solid-js"

// Creating signals with initial values
const [count, setCount] = createSignal(0)
const [ready, setReady] = createSignal(false)

// Reading the current value
const currentCount = count()

// Updating the signal with a new value
setReady(true)

// Updating the signal with a function
const newCount = setCount((prev) => prev + 1)
```

### Response
No direct response, but signals manage reactive state.

### Error Handling
- Invalid initial values or options might lead to runtime errors depending on the type T.

### Options - `equals`
Customizes the comparison logic for detecting value changes. If `equals` returns `true`, the signal is not updated.

#### Example:
```javascript
// Signal that updates even if object reference is the same
const [object, setObject] = createSignal({ count: 0 }, { equals: false })

// Signal that triggers updates based on string length
const [myString, setMyString] = createSignal("string", {
  equals: (newVal, oldVal) => newVal.length === oldVal.length,
})
```
```

--------------------------------

### Apply Nested Layout to Routes in Solid Router

Source: https://docs.solidjs.com/solid-router/concepts/layouts

Nest routes within a parent route that uses a layout component. By passing the layout component (e.g., `PageWrapper`) to the parent `Route`, its structure will encapsulate the child routes, rendering their content within the `props.children` of the layout.

```javascript
<Router>
    <Route path="/users" component={PageWrapper}>
        <Route path="/" component={Users} />
        <Route path="/:id" component={User} />
    </Route>
</Router>

```

--------------------------------

### SolidJS: Using modifyMutable with produce for Batched Field Modifications

Source: https://docs.solidjs.com/reference/store-utilities/modify-mutable

This snippet illustrates how to use modifyMutable with the 'produce' function to modify specific fields within a mutable store. This approach ensures that multiple changes are applied within a single batch, resulting in a single UI update.

```javascript
import { modifyMutable, produce } from "solid-js/store"


// Modify two fields in a batch, triggering just one update
modifyMutable(
  state,
  produce((state) => {
    state.user.firstName = "Jane";
    state.user.lastName = "Doe";
  })
);
```

--------------------------------

### Consume Context Value with useContext

Source: https://docs.solidjs.com/concepts/context

Demonstrates how to access the context value within a component using the `useContext` hook in SolidJS. This allows components to read data provided by a `Provider` higher up in the tree.

```javascript
import { createContext, useContext } from "solid-js";
import { MyContext } from "./create";


const Provider = (props) => (
  <MyContext.Provider value="new value">
    {props.children}
  </MyContext.Provider>
);


const Child = () => {
  const value = useContext(MyContext);


  return (
    <span>
      {value}
    </span>
  );
};


export const App = () => (
  <Provider>
    <Child />
  </Provider>
);
```

--------------------------------

### SolidJS Index Component Usage with Index

Source: https://docs.solidjs.com/reference/components/index-component

Shows the SolidJS Index component used with access to the item's index. The children function accepts both the item (as a signal) and its index, allowing for indexed rendering.

```jsx
<Index each={state.list} fallback={<div>Loading...</div>}>
  {(item, index) => (
    <div>
      #{index} {item()}
    </div>
  )}
</Index>

```

--------------------------------

### Type Definition for createRoot in SolidJS

Source: https://docs.solidjs.com/reference/reactive-utilities/create-root

This snippet provides the TypeScript type definition for the `createRoot` function. It highlights the generic type `T`, the required function parameter `fn` which receives a `dispose` callback, and an optional `detachedOwner`.

```typescript
function createRoot<T>(
  fn: (dispose: () => void) => T,
  detachedOwner?: Owner
): T;
```

--------------------------------

### Access Request Headers using getRequestEvent

Source: https://docs.solidjs.com/reference/server-utilities/get-request-event

Illustrates how to access the `request` property of the `RequestEvent` object to read headers, such as 'Authorization', from the incoming server request.

```javascript
import { getRequestEvent } from "solid-js/web"


const event = getRequestEvent();
if (event) {
  const auth = event.request.headers.get("Authorization");
}
```

--------------------------------

### SolidJS: Optimized Event Binding with Array Syntax

Source: https://docs.solidjs.com/reference/jsx-attributes/on_

Shows an optimized way to bind events in SolidJS using a two-element array. This method passes a value to the event handler without creating additional closures or using 'bind', enhancing performance.

```javascript
function handler(itemId, e) {
  /*...*/
}
```

```jsx
<For each={state.list}>{(item) => <li onClick={[handler, item.id]} />}</For>
```

--------------------------------

### Solid.js DEV Export

Source: https://docs.solidjs.com/reference/rendering/dev

Demonstrates how to check if the DEV export is defined, which indicates development mode on the client-side.

```APIDOC
## DEV Export Check

### Description
Checks if the `DEV` export is defined. This is useful for running code only in development mode.

### Method
Conditional Export

### Endpoint
N/A

### Parameters
N/A

### Request Example
```javascript
import { DEV } from "solid-js"

const DEV: object | undefined
```

### Response
#### Success Response (200)
Indicates development mode if `DEV` is defined.

#### Response Example
```json
{
  "DEV_IS_DEFINED": true
}
```
```

--------------------------------

### Router Component

Source: https://docs.solidjs.com/solid-router/reference/components/router

The `Router` component is a top-level component that manages the routing of your application. It can optionally accept a `root` prop to define a layout component that wraps the entire application.

```APIDOC
## Router Component

### Description
The `Router` component is a top-level component that manages the routing of your application. There is an optional `root` prop that can be used to wrap the entire application in a layout component, which will not be updated when the page changes.

### Method
N/A (Component)

### Endpoint
N/A (Component)

### Parameters
#### Props
- **children** (JSX.Element, RouteDefinition, or RouteDefinition[]) - Required - The route definitions.
- **root** (Component) - Optional - Top level layout component.
- **base** (string) - Optional - Base url to use for matching routes.
- **actionBase** (string) - Optional - Root url for server actions, default: `/_server`.
- **preload** (boolean) - Optional - Enables/disables preloads globally, default: `true`.
- **explicitLinks** (boolean) - Optional - Disables all anchors being intercepted and instead requires `<A>`. default: `false`. (To disable interception for a specific link, set `target` to any value, e.g. `<a target="_self">`).
- **url** (string) - Optional - The initial route to render.

### Request Example
```jsx
import { render } from "solid-js/web";
import { Router, Route } from "@solidjs/router";


const App = (props) => (
  <>
    <h1>Root header</h1>
    {props.children}
  </>
);


render(
  () => <Router root={App}>{/*... routes */}</Router>,
  document.getElementById("app")
);
```

### Response
N/A (Component)
```

--------------------------------

### SolidJS: createSignal Function Signature

Source: https://docs.solidjs.com/reference/basic-reactivity/create-signal

Details the function signature for `createSignal` in Solid.js, including its generic type parameter `T` and the optional `options` object with properties like `equals`, `name`, and `internal`.

```typescript
function createSignal<T>(
  initialValue: T,
  options?: {
    equals?: false | ((prev: T, next: T) => boolean)
    name?: string
    internal?: boolean
  }
): [get: () => T, set: (v: T) => T]
```

--------------------------------

### File-Level JSX Import Source Override

Source: https://docs.solidjs.com/configuration/typescript

This demonstrates how to specify the JSX import source at a file level using special pragmas. This is useful in projects that might use multiple JSX implementations, like both Solid and React.

```tsx
/** @jsxImportSource solid-js */
```

```tsx
/** @jsxImportSource react */
```

--------------------------------

### Import useSubmission from @solidjs/router

Source: https://docs.solidjs.com/solid-router/reference/data-apis/use-submission

This snippet shows the basic import statement for the useSubmission hook from the @solidjs/router library.

```javascript
import { useSubmission } from "@solidjs/router";
```

--------------------------------

### Append to SolidJS Array Store with Path Syntax

Source: https://docs.solidjs.com/concepts/stores

Shows how to append a new value to an array in a SolidJS store using path syntax by assigning the new element to the next available index (`store.users.length`). This directly modifies the existing array, offering more targeted reactivity.

```javascript
setStore("users", store.users.length, {
  id: 3,
  username: "michael584",
  location: "Nigeria",
  loggedIn: false,
})
```

--------------------------------

### SolidJS: Attach Click Event Listener to Div

Source: https://docs.solidjs.com/reference/jsx-attributes/on_

Demonstrates attaching a click event listener to a div element in SolidJS. Solid uses synthetic delegation for common bubbling events like 'click' at the document level for performance.

```jsx
<div onClick={(e) => console.log(e.currentTarget)} />
```

--------------------------------

### SolidJS: createReaction - Define and Track Reactions

Source: https://docs.solidjs.com/reference/secondary-primitives/create-reaction

The `createReaction` primitive in SolidJS allows you to register a callback that executes only on the first change detected within a tracked function. It's useful for performing a side effect once per change cycle. It takes an `onInvalidate` callback and returns a tracking function.

```javascript
import { createReaction, createSignal } from "solid-js"


function createReaction(onInvalidate: () => void): (fn: () => void) => void

const [s, set] = createSignal("start")


const track = createReaction(() => console.log("something changed"))


// The reaction will run the next time `s` changes.
track(() => s())


set("end") // "something changed" is logged.


set("final") // No-op, the reaction only runs on the first update. `track` needs to be called again to re-register.
```

--------------------------------

### renderToStringAsync

Source: https://docs.solidjs.com/reference/rendering/render-to-string-async

Renders a SolidJS component to an HTML string, waiting for Suspense boundaries to resolve. It automatically serializes resource data for client-side hydration.

```APIDOC
## renderToStringAsync

### Description
Same as `renderToString` except that it will wait for all `<Suspense>` boundaries to resolve before returning the results. Resource data is automatically serialized into the script tag and will be hydrated on client load.

### Method
`renderToStringAsync`

### Parameters
#### Function Parameters
- **fn** (`() => T`) - Required - The function that returns the SolidJS component to render.
- **options** (`{ timeoutMs?: number, renderId?: string, nonce?: string }`) - Optional - Configuration options for the rendering process.

##### Options
- **timeoutMs** (`number`) - Optional - The number of milliseconds to wait for a `<Suspense>` boundary to resolve before timing out.
- **renderId** (`string`) - Optional - The id to use for the render. Used to namespace renders when having multiple top level roots.
- **nonce** (`string`) - Optional - The nonce to use for the script tag.

### Request Example
```javascript
import { renderToStringAsync } from "solid-js/web"

const html = await renderToStringAsync(App)
```

### Response
#### Success Response (Promise<string>)
- **string** - The rendered HTML string.
```

--------------------------------

### Handle Missing Context Provider in SolidJS

Source: https://docs.solidjs.com/concepts/context

Provides a robust `useCounterContext` hook for SolidJS applications to safely access context. This hook checks if the context value is defined and throws an informative error if the corresponding Provider is missing, preventing runtime errors and improving developer experience.

```jsx
function useCounterContext() {
  const context = useContext(CounterContext)
  if (!context) {
    throw new Error("can't find CounterContext")
  }
  return context
}

```

--------------------------------

### Accessing Public Environment Variables in Client-Side Code (SolidJS)

Source: https://docs.solidjs.com/configuration/environment-variables

Demonstrates how to access public environment variables, prefixed with VITE_, within the client-side code of a SolidJS application. These variables are injected during compilation time.

```javascript
console.log(import.meta.env.VITE_SECRET_KEY); // 123hello
console.log(import.meta.env.DB_PASSWORD); // undefined
```

```jsx
function MyComponent() {
  return (
    <div>
      <h2>
        Component with environment variable used        {import.meta.env.VITE_VARIABLE_NAME}
        the value will be replaced during compilation time.
      </h2>
    </div>
  );
}
```

--------------------------------

### SolidJS Ref: Non-null Assertion in onMount (TypeScript)

Source: https://docs.solidjs.com/configuration/typescript

Shows how to use a non-null assertion (`!`) within the `onMount` function in SolidJS when working with TypeScript. This assertion tells the compiler that the `divRef` variable is guaranteed to be non-null at this point, allowing direct access to its methods.

```typescript
onMount(() => {
  divRef!.focus();
});
```

--------------------------------

### Merging Props with mergeProps in SolidJS

Source: https://docs.solidjs.com/concepts/components/props

Explains the 'mergeProps' utility in SolidJS, which merges multiple reactive objects together, similar to Object.assign, but preserves reactivity. It's useful for setting default prop values.

```jsx
import { mergeProps } from "solid-js"


function MyComponent(props) {
  // Using mergeProps to set default values for props
  const finalProps = mergeProps({ defaultName: "Ryan Carniato" }, props);


  return <div>Hello {finalProps.defaultName}</div>;
}


// Usage: <MyComponent defaultName="Ryan Carniato" />
```

--------------------------------

### SolidJS onCleanup Function Signature

Source: https://docs.solidjs.com/reference/lifecycle/on-cleanup

This snippet shows the basic type signature for the `onCleanup` function in SolidJS. It takes a callback function as an argument, which is executed when the cleanup is triggered.

```typescript
import { onCleanup } from "solid-js"


function onCleanup(fn: () => void): void;
```

--------------------------------

### SolidJS createContext Type Signature

Source: https://docs.solidjs.com/reference/component-apis/create-context

Defines the TypeScript type signature for a SolidJS context object. It includes the `id`, `Provider` component, and `defaultValue` properties. The `createContext` function returns a `Context` object, which can optionally accept a default value.

```typescript
interface Context<T> {
  id: symbol
  Provider: (props: { value: T; children: any }) => any
  defaultValue: T
}


function createContext<T>(defaultValue?: T): Context<T | undefined>

```

--------------------------------

### indexArray Utility

Source: https://docs.solidjs.com/reference/reactive-utilities/index-array

The indexArray function provides a way to map over a reactive list where each item is accessible as a signal, and the index is constant. This is particularly useful for underlying control flows like `<Index>`.

```APIDOC
## indexArray Utility Function

### Description
Maps a reactive list by index, providing each item as a signal and the index as a constant. It's the underlying helper for the `<Index>` control flow.

### Method
Utility Function (Not an HTTP endpoint)

### Endpoint
`indexArray`

### Parameters
#### Arguments
- **list** (`() => readonly T[]`) - Required - The reactive list to map.
- **mapFn** (`(v: () => T, i: number) => U`) - Required - The mapping function that receives the item as a signal and its index.

### Request Example
```javascript
import { indexArray } from "solid-js"

const source = createSignal([{ id: 1, firstName: 'John', lastName: 'Doe' }]);

const mapped = indexArray(source, (model) => {
  return {
    get id() {
      return model().id
    },
    get firstInitial() {
      return model().firstName[0];
    },
    get fullName() {
      return `${model().firstName} ${model().lastName}`;
    },
  }
});
```

### Response
#### Success Response
- **() => U[]**: A signal that returns an array of the mapped values.
```

--------------------------------

### Setter Function Type in SolidJS

Source: https://docs.solidjs.com/configuration/typescript

Illustrates the type signature for a `Setter` function in SolidJS. It can accept a direct value or a callback function that receives the previous state and returns a new state.

```typescript
Setter<number | undefined>
```

--------------------------------

### SolidJS Store Produce Function Signature

Source: https://docs.solidjs.com/reference/store-utilities/produce

Defines the TypeScript signature for the `produce` function, which takes a mutation function and returns a function that applies the mutation to a store. It is inspired by Immer.

```typescript
import { produce } from "solid-js/store"
import type { NotWrappable, Store } from "solid-js/store"


function produce<T>(
  fn: (state: T) => void
): (
  state: T extends NotWrappable ? T : Store<T>
) => T extends NotWrappable ? T : Store<T>;
```

--------------------------------

### SolidJS Router: Automatic Query Revalidation After Action

Source: https://docs.solidjs.com/solid-router/concepts/actions

Illustrates how SolidJS Router automatically revalidates queries associated with a page after a successful action. This ensures that data displayed in the UI is updated automatically when it changes on the server, simplifying data synchronization between client and server.

```typescript
import { For } from "solid-js";
import { query, action, createAsync } from "@solidjs/router";


const getDevicesQuery = query(async () => {
  // ... Fetches the list of registered devices.
}, "devices");


const registerDeviceAction = action(async (formData: FormData) => {
  // ... Registers a new device on the server.
}, "registerDevice");


function DevicesPage() {
  // This query will automatically revalidate after registerDeviceAction completes.
  const devices = createAsync(() => getDevicesQuery());


  return (
    <div>
      <h2>Registered devices</h2>
      <For each={devices()}>{(device) => <p>{device.name}</p>}</For>


      <h3>Register new device</h3>
      <form action={registerDeviceAction} method="post">
        <input name="name" placeholder="Device name" />
        <button type="submit">Register device</button>
      </form>
    </div>
  );
}

```

--------------------------------

### Render to String Async with SolidJS

Source: https://docs.solidjs.com/reference/rendering/render-to-string-async

Renders a SolidJS component to an asynchronous string, waiting for Suspense boundaries to resolve. It automatically serializes resource data for client-side hydration. The renderId option is useful for namespacing multiple top-level roots.

```typescript
import { renderToStringAsync } from "solid-js/web"

function renderToStringAsync<T>(
  fn: () => T,
  options?: {
    timeoutMs?: number
    renderId?: string
    nonce?: string
  }
): Promise<string>
```

```javascript
const html = await renderToStringAsync(App)
```

--------------------------------

### SolidJS createMutable: Type Definition

Source: https://docs.solidjs.com/reference/store-utilities/create-mutable

This code snippet shows the type definition for the `createMutable` function in SolidJS. It indicates that `createMutable` accepts a state object or a store and returns a store.

```typescript
import { createMutable } from "solid-js/store"
import type { Store, StoreNode } from "solid-js/store"


function createMutable<T extends StoreNode>(state: T | Store<T>): Store<T>;
```

--------------------------------

### SolidJS Router: Disabling Revalidation and Returning JSON

Source: https://docs.solidjs.com/solid-router/concepts/actions

Illustrates using the `json` helper to control revalidation and return data from an action. Similar to `reload`, it accepts a `revalidate` option to specify which queries to revalidate or to disable revalidation.

```typescript
import { action, reload, json } from "@solidjs/router";


// Example 2: Disabling revalidation and returning data
const logActivityAction = action(async () => {
  // ... Logs the activity to the server.


  // Return without revalidating any queries
  return json({ ok: true }, { revalidate: [] });
});
```

--------------------------------

### Access CSS Module Styles with Dashes (JavaScript)

Source: https://docs.solidjs.com/guides/styling-components/css-modules

Demonstrates how to access CSS module class names that contain dashes using bracket notation. This is necessary because standard dot notation is not valid for property names with hyphens.

```javascript
const className = styles["foo-with-dash"];
```

--------------------------------

### Update Multiple Store Properties with `produce` in SolidJS

Source: https://docs.solidjs.com/concepts/stores

The `produce` utility allows for updating multiple properties of a store object immutably by providing a mutable draft. This avoids multiple `setStore` calls and is specifically designed for arrays and objects, not Sets or Maps.

```javascript
import { produce } from "solid-js/store"


// without produce
setStore("users", 0, "username", "newUsername")
setStore("users", 0, "location", "newLocation")


// with produce
setStore(
  "users",
  0,
  produce((user) => {
    user.username = "newUsername"
    user.location = "newLocation"
  })
)
```

--------------------------------

### Solid Router JSON Response Type Signature

Source: https://docs.solidjs.com/solid-router/reference/response-helpers/json

Provides the TypeScript type signature for the `json` function in Solid Router, including its generic type `T` for the data and the `ResponseOptions` which extend native `ResponseInit`.

```typescript
interface ResponseOptions & Omit<ResponseInit, "body"> {
  revalidate?: string | string[];
}


json<T>(data: T, opt?: ResponseOptions): CustomResponse<T>;
```

--------------------------------

### Solid.js Show Component with Fallback

Source: https://docs.solidjs.com/concepts/control-flow/conditional-rendering

Illustrates the 'Show' component with a 'fallback' property. The 'fallback' content is rendered when the 'when' condition is false. This allows for defining alternative UI states, such as displaying data after loading.

```jsx
import { Show } from "solid-js"


<Show when={!data.loading} fallback={<div>Loading...</div>}>  <h1>Hi, I am {data().name}.</h1></Show>
```

--------------------------------

### HttpHeader Component Usage

Source: https://docs.solidjs.com/solid-start/reference/server/http-header

The HttpHeader component allows you to set custom headers on the HTTP response sent by the server. You can use it to specify header names and their corresponding values.

```APIDOC
## HttpHeader Component

### Description
Allows setting headers on HTTP responses sent by the server.

### Method
Component (used within SolidStart pages)

### Endpoint
N/A (Component)

### Parameters
#### Props
- **name** (string) - Required - The name of the header to set.
- **value** (string) - Required - The value of the header to set.

### Request Example
```jsx
<HttpHeader name="x-robots-tag" value="noindex" />
```

### Response
#### Success Response (200)
Headers are added to the `Response` object.

#### Response Example
If `<HttpHeader name="x-robots-tag" value="noindex" />` is used, the response will include the `x-robots-tag: noindex` header.
```

--------------------------------

### Reactive vs. Non-Reactive State Updates in SolidJS

Source: https://docs.solidjs.com/guides/complex-state-management

Demonstrates the difference between updating state directly within a component body (non-reactive) and using a tracking scope like 'createEffect' to ensure reactive updates in SolidJS. Non-reactive updates may not trigger UI re-renders, while reactive updates do.

```javascript
// not reactive
setState("numberOfTasks", state.tasks.length)


// reactive
createEffect(() => {
  setState("numberOfTasks", state.tasks.length)
})
```

--------------------------------

### SolidJS Corrected stopPropagation with Native Event

Source: https://docs.solidjs.com/concepts/components/event-handlers

Presents the corrected implementation using a native event (`on:click`) for the button to ensure `event.stopPropagation()` functions as intended. This prevents the event from bubbling up to parent elements.

```jsx
// ...
<button
  on:click={(event) => {
    event.stopPropagation();
    console.log("button");
  }}>
  button
</button>
// ...
```

--------------------------------

### Modify Response Headers and Status with getRequestEvent

Source: https://docs.solidjs.com/reference/server-utilities/get-request-event

Demonstrates using `getRequestEvent` to access and modify the `response` object, including appending headers and setting the HTTP status code for the server response.

```javascript
import { getRequestEvent } from "solid-js/web"


const event = getRequestEvent();
if (event) {
  event.response.headers.append("Set-Cookie", "foo=hello");
  event.response.status = 201;
}
```

--------------------------------

### Split Reactive Object by Keys in SolidJS

Source: https://docs.solidjs.com/reference/reactive-utilities/split-props

The `splitProps` function in SolidJS takes a reactive object and any number of key arrays. It returns a series of reactive objects, each containing properties specified by the corresponding key array. The final object includes any remaining properties. This is useful for consuming specific props and passing the rest to child components.

```javascript
import { splitProps } from "solid-js"


function splitProps<T>(
  props: T,
  ...keys: Array<(keyof T)[]>
): [...parts: Partial<T>]

```

```javascript
function MyComponent(props) {
  const [local, others] = splitProps(props, ["children"])


  return (
    <>
      <div>{local.children}</div>
      <Child {...others} />
    </>
  )
}

```

```javascript
function MyComponent(props) {
  console.log(props) // {a: 1, b: 2, c: 3, d: 4, e: 5, foo: "bar"}
  const [vowels, consonants, leftovers] = splitProps(
    props,
    ["a", "e"],
    ["b", "c", "d"]
  )
  console.log(vowels) // {a: 1, e: 5}
  console.log(consonants) // {b: 2, c: 3, d: 4}
  console.log(leftovers.foo) // bar
}

```

--------------------------------

### Fullscreen Directive Implementation in SolidJS

Source: https://docs.solidjs.com/guides/testing

The `fullscreen` directive in SolidJS uses `createEffect` to manage the fullscreen state of an element based on an accessor. It requests fullscreen when the active state is true and exits when false. It depends on `Accessor` from 'solid-js'.

```typescript
import { Accessor } from "solid-js"

export const fullscreen = (ref: HTMLElement, active: Accessor<boolean>) =>
  createEffect(() => {
    const isActive = document.fullscreenElement === ref
    if (active() && !isActive) {
      ref.requestFullScreen().catch(() => {})
    } else if (!active() && isActive) {
      document.exitFullScreen()
    }
  })
```

--------------------------------

### SolidJS Component Using SCSS

Source: https://docs.solidjs.com/guides/styling-components/sass

A SolidJS component that imports and utilizes the SCSS styles defined in `card.scss`. Vite automatically handles the compilation of SCSS to CSS.

```jsx
// Card.jsx
import "./card.scss";


function Card() {
  return (
    <>
      <div class="grid grid-center screen">
        <div class="card">Hello, world!</div>
      </div>
    </>
  );
}

```

--------------------------------

### Accessing Private Environment Variables in Backend Code (SolidJS)

Source: https://docs.solidjs.com/configuration/environment-variables

Shows how to access private environment variables, typically used in backend code, within a SolidJS application. These variables are accessed using process.env and may require additional configuration like dotenv depending on the Nitro preset.

```javascript
"use server"


const client = new DB({
  host: process.env.DB_URL,
  password: process.env.DB_PASSWORD
});
```

--------------------------------

### SolidJS: Conditional Class Assignment using 'classList'

Source: https://docs.solidjs.com/reference/jsx-attributes/classlist

Illustrates using the 'classList' pseudo-attribute in SolidJS to manage classes based on boolean conditions. It takes an object where keys are class names and values determine their presence.

```jsx
<div
  classList={{
    active: state.active,
    editing: state.currentId === row.id,
  }}
/>
```

--------------------------------

### SolidJS: Conditional Rendering with Ternary Operator

Source: https://docs.solidjs.com/concepts/components/basics

This snippet demonstrates conditional rendering in SolidJS using a ternary operator within the component's return statement. It displays different content based on the value of a signal. Dependencies include SolidJS's `createSignal`. Input is a signal value, and output is conditionally rendered JSX.

```javascript
function MyComponent() {
  const [count, setCount] = createSignal(0);
  return (
    <div>
      {count() > 5 ? (
        <div>Count limit reached</div>
      ) : (
        <>
          <p>Count: {count()}</p>
          <button onClick={() => setCount((prev) => prev + 1)}>
            Increment
          </button>
        </>
      )}
    </div>
  );
}

```

--------------------------------

### Update Dynamic Lists with SolidJS `<Index>`

Source: https://docs.solidjs.com/concepts/control-flow/list-rendering

The `<Index>` component is recommended for dynamic lists, especially those involving signals, JavaScript primitives (strings, numbers), or input fields. Unlike `<For>`, `<Index>` updates only the content at the specified index when a change occurs, preventing unnecessary re-renders of the entire list. It also accepts an iterable and a render function.

```javascript
import { createSignal, Index } from "solid-js"


function FormList() {
  const [inputs, setInputs] = createSignal(['input1','input2','input3'])
  return(
    <form>
      <Index each={inputs()}>
        {(input, index) => (
          <input
            type="text"
            value={input()}
            onInput={(e) => {
              // update the input value
            }}
          />
        )}
      </Index>
    </form>
  )
}
```

--------------------------------

### Type Signature of useAction

Source: https://docs.solidjs.com/solid-router/reference/data-apis/use-action

Defines the generic type signature for the `useAction` function. It details the expected action type and the return type of the triggered action, emphasizing its promise-based nature.

```typescript
function useAction<T extends Array<any>, U, V>(
  action: Action<T, U, V>
): (...args: Parameters<Action<T, U, V>>) => Promise<NarrowResponse<U>>;
```

--------------------------------

### isServer Utility

Source: https://docs.solidjs.com/reference/rendering/is-server

The `isServer` constant from `solid-js/web` is a boolean that indicates if the code is currently executing on the server or in the browser bundle. This is useful for environment-specific logic and for bundlers to optimize code.

```APIDOC
## isServer Utility

### Description

The `isServer` constant is a boolean value provided by the `solid-js/web` module. It allows developers to determine at runtime whether the current execution environment is the server or the browser. This is particularly useful for implementing server-side rendering (SSR) specific logic or for optimizing bundles by excluding code that is not needed in a particular environment.

### Method

Constant

### Endpoint

N/A (Client-side/Server-side constant)

### Parameters

None

### Request Example

```javascript
import { isServer } from 'solid-js/web';

if (isServer) {
  // Code that only runs on the server
  console.log('Running on the server!');
} else {
  // Code that only runs in the browser
  console.log('Running in the browser!');
}
```

### Response

#### Success Response (N/A)

- **isServer** (boolean) - `true` if running on the server, `false` if running in the browser.

#### Response Example

N/A (This is a constant, not a request/response interaction.)
```

--------------------------------

### Create Observable from Solid Signal (TypeScript)

Source: https://docs.solidjs.com/reference/reactive-utilities/observable

Converts a SolidJS signal into an Observable. This allows consumption by various Observable libraries, often using a `from` operator. It takes a signal function as input and returns an Observable.

```typescript
import { observable } from "solid-js"


function observable<T>(input: () => T): Observable<T>
```