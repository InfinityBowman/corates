### Development Setup (Node.js)

Source: https://docs.stripe.com/checkout/quickstart

Sets up the development environment by installing dependencies and starting the application. Also includes instructions for setting up Stripe CLI for webhook forwarding.

```shell
$ npm install

$ stripe listen --forward-to localhost:3000/api/webhooks

$ STRIPE_WEBHOOK_SECRET=$(stripe listen --print-secret) npm run dev

Go to [localhost:3000](http://localhost:3000)
```

--------------------------------

### Run JavaScript Example App

Source: https://docs.stripe.com/terminal/example-applications

Installs dependencies and starts the Stripe Terminal JavaScript example application.

```bash
cd stripe-terminal-js-demo
npm install
npm run start
```

--------------------------------

### Go Project Dependency Example

Source: https://docs.stripe.com/get-started/development-environment

An example `go.mod` file showing the Stripe Go SDK dependency added after running `go get`. It specifies the module path and version required for the project.

```go.mod
module stripe-example

go 1.18

require github.com/stripe/stripe-go/v82 82.0.0 // indirect
```

--------------------------------

### Create Stripe Setup Intent (Go)

Source: https://docs.stripe.com/financial-connections/balances

This Go code example shows how to create a Stripe Setup Intent using the Stripe Go SDK. It sets the API key, defines parameters for the customer and payment method, and specifies the necessary financial connection permissions. The example also includes initializing the Stripe client.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SetupIntentParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  PaymentMethodTypes: []*string{stripe.String("us_bank_account")},
  PaymentMethodOptions: &stripe.SetupIntentPaymentMethodOptionsParams{
    USBankAccount: &stripe.SetupIntentPaymentMethodOptionsUSBankAccountParams{
      FinancialConnections: &stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsParams{
        Permissions: []*string{
          stripe.String(stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsPermissionBalances),
          stripe.String(stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsPermissionPaymentMethod),
        },
      },
    },
  },
}
result, err := setupintent.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
```

--------------------------------

### Create Setup Intent (.NET)

Source: https://docs.stripe.com/financial-connections/balances

Examples of creating a SetupIntent using the Stripe .NET library, showing both direct API calls and using the StripeClient.

```APIDOC
## POST /v1/setup_intents

### Description
Creates a SetupIntent object, which is used to set up and save a customer's payment details for future use.

### Method
POST

### Endpoint
/v1/setup_intents

### Parameters
#### Request Body
- **Customer** (string) - Required - The ID of the customer to create the SetupIntent for.
- **PaymentMethodTypes** (List<string>) - Required - A list of payment method types to support. Example: `new List<string> { "us_bank_account" }`.
- **PaymentMethodOptions** (SetupIntentPaymentMethodOptionsOptions) - Optional - Additional options for specific payment method types.
  - **UsBankAccount** (SetupIntentPaymentMethodOptionsUsBankAccountOptions) - Optional - Options for US bank account payments.
    - **FinancialConnections** (SetupIntentPaymentMethodOptionsUsBankAccountFinancialConnectionsOptions) - Optional - Financial Connections options.
      - **Permissions** (List<string>) - Optional - Permissions requested for Financial Connections. Example: `new List<string> { "balances", "payment_method" }`.

### Request Example
```csharp
// Using SetupIntentService
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";
var options = new SetupIntentCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    PaymentMethodTypes = new List<string> { "us_bank_account" },
    PaymentMethodOptions = new SetupIntentPaymentMethodOptionsOptions
    {
        UsBankAccount = new SetupIntentPaymentMethodOptionsUsBankAccountOptions
        {
            FinancialConnections = new SetupIntentPaymentMethodOptionsUsBankAccountFinancialConnectionsOptions
            {
                Permissions = new List<string> { "balances", "payment_method" },
            },
        },
    },
};
var service = new SetupIntentService();
SetupIntent setupIntent = service.Create(options);

// Using StripeClient
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.SetupIntents;
SetupIntent setupIntent = service.Create(options);
```

### Response
#### Success Response (200)
- **Id** (string) - The unique identifier for the SetupIntent.
- **ClientSecret** (string) - A client-side secret that can be used with Stripe.js to create or confirm a PaymentMethod.

#### Response Example
```json
{
  "id": "seti_1Kz4jC2eZvKYlo2CAJ5V3Q6w",
  "object": "setup_intent",
  "client_secret": "seti_1Kz4jC2eZvKYlo2CAJ5V3Q6w_secret_Pc1x65dC3p4p5y5z5w5v5x5y",
  "created": 1648765660,
  "customer": "cus_Kz4jC2eZvKYlo2CA",
  "livemode": false,
  "payment_method_types": [
    "us_bank_account"
  ],
  "status": "requires_payment_method"
}
```
```

--------------------------------

### Install Expo CLI and Dependencies for React Native

Source: https://docs.stripe.com/terminal/example-applications

Installs the Expo CLI globally and the example app's package dependencies using Yarn.

```bash
yarn global add expo-cli
cd stripe-terminal-react-native/example-app
yarn
```

--------------------------------

### Run Ruby Server

Source: https://docs.stripe.com/webhooks/quickstart

Installs Ruby dependencies using Bundler and starts a Ruby server. This is used to run the Ruby backend for Stripe webhook processing.

```bash
bundle install
```

```bash
ruby server.rb -o 0.0.0.0
```

--------------------------------

### Create Stripe Billing Meter (Go - stripe.New)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Example of creating a billing meter using the Go Stripe library with the `stripe.NewClient` approach. This snippet details parameter setup and the API call.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.BillingMeterParams{
  DisplayName: stripe.String("Alpaca AI tokens"),
  EventName: stripe.String("alpaca_ai_tokens"),
  DefaultAggregation: &stripe.BillingMeterDefaultAggregationParams{
    Formula: stripe.String(stripe.BillingMeterDefaultAggregationFormulaSum),
  },
  CustomerMapping: &stripe.BillingMeterCustomerMappingParams{
    EventPayloadKey: stripe.String("stripe_customer_id"),
    Type: stripe.String("by_id"),
  },
  ValueSettings: &stripe.BillingMeterValueSettingsParams{
    EventPayloadKey: stripe.String("value"),
  },
}
result, err := meter.New(params)
```

--------------------------------

### Install Stripe Go Module

Source: https://docs.stripe.com/billing/quickstart

Installs the Stripe Go module using the go get command, ensuring compatibility with Go Modules.

```bash
go get -u github.com/stripe/stripe-go/v82
```

--------------------------------

### Install Stripe Libraries

Source: https://docs.stripe.com/webhooks/quickstart

Provides commands to install the Stripe SDK for various programming languages, including Node.js, Ruby, Java, Python, PHP, Go, and .NET.

```bash
npm install --save stripe
```

```bash
gem install stripe
```

```bash
gem 'stripe'
```

```bash
<dependency>
<groupId>com.stripe</groupId>
<artifactId>stripe-java</artifactId>
<version>{VERSION}</version>
</dependency>
```

```bash
implementation "com.stripe:stripe-java:{VERSION}"
```

```bash
pip3 install stripe
```

```bash
composer require stripe/stripe-php
```

```bash
go get -u github.com/stripe/stripe-go/v82
```

```bash
dotnet add package Stripe.net
```

```bash
Install-Package Stripe.net
```

--------------------------------

### Stripe Node.js Project Dependencies

Source: https://docs.stripe.com/get-started/development-environment

Example of a package.json file showing the Stripe Node.js SDK as a dependency. This file outlines the project's metadata and installed packages.

```json
{
  "name": "stripe-node-example",
  "version": "1.0.0",
  "description": "A Stripe demo",
  "main": "index.js",
  "scripts": {
    "node ": "node create_price.js",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "stripe": "^18.0.0"
  }
}
```

--------------------------------

### Create Stripe Subscription (Go)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a Stripe subscription using the Go SDK. This example shows initializing the Stripe key and then creating a subscription with customer and item parameters.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SubscriptionParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Items: []*stripe.SubscriptionItemsParams{
    &stripe.SubscriptionItemsParams{Price: stripe.String("{{RECURRING_PRICE_ID}}")},
  },
}
result, err := subscription.New(params)
```

--------------------------------

### Build and Run Node.js Client App

Source: https://docs.stripe.com/billing/quickstart

Installs project dependencies using npm and then starts the client application. This is the standard way to manage and run Node.js projects.

```shell
npm install
npm start
```

--------------------------------

### Create Setup Intent (Go)

Source: https://docs.stripe.com/financial-connections/balances

This example demonstrates how to create a SetupIntent using the Stripe Go client library. It includes specifying customer, payment method types, and US bank account options.

```APIDOC
## POST /v1/setup_intents

### Description
Creates a SetupIntent object, which is used to set up and save a customer's payment details for future use.

### Method
POST

### Endpoint
/v1/setup_intents

### Parameters
#### Request Body
- **Customer** (string) - Required - The ID of the customer to create the SetupIntent for.
- **PaymentMethodTypes** ([]*string) - Required - An array of payment method types to support. Example: `["us_bank_account"]`.
- **PaymentMethodOptions** (*SetupIntentCreatePaymentMethodOptionsParams) - Optional - Additional options for specific payment method types.
  - **USBankAccount** (*SetupIntentCreatePaymentMethodOptionsUSBankAccountParams) - Optional - Options for US bank account payments.
    - **FinancialConnections** (*SetupIntentCreatePaymentMethodOptionsUSBankAccountFinancialConnectionsParams) - Optional - Financial Connections options.
      - **Permissions** ([]*string) - Optional - Permissions requested for Financial Connections. Example: `["balances", "payment_method"]`.

### Request Example
```go
params := &stripe.SetupIntentCreateParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  PaymentMethodTypes: []*string{stripe.String("us_bank_account")},
  PaymentMethodOptions: &stripe.SetupIntentCreatePaymentMethodOptionsParams{
    USBankAccount: &stripe.SetupIntentCreatePaymentMethodOptionsUSBankAccountParams{
      FinancialConnections: &stripe.SetupIntentCreatePaymentMethodOptionsUSBankAccountFinancialConnectionsParams{
        Permissions: []*string{
          stripe.String(stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsPermissionBalances),
          stripe.String(stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsPermissionPaymentMethod),
        },
      },
    },
  },
}
```

### Response
#### Success Response (200)
- **ID** (string) - The unique identifier for the SetupIntent.
- **ClientSecret** (string) - A client-side secret that can be used with Stripe.js to create or confirm a PaymentMethod.

#### Response Example
```json
{
  "id": "seti_1Kz4jC2eZvKYlo2CAJ5V3Q6w",
  "object": "setup_intent",
  "client_secret": "seti_1Kz4jC2eZvKYlo2CAJ5V3Q6w_secret_Pc1x65dC3p4p5y5z5w5v5x5y",
  "created": 1648765660,
  "customer": "cus_Kz4jC2eZvKYlo2CA",
  "livemode": false,
  "payment_method_types": [
    "us_bank_account"
  ],
  "status": "requires_payment_method"
}
```
```

--------------------------------

### JSON Configuration for US Bank Account Setup (Company Account)

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

This JSON example demonstrates setting up a US bank account for a company with Stripe. It specifies 'company' as the account holder type and provides example values for customer ID, flow directions, and billing details.

```json
{
  "customer": "{{CUSTOMER_ID}}",
  "attach_to_self": false,
  "flow_directions": ["inbound", "outbound"],
  "payment_method_types": ["us_bank_account"],
  "payment_method_data": {
    "type": "us_bank_account",
    "us_bank_account": {
      "routing_number": "12341234",
      "account_number": "0123456789",
      "account_holder_type": "company"
    },
    "billing_details": {
      "name": "Jenny Rosen",
      "phone": "5558675309",
      "email": "jenny@example.com",
      "address": null
    }
  },
  "payment_method_options": {
    "us_bank_account": {
      "verification_method": "microdeposits"
    }
  },
  "mandate_data": {
    "customer_acceptance": {
      "type": "online",
      "online": {
        "ip_address": "123.123.123.123",
        "user_agent": "curl/1.2.3"
      }
    }
  },
  "confirm": true
}
```

--------------------------------

### Create Stripe Product using various languages

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates how to create a 'Basic' product in Stripe using different API clients and methods. Includes examples for direct API calls and SDK usage.

```curl
curl https://api.stripe.com/v1/products \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d name=Basic
```

```cli
stripe products create  \
  --name=Basic
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

product = Stripe::Product.create({name: 'Basic'})
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

product = client.v1.products.create({name: 'Basic'})
```

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

product = stripe.Product.create(name="Basic")
```

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
from stripe import StripeClient
client = StripeClient("<<YOUR_SECRET_KEY>>")

# For SDK versions 12.4.0 or lower, remove '.v1' from the following line.
product = client.v1.products.create({"name": "Basic"})
```

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$product = $stripe->products->create(['name' => 'Basic']);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import com.stripe.Stripe;
import com.stripe.param.ProductCreateParams;
import com.stripe.model.Product;

Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

ProductCreateParams params = ProductCreateParams.builder().setName("Basic").build();

Product product = Product.create(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import com.stripe.StripeClient;
import com.stripe.param.ProductCreateParams;
import com.stripe.model.Product;

StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

ProductCreateParams params = ProductCreateParams.builder().setName("Basic").build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Product product = client.v1().products().create(params);
```

```node
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const product = await stripe.products.create({
  name: 'Basic',
});
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import (
	"context"
	"github.com/stripe/stripe-go/v76"
	"github.com/stripe/stripe-go/v76/product"
)

stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.ProductParams{Name: stripe.String("Basic")}
result, err := product.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import (
	"context"
	"github.com/stripe/stripe-go/v76"
	"github.com/stripe/stripe-go/v76/client"
)

sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.ProductCreateParams{Name: stripe.String("Basic")}
result, err := sc.V1Products.Create(context.TODO(), params)
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
using Stripe;

StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new ProductCreateOptions { Name = "Basic" };
var service = new ProductService();
Product product = service.Create(options);
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
using Stripe;

var options = new ProductCreateOptions { Name = "Basic" };
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Products;
Product product = service.Create(options);
```

--------------------------------

### List Outbound Transfers (Go - Newer Client)

Source: https://docs.stripe.com/treasury/moving-money/financial-accounts/out-of/outbound-transfers

Lists outbound transfers using a newer Stripe Go client setup. This example demonstrates initializing a new client, building the list parameters for financial account, limit, and starting after, and setting the connected Stripe account.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.TreasuryOutboundTransferListParams{
  FinancialAccount: stripe.String("{{TREASURYFINANCIALACCOUNT_ID}}"),
}
params.StartingAfter = stripe.String("{{OUTBOUND_TRANSFER_ID}}")
params.Limit = stripe.Int64(3)
params.SetStripeAccount("{{CONNECTEDACCOUNT_ID}}")
result := sc.V1TreasuryOutboundTransfers.List(context.TODO(), params)
```

--------------------------------

### Create Setup Intent in Java (Stripe SDK)

Source: https://docs.stripe.com/treasury/examples/moving-money

Demonstrates creating a Stripe Setup Intent with the Java SDK, including setting the API key, customer information, and payment method data. This example uses the direct Stripe API.

```java
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

SetupIntentCreateParams params = 
  SetupIntentCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addFlowDirection(SetupIntentCreateParams.FlowDirection.OUTBOUND)
    .addPaymentMethodType("us_bank_account")
    .setPaymentMethodData(
      SetupIntentCreateParams.PaymentMethodData.builder()
        .setType(SetupIntentCreateParams.PaymentMethodData.Type.US_BANK_ACCOUNT)
        .setUsBankAccount(
          SetupIntentCreateParams.PaymentMethodData.UsBankAccount.builder()
            .setRoutingNumber("110000000")
            .setAccountNumber("000123456789")
            .setAccountHolderType(
              SetupIntentCreateParams.PaymentMethodData.UsBankAccount.AccountHolderType.INDIVIDUAL
            )
            .build()
        )
        .setBillingDetails(
          SetupIntentCreateParams.PaymentMethodData.BillingDetails.builder()
            .setName("John doe")
            .build()
        )
        .build()
    )
    .setConfirm(true)
    .build();

RequestOptions requestOptions = 
  RequestOptions.builder().setStripeAccount("{{CONNECTEDACCOUNT_ID}}").build();

SetupIntent setupIntent = SetupIntent.create(params, requestOptions);
```

--------------------------------

### Create Subscription using Stripe CLI

Source: https://docs.stripe.com/products-prices/pricing-models

Shows how to create a subscription using the Stripe CLI. Requires Stripe CLI installation and authentication with your secret key. It takes customer ID and price ID as parameters.

```bash
stripe subscriptions create \
  --customer="{{CUSTOMER_ID}}" \
  -d "items[0][price]"={{per_seat_price_id}} \
  -d "items[0][quantity]"=12
```

--------------------------------

### Create Setup Intent in Python

Source: https://docs.stripe.com/treasury/examples/moving-money

Creates a Stripe Setup Intent for a customer, specifying the payment method details and confirming it immediately. This example is for SDK versions 12.4.0 or lower.

```python
setup_intent = client.v1.setup_intents.create(
  {
    "customer": "{{CUSTOMER_ID}}",
    "flow_directions": ["outbound"],
    "payment_method_types": ["us_bank_account"],
    "payment_method_data": {
      "type": "us_bank_account",
      "us_bank_account": {
        "routing_number": "110000000",
        "account_number": "000123456789",
        "account_holder_type": "individual",
      },
      "billing_details": {"name": "John doe"},
    },
    "confirm": True,
  },
  {"stripe_account": "{{CONNECTEDACCOUNT_ID}}"},
)
```

--------------------------------

### Create Stripe Account in Go (using client.V1Accounts.Create)

Source: https://docs.stripe.com/connect/hosted-onboarding

This Go example shows how to create a Stripe account using a `StripeClient` instance and the `V1Accounts.Create` method. It requires setting the client's key and passing account creation parameters.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.AccountCreateParams{Type: stripe.String(stripe.AccountTypeStandard)}
result, err := sc.V1Accounts.Create(context.TODO(), params)
```

--------------------------------

### Create Stripe SetupIntent (Go with Client)

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

Creates a Stripe SetupIntent using the Go SDK with `StripeClient`. Initializes the client with the secret key and specifies payment method and connected account details through `SetupIntentCreateParams`.

```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SetupIntentCreateParams{
  PaymentMethod: stripe.String("{{PAYMENTMETHOD_ID}}"),
}
params.SetStripeAccount("{{CONNECTEDACCOUNT_ID}}")
result, err := sc.V1SetupIntents.Create(context.TODO(), params)
```

--------------------------------

### Create Setup Mode Checkout Session

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Example of creating a Stripe Checkout Session in setup mode to save customer payment details without an initial payment.

```APIDOC
## POST /v1/checkout/sessions

### Description
Creates a new Checkout Session in setup mode, allowing customers to save payment details for future use.

### Method
POST

### Endpoint
/v1/checkout/sessions

### Parameters
#### Request Body
- **mode** (string) - Required - Set to "setup" to enable saving payment details.
- **ui_mode** (string) - Required - The UI mode for the session (e.g., "custom").
- **currency** (string) - Required - The currency for the session (e.g., "usd").

### Request Example
```json
{
  "mode": "setup",
  "ui_mode": "custom",
  "currency": "usd"
}
```

### Response
#### Success Response (200)
- **id** (string) - The ID of the created Checkout Session.
- **url** (string) - The URL for the Checkout Session.

#### Response Example
```json
{
  "id": "cs_test_example456",
  "url": "https://checkout.stripe.com/setup/cs_test_example456"
}
```
```

--------------------------------

### Run Python (Flask) Server

Source: https://docs.stripe.com/webhooks/quickstart

Installs Python dependencies using pip and runs a Flask development server. This setup is common for handling Stripe webhooks with Python.

```bash
pip3 install -r requirements.txt
```

```bash
export FLASK_APP=server.py
python3 -m flask run --port=4242
```

--------------------------------

### Create Customer

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Examples for creating a new customer using different SDKs.

```APIDOC
## POST /v1/customers

### Description
Creates a new customer object.

### Method
POST

### Endpoint
/v1/customers

### Parameters
#### Request Body
- **name** (string) - Required - The customer's full name or business name.

### Request Example
```json
{
  "name": "John Doe"
}
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the customer.
- **name** (string) - The name of the customer.

#### Response Example
```json
{
  "id": "cus_abc123",
  "name": "John Doe"
}
```
```

--------------------------------

### Example Snapshot Event Payload (JSON)

Source: https://docs.stripe.com/event-destinations

An example of a snapshot event payload for a setup intent creation. This event includes the full object definition as it existed when the event was triggered.

```json
{
  "id": "evt_1NG8Du2eZvKYlo2CUI79vXWy",
  "object": "event",
  "api_version": "2019-02-19",
  "created": 1686089970,
  "data": {
    "object": {
      "id": "seti_1NG8Du2eZvKYlo2C9XMqbR0x",
      "object": "setup_intent",
      "application": null,
      "automatic_payment_methods": null,
      "cancellation_reason": null,
      "client_secret": "seti_1NG8Du2eZvKYlo2C9XMqbR0x_secret_O2CdhLwGFh2Aej7bCY7qp8jlIuyR8DJ",
      "created": 1686089970,
      "customer": null,
      "description": null,
      "flow_directions": null,
      "last_setup_error": null,
      "latest_attempt": null,
      "livemode": false,
      "mandate": null,
      "metadata": {},
      "next_action": null,
      "on_behalf_of": null,
      "payment_method": "pm_1NG8Du2eZvKYlo2CYzzldNr7",
      "payment_method_options": {
        "acss_debit": {
          "currency": "cad",
          "mandate_options": {
            "interval_description": "First day of every month",
            "payment_schedule": "interval",
            "transaction_type": "personal"
          },
          "verification_method": "automatic"
        }
      },
      "payment_method_types": [
        "acss_debit"
      ],
      "single_use_mandate": null,
      "status": "requires_confirmation",
      "usage": "off_session"
    }
  },
  "livemode": false,
  "pending_webhooks": 0,
  "request": {
    "id": null,
    "idempotency_key": null
  },
  "type": "setup_intent.created"
}
```

--------------------------------

### Create Setup Intent in Java (StripeClient)

Source: https://docs.stripe.com/treasury/examples/moving-money

Shows how to create a Stripe Setup Intent using the Java StripeClient. This example is suitable for SDK versions 29.4.0 or lower, and includes configuration for connected accounts.

```java
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

SetupIntentCreateParams params = 
  SetupIntentCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addFlowDirection(SetupIntentCreateParams.FlowDirection.OUTBOUND)
    .addPaymentMethodType("us_bank_account")
    .setPaymentMethodData(
      SetupIntentCreateParams.PaymentMethodData.builder()
        .setType(SetupIntentCreateParams.PaymentMethodData.Type.US_BANK_ACCOUNT)
        .setUsBankAccount(
          SetupIntentCreateParams.PaymentMethodData.UsBankAccount.builder()
            .setRoutingNumber("110000000")
            .setAccountNumber("000123456789")
            .setAccountHolderType(
              SetupIntentCreateParams.PaymentMethodData.UsBankAccount.AccountHolderType.INDIVIDUAL
            )
            .build()
        )
        .setBillingDetails(
          SetupIntentCreateParams.PaymentMethodData.BillingDetails.builder()
            .setName("John doe")
            .build()
        )
        .build()
    )
    .setConfirm(true)
    .build();

RequestOptions requestOptions = 
  RequestOptions.builder().setStripeAccount("{{CONNECTEDACCOUNT_ID}}").build();
// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.

SetupIntent setupIntent = client.v1().setupIntents().create(params, requestOptions);
```

--------------------------------

### Update Subscription Schedule - .NET

Source: https://docs.stripe.com/tax/subscriptions/update

Updates an existing Stripe Subscription Schedule using the .NET SDK. This example demonstrates how to configure the schedule's phases, items, start and end dates, and automatic tax settings. Ensure the Stripe.net NuGet package is installed and your API key is set.

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new SubscriptionScheduleUpdateOptions
{
    Phases = new List<SubscriptionSchedulePhaseOptions>
    {
        new SubscriptionSchedulePhaseOptions
        {
            Items = new List<SubscriptionSchedulePhaseItemOptions>
            {
                new SubscriptionSchedulePhaseItemOptions
                {
                    Price = "price_1GqNdGAJVYItwOKqEHb",
                    Quantity = 1,
                },
            },
            StartDate = DateTimeOffset.FromUnixTimeSeconds(1577865600).UtcDateTime,
            EndDate = DateTimeOffset.FromUnixTimeSeconds(1578038400).UtcDateTime,
        },
        new SubscriptionSchedulePhaseOptions
        {
            Items = new List<SubscriptionSchedulePhaseItemOptions>
            {
                new SubscriptionSchedulePhaseItemOptions
                {
                    Price = "price_1GqNdGAJVYItwOKqEHb",
                    Quantity = 2,
                },
            },
            StartDate = DateTimeOffset.FromUnixTimeSeconds(1578038400).UtcDateTime,
            EndDate = DateTimeOffset.FromUnixTimeSeconds(1580544000).UtcDateTime,
        },
    },
    DefaultSettings = new SubscriptionScheduleDefaultSettingsOptions
    {
        AutomaticTax = new SubscriptionScheduleDefaultSettingsAutomaticTaxOptions
        {
            Enabled = true,
        },
    },
};
var service = new SubscriptionScheduleService();
SubscriptionSchedule subscriptionSchedule = service.Update(
    "{{SUBSCRIPTIONSCHEDULE_ID}}",
    options);
```

--------------------------------

### Create Stripe Setup Intent in Python

Source: https://docs.stripe.com/financial-connections/ownership

Python code example for creating a Stripe Setup Intent. It shows how to configure the API key, customer, payment method types, and financial connection permissions using the Stripe Python library.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

setup_intent = stripe.SetupIntent.create(
  customer="{{CUSTOMER_ID}}",
  payment_method_types=["us_bank_account"],
  payment_method_options={
    "us_bank_account": {
      "financial_connections": {"permissions": ["ownership", "payment_method"]},
    },
  },
)
```

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
from stripe import StripeClient
client = StripeClient("<<YOUR_SECRET_KEY>>")


```

--------------------------------

### HTML/JS: Retrieve Setup Intent

Source: https://docs.stripe.com/payments/save-and-reuse

This example shows how to retrieve a Setup Intent using the `setup_intent_client_secret` from the URL parameters and display its status to the customer.

```APIDOC
## GET /stripe/retrieveSetupIntent

### Description
Retrieves a Setup Intent using its client secret and displays its status.

### Method
GET

### Endpoint
/stripe/retrieveSetupIntent

### Parameters
#### Query Parameters
- **setup_intent_client_secret** (string) - Required - The client secret of the Setup Intent, appended to the return URL.

### Request Example
```javascript
// Initialize Stripe.js
const stripe = Stripe('{PUBLISHABLE_KEY}');

// Get client secret from URL
const clientSecret = new URLSearchParams(window.location.search).get(
  'setup_intent_client_secret'
);

// Retrieve Setup Intent
if (clientSecret) {
  stripe.retrieveSetupIntent(clientSecret).then(({ setupIntent }) => {
    const message = document.querySelector('#message');
    switch (setupIntent.status) {
      case 'succeeded':
        message.innerText = 'Success! Your payment method has been saved.';
        break;
      case 'processing':
        message.innerText = "Processing payment details. We'll update you when processing is complete.";
        break;
      case 'requires_payment_method':
        message.innerText = 'Failed to process payment details. Please try another payment method.';
        break;
    }
  });
}
```

### Response
#### Success Response (200)
- **setupIntent** (object) - The retrieved SetupIntent object, containing its status and other details.
```

--------------------------------

### Configure Stripe Listen for Webhooks

Source: https://docs.stripe.com/invoicing/integration/quickstart

Starts the Stripe CLI to listen for events and forward them to a specified endpoint.

```bash
stripe listen --forward-to localhost:4242/webhook.php
```

```bash
stripe listen --forward-to localhost:4242/webhook
```

--------------------------------

### Install Stripe Python SDK from Source

Source: https://docs.stripe.com/get-started/development-environment

Command to install the Stripe Python SDK by downloading and installing from its source code.

```bash
python3 setup.py install
```

--------------------------------

### React: Confirm Setup Intent

Source: https://docs.stripe.com/payments/save-and-reuse

This example demonstrates how to confirm a Setup Intent using React hooks (`useStripe`, `useElements`) and the `PaymentElement` from `@stripe/react-stripe-js`.

```APIDOC
## POST /stripe/confirmSetup

### Description
Confirms a Setup Intent to save a customer's payment method.

### Method
POST

### Endpoint
/stripe/confirmSetup

### Parameters
#### Request Body
- **stripe** (object) - Required - The Stripe object instance from `useStripe()`.
- **elements** (object) - Required - The Stripe Elements instance from `useElements()`.
- **return_url** (string) - Required - The URL to redirect the customer to after confirmation.

### Request Example
```javascript
// Inside a React component:
const stripe = useStripe();
const elements = useElements();

const handleSubmit = async (event) => {
  event.preventDefault();
  if (!stripe || !elements) {
    return;
  }
  const { error } = await stripe.confirmSetup({
    elements,
    confirmParams: {
      return_url: 'https://example.com/account/payments/setup-complete',
    },
  });
  // Handle error
};
```

### Response
#### Success Response (200)
Indicates that the confirmation process has been initiated. The customer will be redirected to the `return_url`.

#### Error Response (400)
- **error** (object) - Details about the error encountered during confirmation.
```

--------------------------------

### Create Stripe Product and Price using Go SDK

Source: https://docs.stripe.com/get-started/development-environment

This Go program demonstrates how to create a subscription product and its associated price using the Stripe Go SDK. It requires the Stripe API key and sets up a recurring monthly subscription priced at $12.

```go
package main

import (
  "fmt"
  "github.com/stripe/stripe-go/v82"
  "github.com/stripe/stripe-go/v82/product"
  "github.com/stripe/stripe-go/v82/price"
)

func main() {
  stripe.Key = "sk_test_BQokikJOvBiI2HlWgH4olfQ2"

	product_params := &stripe.ProductParams{
		Name:        stripe.String("Starter Subscription"),
		Description: stripe.String("$12/Month subscription"),
	}
	starter_product, _ := product.New(product_params)

	price_params := &stripe.PriceParams{
		Currency: stripe.String(string(stripe.CurrencyUSD)),
		Product:  stripe.String(starter_product.ID),
		Recurring: &stripe.PriceRecurringParams{
			Interval: stripe.String(string(stripe.PriceRecurringIntervalMonth)),
		},
		UnitAmount: stripe.Int64(1200),
	}
	starter_price, _ := price.New(price_params)

	fmt.Println("Success! Here is your starter subscription product id: " + starter_product.ID)
	fmt.Println("Success! Here is your starter subscription price id: " + starter_price.ID)
}
```

--------------------------------

### Retrieve SetupIntent in .NET

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Retrieve a SetupIntent object using its ID in .NET. This example uses the Stripe .NET SDK, setting the API key and then using the `SetupIntentService` or `StripeClient` to call the `Get` method.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var service = new SetupIntentService();
SetupIntent setupIntent = service.Get("seti_1EzVO3HssDVaQm2PJjXHmLlM");
```

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.SetupIntents;
SetupIntent setupIntent = service.Get("seti_1EzVO3HssDVaQm2PJjXHmLlM");
```

--------------------------------

### Start PHP Server

Source: https://docs.stripe.com/terminal/quickstart

Commands to install PHP dependencies using Composer and run a local PHP development server.

```bash
composer install
php -S 127.0.0.1:4242 --docroot=public
```

--------------------------------

### Create Stripe Setup Intents

Source: https://docs.stripe.com/payments/payment-element/migration

Examples for creating Stripe Setup Intents using cURL, Ruby, Python, PHP, Node.js, and the Stripe CLI. These snippets demonstrate how to specify the customer and enable automatic payment methods.

```bash
curl https://api.stripe.com/v1/setup_intents \
  -u <<YOUR_SECRET_KEY>>: \
  -H "Stripe-Version: 2025-08-27.basil" \
  -d "customer"="{{CUSTOMER_ID}}"\-d "automatic_payment_methods[enabled]"=true
```

```ruby
intent = Stripe::SetupIntent.create({
  customer: customer['id'],# In the latest version of the API, specifying the `automatic_payment_methods` parameter is optional because Stripe enables its functionality by default.
  automatic_payment_methods: {
    enabled: true,
  },
})
```

```python
intent = stripe.SetupIntent.create(
  customer=customer['id'],# In the latest version of the API, specifying the `automatic_payment_methods` parameter is optional because Stripe enables its functionality by default.
  automatic_payment_methods={
    'enabled': True,
  },
)
```

```php
$intent = \Stripe\SetupIntent::create([
  'customer' => $customer->id,// In the latest version of the API, specifying the `automatic_payment_methods` parameter is optional because Stripe enables its functionality by default.
  'automatic_payment_methods' => [
    'enabled' => true,
  ],
]);
```

```javascript
const paymentIntent = await stripe.setupIntents.create({
  customer: customer.id,// In the latest version of the API, specifying the `automatic_payment_methods` parameter is optional because Stripe enables its functionality by default.
  automatic_payment_methods: {
    enabled: true,
  },
});
```

```bash
stripe setup_intents create \
  --stripe-version="2025-08-27.basil" \
  --customer={{CUSTOMER_ID}} \-d "automatic_payment_methods[enabled]"=true
```

--------------------------------

### Create Stripe Subscription (.NET)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a Stripe subscription using the .NET SDK. This example configures the API key and uses options classes to define the subscription details.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new SubscriptionCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    Items = new List<SubscriptionItemOptions>
    {
        new SubscriptionItemOptions { Price = "{{RECURRING_PRICE_ID}}" },
    },
};
var service = new SubscriptionService();
Subscription subscription = service.Create(options);
```

--------------------------------

### Build .NET Project

Source: https://docs.stripe.com/invoicing/integration/quickstart

Compiles a .NET project.

```bash
dotnet build
```

--------------------------------

### Start Python Flask Server

Source: https://docs.stripe.com/terminal/quickstart

Commands to install Python dependencies and run a Flask development server for backend operations.

```bash
pip3 install -r requirements.txt
export FLASK_APP="server.py" && python3 -m flask run --port=4242
```

--------------------------------

### Create Stripe Subscription (Go, Client)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a Stripe subscription using the Go SDK with a Stripe client. This approach initializes a client and then uses it to create the subscription via the V1 API.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SubscriptionCreateParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Items: []*stripe.SubscriptionCreateItemParams{
    &stripe.SubscriptionCreateItemParams{Price: stripe.String("{{RECURRING_PRICE_ID}}")},
  },
}
result, err := sc.V1Subscriptions.Create(context.TODO(), params)
```

--------------------------------

### Create Stripe Setup Intent using cURL

Source: https://docs.stripe.com/financial-connections/ownership

Example of creating a Stripe Setup Intent using a cURL command. This method requires specifying the customer ID, payment method types, and financial connection permissions.

```curl
curl https://api.stripe.com/v1/setup_intents \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d customer="{{CUSTOMER_ID}}" \
  -d "payment_method_types[]"=us_bank_account \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][]")=ownership \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][]")=payment_method
```

--------------------------------

### Create Stripe Setup Intent with US Bank Account (API, CLI, Ruby, Python)

Source: https://docs.stripe.com/financial-connections/transactions

This section covers creating Stripe Setup Intents to collect payment methods. Examples are provided for direct API calls using curl, the Stripe CLI, and SDK implementations in Ruby and Python. All examples configure a US bank account as the payment method and grant specific financial connection permissions.

```curl
curl https://api.stripe.com/v1/setup_intents \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d customer="{{CUSTOMER_ID}}" \
  -d "payment_method_types[]"=us_bank_account \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][]"=transactions \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][]"=payment_method
```

```cli
stripe setup_intents create  \
  --customer="{{CUSTOMER_ID}}" \
  -d "payment_method_types[0]"=us_bank_account \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][0]"=transactions \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][1]"=payment_method
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<YOUR_SECRET_KEY>'

setup_intent = Stripe::SetupIntent.create({
  customer: '{{CUSTOMER_ID}}',
  payment_method_types: ['us_bank_account'],
  payment_method_options: {
    us_bank_account: {
      financial_connections: {permissions: ['transactions', 'payment_method']},
    },
  },
})
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

setup_intent = client.v1.setup_intents.create({
  customer: '{{CUSTOMER_ID}}',
  payment_method_types: ['us_bank_account'],
  payment_method_options: {
    us_bank_account: {
      financial_connections: {permissions: ['transactions', 'payment_method']},
    },
  },
})
```

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys

```

--------------------------------

### Create Stripe Billing Meter (Go - stripe.NewClient)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Demonstrates creating a billing meter using the Go Stripe library with the `stripe.NewClient` method. It shows how to initialize the client, prepare parameters, and call the create method.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.BillingMeterCreateParams{
  DisplayName: stripe.String("Alpaca AI tokens"),
  EventName: stripe.String("alpaca_ai_tokens"),
  DefaultAggregation: &stripe.BillingMeterCreateDefaultAggregationParams{
    Formula: stripe.String(stripe.BillingMeterDefaultAggregationFormulaSum),
  },
  CustomerMapping: &stripe.BillingMeterCreateCustomerMappingParams{
    EventPayloadKey: stripe.String("stripe_customer_id"),
    Type: stripe.String("by_id"),
  },
  ValueSettings: &stripe.BillingMeterCreateValueSettingsParams{
    EventPayloadKey: stripe.String("value"),
  },
}
result, err := sc.V1BillingMeters.Create(context.TODO(), params)
```

--------------------------------

### Create Stripe Subscription (Go)

Source: https://docs.stripe.com/products-prices/pricing-models

This Go code demonstrates creating a Stripe subscription. It shows two approaches: setting the global API key and using a `stripe.Client` instance, both requiring `stripe.SubscriptionParams` or `stripe.SubscriptionCreateParams`.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SubscriptionParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Items: []*stripe.SubscriptionItemsParams{
    &stripe.SubscriptionItemsParams{
      Price: stripe.String("{{FLAT_MONTHLY_FEE_PRICE_ID}}"),
      Quantity: stripe.Int64(1),
    },
    &stripe.SubscriptionItemsParams{Price: stripe.String("{{METERED_USAGE_PRICE_ID}}")},
  },
}
result, err := subscription.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SubscriptionCreateParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Items: []*stripe.SubscriptionCreateItemParams{
    &stripe.SubscriptionCreateItemParams{
      Price: stripe.String("{{FLAT_MONTHLY_FEE_PRICE_ID}}"),
      Quantity: stripe.Int64(1),
    },
    &stripe.SubscriptionCreateItemParams{
      Price: stripe.String("{{METERED_USAGE_PRICE_ID}}"),
    },
  },
}
result, err := sc.V1Subscriptions.Create(context.TODO(), params)
```

--------------------------------

### Run PHP Server for Webhooks

Source: https://docs.stripe.com/webhooks/quickstart

Starts a PHP development server to listen for Stripe webhook events. Requires PHP and a `public/webhook.php` file.

```bash
php -S 127.0.0.1:4242
```

--------------------------------

### Start Ruby Server

Source: https://docs.stripe.com/terminal/quickstart

Commands to install Ruby dependencies and run a Ruby server, often used with frameworks like Rails or Sinatra.

```bash
bundle install
ruby server.rb
```

--------------------------------

### Create Stripe SetupIntent (Go with setupintent)

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

Creates a Stripe SetupIntent using the Go SDK. Sets the API key and uses `stripe.SetupIntentParams` to define payment method and connected account information before calling `setupintent.New`.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SetupIntentParams{
  PaymentMethod: stripe.String("{{PAYMENTMETHOD_ID}}"),
}
params.SetStripeAccount("{{CONNECTEDACCOUNT_ID}}")
result, err := setupintent.New(params)
```

--------------------------------

### Create Setup Intent with US Bank Account (Go)

Source: https://docs.stripe.com/financial-connections/ownership

Creates a Stripe Setup Intent for a US bank account using the Stripe Go library. This example shows how to set the customer, payment method types, and financial connections permissions.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SetupIntentParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  PaymentMethodTypes: []*string{stripe.String("us_bank_account")},
  PaymentMethodOptions: &stripe.SetupIntentPaymentMethodOptionsParams{
    USBankAccount: &stripe.SetupIntentPaymentMethodOptionsUSBankAccountParams{
      FinancialConnections: &stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsParams{
        Permissions: []*string{

```

--------------------------------

### Install Stripe Go SDK

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe Go server-side SDK (version v82.0.0 or later) using Go modules. This command adds the Stripe Go library as a dependency to your project.

```bash
go get github.com/stripe/stripe-go/v82
```

--------------------------------

### Create Stripe Setup Intent (Node.js)

Source: https://docs.stripe.com/financial-connections/transactions

Creates a Stripe Setup Intent using the Stripe Node.js library. This example targets US bank accounts and requests specific financial connection permissions for a customer. Ensure your secret key is configured.

```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const setupIntent = await stripe.setupIntents.create({
  customer: '{{CUSTOMER_ID}}',
  payment_method_types: ['us_bank_account'],
  payment_method_options: {
    us_bank_account: {
      financial_connections: {
        permissions: ['transactions', 'payment_method'],
      },
    },
  },
});
```

--------------------------------

### Create Setup Intent

Source: https://docs.stripe.com/financial-connections/ownership

This section details how to create a SetupIntent in Stripe, which is used to set up and save payment methods for future use. It includes examples for Go and .NET.

```APIDOC
## POST /v1/setup_intents

### Description
Creates a SetupIntent object that can be used to set up and save a payment method for future use.

### Method
POST

### Endpoint
/v1/setup_intents

### Parameters
#### Request Body
- **customer** (string) - Required - The ID of the customer this SetupIntent belongs to.
- **payment_method_types** (array of strings) - Required - An array of the types of payment methods intended for the SetupIntent.
- **payment_method_options** (object) - Optional - Options to configure the payment method options.
  - **us_bank_account** (object) - Optional - Settings for US bank account payment methods.
    - **financial_connections** (object) - Optional - Settings for Financial Connections.
      - **permissions** (array of strings) - Optional - Permissions to request for the bank account.
      - **prefetch** (array of strings) - Optional - Data to prefetch for the bank account.

### Request Example
```json
{
  "customer": "{{CUSTOMER_ID}}",
  "payment_method_types": ["us_bank_account"],
  "payment_method_options": {
    "us_bank_account": {
      "financial_connections": {
        "permissions": ["payment_method", "ownership"],
        "prefetch": ["ownership"]
      }
    }
  }
}
```

### Response
#### Success Response (200)
- **id** (string) - Unique identifier for the SetupIntent.
- **customer** (string) - The ID of the customer associated with the SetupIntent.
- **payment_method_types** (array of strings) - The payment method types configured for the SetupIntent.

#### Response Example
```json
{
  "id": "seti_12345",
  "customer": "cus_abcde",
  "payment_method_types": ["us_bank_account"],
  "status": "requires_payment_method"
}
```
```

--------------------------------

### Create Pricing Model (API)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Examples demonstrating how to create a usage-based pricing model using the Stripe API and CLI.

```APIDOC
## Create Pricing Model

### Description
This endpoint allows you to create a metered pricing model for a product. This pricing model will be linked to a previously created meter and define how usage is charged.

### Method
POST

### Endpoint
`/v1/prices`

### Parameters
#### Query Parameters
- **currency** (string) - Required - The currency of the price (e.g., "usd").
- **unit_amount** (integer) - Required - The price in the smallest currency unit (e.g., 4 for $0.04).
- **billing_scheme** (string) - Required - Defines how the price is applied ('per_unit' or 'tiered').
- **transform_quantity** (object) - Optional - Used to transform the quantity before applying the price.
  - **divide_by** (integer) - Required - The value to divide the quantity by.
  - **round** (string) - Required - The rounding method ('up', 'down', 'zero_decimal').
- **recurring[usage_type]** (string) - Required - The usage type ('metered').
- **recurring[interval]** (string) - Required - The billing interval ('month', 'year', etc.).
- **recurring[meter]** (string) - Required - The ID of the meter to associate with this price.
- **product_data[name]** (string) - Required - The name of the product associated with this price.

### Request Example (cURL)
```bash
curl https://api.stripe.com/v1/prices \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d currency=usd \
  -d unit_amount=4 \
  -d billing_scheme=per_unit \
  -d "transform_quantity[divide_by]"=100 \
  -d "transform_quantity[round]"=up \
  -d "recurring[usage_type]"=metered \
  -d "recurring[interval]"=month \
  -d "recurring[meter]"={{METER_ID}} \
  -d "product_data[name]"="Alpaca AI tokens"
```

### Request Example (Stripe CLI)
```bash
stripe prices create \
  --currency=usd \
  --unit-amount=4 \
  --billing-scheme=per_unit \
  -d "transform_quantity[divide_by]"=100 \
  -d "transform_quantity[round]"=up \
  -d "recurring[usage_type]"=metered \
  -d "recurring[interval]"=month \
  -d "recurring[meter]"={{METER_ID}} \
  -d "product_data[name]"="Alpaca AI tokens"
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the created price.
- **currency** (string) - The currency of the price.
- **unit_amount** (integer) - The price in the smallest currency unit.
- **billing_scheme** (string) - The billing scheme.
- **transform_quantity** (object) - Quantity transformation settings.
- **recurring** (object) - Recurring billing settings, including usage type, interval, and meter.
- **product** (string) - The ID of the associated product.

#### Response Example
```json
{
  "id": "price_xyz789",
  "currency": "usd",
  "unit_amount": 4,
  "billing_scheme": "per_unit",
  "transform_quantity": {
    "divide_by": 100,
    "round": "up"
  },
  "recurring": {
    "usage_type": "metered",
    "interval": "month",
    "meter": "meter_abc123"
  },
  "product": "prod_uvw456"
}
```
```

--------------------------------

### Send Stripe Invoice using Go SDK

Source: https://docs.stripe.com/invoicing/integration

This Go code provides examples of sending an invoice using the Stripe Go SDK. It covers both the basic client setup and a more advanced setup using the v1 client, requiring your secret key and an invoice ID.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.InvoiceSendInvoiceParams{}
result, err := invoice.SendInvoice("{{INVOICE_ID}}", params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.InvoiceSendInvoiceParams{
  Invoice: stripe.String("{{INVOICE_ID}}"),
}
result, err := sc.V1Invoices.SendInvoice(context.TODO(), params)
```

--------------------------------

### Create Stripe Account with Controller Settings (Go)

Source: https://docs.stripe.com/connect/hosted-onboarding

This Go code snippet illustrates creating a Stripe account using the Go SDK. It shows two ways to initialize the client and create an account with specific controller settings. Ensure correct parameter types and SDK version usage.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.AccountParams{
  Controller: &stripe.AccountControllerParams{
    Fees: &stripe.AccountControllerFeesParams{
      Payer: stripe.String(stripe.AccountControllerFeesPayerApplication),
    },
    Losses: &stripe.AccountControllerLossesParams{
      Payments: stripe.String(stripe.AccountControllerLossesPaymentsApplication),
    },
    StripeDashboard: &stripe.AccountControllerStripeDashboardParams{
      Type: stripe.String(stripe.AccountControllerStripeDashboardTypeExpress),
    },
  },
}
result, err := account.New(params)
```

```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.AccountCreateParams{
  Controller: &stripe.AccountCreateControllerParams{
    Fees: &stripe.AccountCreateControllerFeesParams{
      Payer: stripe.String(stripe.AccountControllerFeesPayerApplication),
    },
    Losses: &stripe.AccountCreateControllerLossesParams{
      Payments: stripe.String(stripe.AccountControllerLossesPaymentsApplication),
    },
    StripeDashboard: &stripe.AccountCreateControllerStripeDashboardParams{
      Type: stripe.String(stripe.AccountControllerStripeDashboardTypeExpress),
    },
  },
}
result, err := sc.V1Accounts.Create(context.TODO(), params)
```

--------------------------------

### Create Stripe Account in Java

Source: https://docs.stripe.com/connect/hosted-onboarding

This example demonstrates creating a standard Stripe account using the Java SDK. It involves setting the API key, building account creation parameters, and then calling the `Account.create` method.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

AccountCreateParams params =
  AccountCreateParams.builder().setType(AccountCreateParams.Type.STANDARD).build();

Account account = Account.create(params);
```

--------------------------------

### Create Stripe Account in Go (using account.New)

Source: https://docs.stripe.com/connect/hosted-onboarding

This Go snippet demonstrates creating a standard Stripe account using the `account.New` function. It requires setting the global API key and passing account parameters.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.AccountParams{Type: stripe.String(stripe.AccountTypeStandard)}
result, err := account.New(params)
```

--------------------------------

### POST /v1/products

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a new product in Stripe. This is often the first step in setting up a new subscription item or service.

```APIDOC
## POST /v1/products

### Description
Creates a new product in Stripe. This is often the first step in setting up a new subscription item or service.

### Method
POST

### Endpoint
https://api.stripe.com/v1/products

### Parameters
#### Request Body
- **name** (string) - Required - The name of the product.

### Request Example
```json
{
  "name": "Per-seat"
}
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the created product.
- **name** (string) - The name of the product.

#### Response Example
```json
{
  "id": "prod_xxxxxxxxxxxxxx",
  "name": "Per-seat"
}
```
```

--------------------------------

### Cancel Subscription

Source: https://docs.stripe.com/billing/subscriptions/cancel

This section provides examples for cancelling a Stripe subscription using various SDKs and cURL.

```APIDOC
## POST /v1/subscriptions/{subscription_id}

### Description
Cancels a customer's subscription.

### Method
POST

### Endpoint
/v1/subscriptions/:subscription_id

### Parameters
#### Path Parameters
- **subscription_id** (string) - Required - The ID of the subscription to cancel.

#### Query Parameters
None

#### Request Body
- **prorate** (boolean) - Optional - Affects prorations if the subscription is part of a billing period. Defaults to false.
- **invoice_now** (boolean) - Optional - If true, immediately creates an invoice for outstanding prorations. Defaults to false.

### Request Example (Node.js)
```javascript
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');
const subscription = await stripe.subscriptions.cancel('{{SUBSCRIPTION_ID}}');
```

### Request Example (Python)
```python
# For SDK versions 12.4.0 or lower, remove '.v1' from the following line.
subscription = client.v1.subscriptions.cancel("{{SUBSCRIPTION_ID}}")
```

### Request Example (PHP)
```php
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');
$subscription = $stripe->subscriptions->cancel('{{SUBSCRIPTION_ID}}', []);
```

### Request Example (Java)
```java
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";
Subscription resource = Subscription.retrieve("{{SUBSCRIPTION_ID}}");
SubscriptionCancelParams params = SubscriptionCancelParams.builder().build();
Subscription subscription = resource.cancel(params);
```

### Request Example (Java - v29.4.0 or lower)
```java
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");
SubscriptionCancelParams params = SubscriptionCancelParams.builder().build();
// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Subscription subscription =
  client.v1().subscriptions().cancel("{{SUBSCRIPTION_ID}}", params);
```

### Request Example (Go)
```go
stripe.Key = "<<YOUR_SECRET_KEY>>"
params := &stripe.SubscriptionCancelParams{}
result, err := subscription.Cancel("{{SUBSCRIPTION_ID}}", params)
```

### Request Example (Go - Client)
```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SubscriptionCancelParams{
  SubscriptionExposedID: stripe.String("{{SUBSCRIPTION_ID}}"),
}
result, err := sc.V1Subscriptions.Cancel(context.TODO(), params)
```

### Request Example (.NET)
```csharp
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";
var service = new SubscriptionService();
Subscription subscription = service.Cancel("{{SUBSCRIPTION_ID}}");
```

### Request Example (.NET - Client)
```csharp
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Subscriptions;
Subscription subscription = service.Cancel("{{SUBSCRIPTION_ID}}");
```

### Response
#### Success Response (200)
- **id** (string) - The ID of the canceled subscription.
- **status** (string) - The status of the subscription (e.g., 'canceled').

### Response Example
```json
{
  "id": "sub_12345abcde",
  "status": "canceled"
}
```
```

--------------------------------

### Create Stripe Subscription (Java)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a Stripe subscription using the Java SDK. This example sets the API key and uses a builder pattern to construct the subscription parameters.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

SubscriptionCreateParams params = 
  SubscriptionCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addItem(
      SubscriptionCreateParams.Item.builder().setPrice("{{RECURRING_PRICE_ID}}").build()
    )
    .build();

Subscription subscription = Subscription.create(params);
```

--------------------------------

### Create Subscription using Stripe Node.js SDK

Source: https://docs.stripe.com/products-prices/pricing-models

Shows how to create a subscription using the Stripe Node.js SDK. This example requires the Stripe Node.js package and a secret key, and it demonstrates setting customer and item details.

```javascript
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const subscription = await stripe.subscriptions.create({
  customer: '{{CUSTOMER_ID}}',
  items: [
    {
      price: '{{per_seat_price_id}}',
      quantity: 12,
    },
  ],
});
```

--------------------------------

### Create Stripe Checkout Session with Setup Fee (PHP)

Source: https://docs.stripe.com/payments/checkout/migrating-prices

Provides a PHP example for creating a Stripe Checkout Session that includes a one-time setup fee alongside a recurring subscription. It uses the Stripe PHP library to manage line items.

```php
$session = \Stripe\Checkout\Session::create(['line_items' => [[
    'price' => '{{ONE_TIME_PRICE_ID}}',
    'quantity' => 1,
  ], [
    'price' => '{{RECURRING_PRICE_OR_PLAN_ID}}',
    'quantity' => 1,
  ]],
  'mode' => 'subscription',
  'success_url' => 'https://example.com/success?session_id={CHECKOUT_SESSION_ID}',
  'cancel_url' => 'https://example.com/cancel',
]);
```

--------------------------------

### Create Setup Intent with Bank Account Details (Go)

Source: https://docs.stripe.com/treasury/examples/moving-money

Go code for creating a Stripe SetupIntent using the `stripe.SetupIntentParams` structure. This example covers payment method data, mandate details, and specifying the connected Stripe account.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SetupIntentParams{
  AttachToSelf: stripe.Bool(true),
  FlowDirections: []*string{
    stripe.String(stripe.SetupIntentFlowDirectionInbound),
    stripe.String(stripe.SetupIntentFlowDirectionOutbound),
  },
  PaymentMethodTypes: []*string{stripe.String("us_bank_account")},
  PaymentMethodData: &stripe.SetupIntentPaymentMethodDataParams{
    Type: stripe.String("us_bank_account"),
    USBankAccount: &stripe.SetupIntentPaymentMethodDataUSBankAccountParams{
      RoutingNumber: stripe.String("110000000"),
      AccountNumber: stripe.String("000123456789"),
      AccountHolderType: stripe.String("company"),
    },
    BillingDetails: &stripe.SetupIntentPaymentMethodDataBillingDetailsParams{
      Name: stripe.String("Company Corp"),
    },
  },
  Confirm: stripe.Bool(true),
  MandateData: &stripe.SetupIntentMandateDataParams{
    CustomerAcceptance: &stripe.SetupIntentMandateDataCustomerAcceptanceParams{
      Type: stripe.String("online"),
      Online: &stripe.SetupIntentMandateDataCustomerAcceptanceOnlineParams{
        IPAddress: stripe.String("123.123.123.123"),
        UserAgent: stripe.String("curl/1.2.3"),
      },
    },
  },
}
params.SetStripeAccount("{{CONNECTEDACCOUNT_ID}}")
result, err := setupintent.New(params)
```

--------------------------------

### Create Stripe Setup Intent (PHP)

Source: https://docs.stripe.com/financial-connections/transactions

Creates a Stripe Setup Intent using the Stripe PHP SDK. This example configures a US bank account payment method with financial connection permissions for a given customer. Ensure your Stripe API key is set.

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$setupIntent = $stripe->setupIntents->create([
  'customer' => '{{CUSTOMER_ID}}',
  'payment_method_types' => ['us_bank_account'],
  'payment_method_options' => [
    'us_bank_account' => [
      'financial_connections' => ['permissions' => ['transactions', 'payment_method']],
    ],
  ],
]);
```

--------------------------------

### Create Stripe Product via Ruby API

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates creating a product in Stripe using the Ruby Stripe client library. It includes setting the API key and calling the product creation method.

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

product = Stripe::Product.create({name: 'Alpaca AI tokens'})
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

product = client.v1.products.create({name: 'Alpaca AI tokens'})
```

--------------------------------

### Create Stripe SetupIntent (.NET with Client)

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

Creates a Stripe SetupIntent using the .NET SDK with `StripeClient`. Initializes the client with the secret key and uses `SetupIntentCreateOptions` and `RequestOptions` to specify payment method and connected account.

```csharp
var options = new SetupIntentCreateOptions
{
    PaymentMethod = "{{PAYMENTMETHOD_ID}}",
};
var requestOptions = new RequestOptions
{
    StripeAccount = "{{CONNECTEDACCOUNT_ID}}",
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.SetupIntents;
SetupIntent setupIntent = service.Create(options, requestOptions);
```

--------------------------------

### Install Stripe Android SDK (Kotlin)

Source: https://docs.stripe.com/payments/quickstart

Adds the Stripe Android SDK to your project's dependencies using Kotlin. Verify your Gradle setup and Stripe repository configurations.

```kotlin
implementation("com.stripe:stripe-android:21.27.0")
```

--------------------------------

### Create Subscription

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Examples for creating a new subscription for a customer.

```APIDOC
## POST /v1/subscriptions

### Description
Creates a subscription for a customer, associating them with a specific price.

### Method
POST

### Endpoint
/v1/subscriptions

### Parameters
#### Request Body
- **customer** (string) - Required - The ID of the customer to subscribe.
- **items[0][price]** (string) - Required - The ID of the price to subscribe the customer to.

### Request Example
```bash
curl https://api.stripe.com/v1/subscriptions \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d customer={{CUSTOMER_ID}} \
  -d "items[0][price]"={{PRICE_ID}}
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the subscription.
- **customer** (string) - The ID of the customer associated with the subscription.
- **status** (string) - The current status of the subscription.

#### Response Example
```json
{
  "id": "sub_xyz789",
  "customer": "cus_abc123",
  "status": "active"
}
```
```

--------------------------------

### Handle Reader Software Update Start

Source: https://docs.stripe.com/terminal/quickstart

Callback method invoked when a reader begins installing a software update. UI should indicate that an update is in progress.

```Objective-C
- (void)reader:(nonnull SCPReader *)reader didStartInstallingUpdate:(SCPReaderSoftwareUpdate *)update cancelable:(nullable SCPCancelable *)cancelable {
    // Show UI communicating that a required update has started installing
}
```

--------------------------------

### Run Go Server

Source: https://docs.stripe.com/billing/quickstart

Starts the Go development server. This command compiles and runs the Go server application locally.

```bash
go run server.go
```

--------------------------------

### Create Stripe Product and Price (Ruby)

Source: https://docs.stripe.com/get-started/development-environment

Creates a new subscription product and its associated price using the Stripe Ruby SDK. It requires setting the Stripe API key and makes two API calls to Stripe.

```ruby
require 'rubygems'
require 'stripe'
Stripe.api_key = "sk_test_BQokikJOvBiI2HlWgH4olfQ2"

starter_subscription = Stripe::Product.create(
  name: 'Starter Subscription',
  description: '$12/Month subscription',
)

starter_subscription_price = Stripe::Price.create(
  currency: 'usd',
  unit_amount: 1200,
  recurring: {interval: 'month'},
  product: starter_subscription['id'],
)

puts "Success! Here is your starter subscription product id: #{starter_subscription.id}"
puts "Success! Here is your starter subscription price id: #{starter_subscription_price.id}"
```

--------------------------------

### Install Stripe.NET using NuGet CLI

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe.NET library using the NuGet Command Line Interface. This is an alternative method for adding the package to your project.

```bash
nuget install Stripe.net
```

--------------------------------

### Create Setup Intent with Bank Account Details (.NET)

Source: https://docs.stripe.com/treasury/examples/moving-money

.NET code example for creating a Stripe SetupIntent. It includes setting up the Stripe client, defining parameters for payment method, confirmation, and mandate data, and associating it with a connected account.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys

// Placeholder for .NET implementation. The Stripe .NET SDK would be used here.
// Example structure would involve:
// var service = new SetupIntentService();
// var options = new SetupIntentCreateOptions
// {
//     // ... parameters similar to other examples ...
// };
// options.StripeAccount = "{{CONNECTEDACCOUNT_ID}}";
// var setupIntent = service.Create(options);
```

--------------------------------

### Go Example

Source: https://docs.stripe.com/products-prices/pricing-models

Example of creating a yearly price using the Stripe Go library.

```APIDOC
## Go SDK

### Description
Create a yearly price using the Stripe Go SDK. This example shows the basic structure for setting the API key and parameters.

### Code
```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<YOUR_SECRET_KEY>"

params := &stripe.PriceParams{
	Product: stripe.String("{{PRODUCT_ID}}"),
	UnitAmount: stripe.Int64(10000),
	Currency: stripe.String("usd"),
	Recurring: &stripe.PriceRecurringParams{
		Interval: stripe.String("year"),
	},
}

// Price, err := stripe.NewPrice(params)
```

### Parameters
- **Product** (*string) - The ID of the product.
- **UnitAmount** (*int64) - The price in cents.
- **Currency** (*string) - The currency code.
- **Recurring** (*stripe.PriceRecurringParams) - Structure for recurring billing details.
  - **Interval** (*string) - The billing frequency (e.g., 'year').
```

--------------------------------

### Install Go Dependencies

Source: https://docs.stripe.com/payments/quickstart

Installs Go dependencies for the Stripe Go SDK. This command fetches the specified version of the stripe-go library.

```bash
go get github.com/stripe/stripe-go/v82

```

--------------------------------

### Create Stripe SetupIntent (Java with Client)

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

Creates a Stripe SetupIntent using the Java SDK with `StripeClient`. Sets the API key, builds parameters, and uses `RequestOptions` for the connected account. Note the `.v1()` for SDK versions 29.4.0 or lower.

```java
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

SetupIntentCreateParams params = 
  SetupIntentCreateParams.builder()
    .setPaymentMethod("{{PAYMENTMETHOD_ID}}")
    .build();

RequestOptions requestOptions = 
  RequestOptions.builder().setStripeAccount("{{CONNECTEDACCOUNT_ID}}").build();
// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.

SetupIntent setupIntent = client.v1().setupIntents().create(params, requestOptions);
```

--------------------------------

### Install Stripe Python SDK

Source: https://docs.stripe.com/get-started/development-environment

Command to install or upgrade the Stripe Python SDK from PyPi.

```bash
pip3 install --upgrade stripe
```

--------------------------------

### Capture Stripe Issuing Authorization (Node.js)

Source: https://docs.stripe.com/issuing/testing

Captures an Stripe Issuing authorization using the Stripe Node.js SDK. Ensure you have installed the stripe package.

```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const authorization = await stripe.testHelpers.issuing.authorizations.capture(
  '{{ISSUINGAUTHORIZATION_ID}}'
);
```

--------------------------------

### Install Client Dependencies (Node.js)

Source: https://docs.stripe.com/checkout/quickstart

Installs the necessary Node.js packages for the client application.

```shell
npm install
```

--------------------------------

### Create Stripe Subscription (.NET)

Source: https://docs.stripe.com/products-prices/pricing-models

This .NET example shows how to create a Stripe subscription. It involves setting the API key globally and then using `SubscriptionService` with `SubscriptionCreateOptions` to define the customer and items.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new SubscriptionCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    Items = new List<SubscriptionItemOptions>
    {
        new SubscriptionItemOptions
        {
            Price = "{{FLAT_MONTHLY_FEE_PRICE_ID}}",
            Quantity = 1,
        },
        new SubscriptionItemOptions { Price = "{{METERED_USAGE_PRICE_ID}}" },
    },
};
var service = new SubscriptionService();
Subscription subscription = service.Create(options);
```

--------------------------------

### Run .NET Server

Source: https://docs.stripe.com/billing/quickstart

Executes the .NET application. This command starts the local server for development and testing.

```bash
dotnet run
```

--------------------------------

### Cancel Subscription at End of Period

Source: https://docs.stripe.com/billing/subscriptions/cancel

This section provides examples for updating a subscription to cancel at the end of the current billing period.

```APIDOC
## POST /v1/subscriptions/{subscription_id}

### Description
Updates a subscription to be canceled at the end of the current billing period.

### Method
POST

### Endpoint
/v1/subscriptions/:subscription_id

### Parameters
#### Path Parameters
- **subscription_id** (string) - Required - The ID of the subscription to update.

#### Query Parameters
None

#### Request Body
- **cancel_at_period_end** (boolean) - Required - Set to `true` to cancel the subscription at the end of the current billing period.

### Request Example (cURL)
```bash
curl https://api.stripe.com/v1/subscriptions/{{SUBSCRIPTION_ID}} \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d cancel_at_period_end=true
```

### Request Example (Stripe CLI)
```bash
stripe subscriptions update {{SUBSCRIPTION_ID}} \
  --cancel-at-period-end=true
```

### Request Example (Ruby)
```ruby
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

subscription = Stripe::Subscription.update(
  '{{SUBSCRIPTION_ID}}',
  {cancel_at_period_end: true},
)
```

### Response
#### Success Response (200)
- **id** (string) - The ID of the updated subscription.
- **cancel_at_period_end** (boolean) - Indicates if the subscription is scheduled for cancellation at the end of the period.

### Response Example
```json
{
  "id": "sub_12345abcde",
  "cancel_at_period_end": true
}
```
```

--------------------------------

### Create Stripe Price with Client (Go)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Creates a Stripe price using a StripeClient in Go. This example shows how to initialize the client with your secret key and then define the parameters for the price creation, including product data and recurring usage details. Ensure your secret key is securely managed.

```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.PriceCreateParams{
  Currency: stripe.String(stripe.CurrencyUSD),
  UnitAmount: stripe.Int64(4),
  BillingScheme: stripe.String(stripe.PriceBillingSchemePerUnit),
  TransformQuantity: &stripe.PriceCreateTransformQuantityParams{
    DivideBy: stripe.Int64(100),
    Round: stripe.String(stripe.PriceTransformQuantityRoundUp),
  },

```

--------------------------------

### Stripe Checkout Session Creation

Source: https://docs.stripe.com/checkout/fulfillment

Example of creating a Stripe Checkout session with a success URL, illustrating the client-side setup.

```APIDOC
## POST /v1/checkout/sessions

### Description
Creates a Stripe Checkout session with specified options, including a success URL for redirecting customers after a successful checkout.

### Method
POST

### Endpoint
/v1/checkout/sessions

### Parameters
#### Request Body
- **line_items** (array) - Required - Details of the items being purchased.
- **mode** (string) - Required - The mode of the Checkout session (e.g., 'payment', 'subscription').
- **success_url** (string) - Required - The URL to redirect customers to after a successful payment.

### Request Example
```csharp
var options = new SessionCreateOptions
{
    LineItems = new List<SessionLineItemOptions>
    {
        new SessionLineItemOptions
        {
            Price = "<<PRICE_ID>>",
            Quantity = 1,
        },
    },
    Mode = "payment",
    SuccessUrl = "https://example.com/after-checkout?session_id={CHECKOUT_SESSION_ID}",
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Checkout.Sessions;
Stripe.Checkout.Session session = service.Create(options);
```

### Response
#### Success Response (200)
- **id** (string) - The ID of the created Checkout session.
- **url** (string) - The URL to redirect the customer to for checkout.

#### Response Example
```json
{
  "id": "cs_test_abc123",
  "url": "https://checkout.stripe.com/pay/cs_test_abc123"
}
```
```

--------------------------------

### Create Subscription using Stripe Java SDK

Source: https://docs.stripe.com/products-prices/pricing-models

Provides an example of creating a subscription using the Stripe Java SDK. It demonstrates using `SubscriptionCreateParams` to define customer and item details, including price and quantity.

```java
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

SubscriptionCreateParams params = 
  SubscriptionCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addItem(
      SubscriptionCreateParams.Item.builder()
        .setPrice("{{per_seat_price_id}}")
        .setQuantity(12L)
        .build()
    )
    .build();

Subscription subscription = Subscription.create(params);
```

```java
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

SubscriptionCreateParams params =
  SubscriptionCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addItem(
      SubscriptionCreateParams.Item.builder()
        .setPrice("{{per_seat_price_id}}")
        .setQuantity(12L)
        .build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Subscription subscription = client.v1().subscriptions().create(params);
```

--------------------------------

### Install Stripe.net Library with dotnet CLI

Source: https://docs.stripe.com/billing/quickstart

Installs the Stripe.net library using the .NET CLI command.

```bash
dotnet add package Stripe.net
```

--------------------------------

### Create Stripe Top-up for Carbon Removal (Node.js)

Source: https://docs.stripe.com/climate/orders/quickstart

This Node.js example shows how to create a Stripe top-up for a carbon removal product. It fetches the product details, calculates the amount, and then creates a top-up with associated metadata. This requires the 'stripe' npm package and Stripe API keys.

```javascript
const stripe = require('stripe')(process.env.STRIPE_SECRET_KEY);
export default async function handler(req, res) {
    const currency = 'usd';

    const {data: products} = await stripe.climate.products.list();

    // Select which product you want to order
    const product = products.find((product) => product.id === 'climsku_frontier_offtake_portfolio_2027');

    // Calculate the total amount based on the number of tons
    const amount = 1.0 * product.current_prices_per_metric_ton[currency].amount_total;
    // Create a top-up
    await stripe.topups.create({
      amount,
      currency,
      metadata: {
        climate_product: product.id
      },
    });

    res.redirect(303, req.headers.origin + '?success=true');
```

--------------------------------

### Run Python Flask Server for Webhooks

Source: https://docs.stripe.com/webhooks/quickstart

Starts a Python Flask server to listen for Stripe webhook events. Requires Python, Flask, and a `server.py` file.

```bash
python3 -m flask --app server run --port=4242
```

--------------------------------

### Update Subscription (Prevent Cancellation)

Source: https://docs.stripe.com/billing/subscriptions/cancel

This section shows how to prevent a subscription from canceling at the end of its current period. It provides examples for various SDKs.

```APIDOC
## POST /v1/subscriptions/:subscription_id

### Description
Updates an existing subscription, including preventing a pending cancellation.

### Method
POST

### Endpoint
/v1/subscriptions/:subscription_id

### Parameters
#### Path Parameters
- **subscription_id** (string) - Required - The ID of the subscription to update.

#### Request Body
- **cancel_at_period_end** (boolean) - Optional - Set to `false` to prevent a pending cancellation.

### Request Example
```json
{
  "cancel_at_period_end": false
}
```

### Response
#### Success Response (200)
- **id** (string) - The ID of the updated subscription.
- **cancel_at_period_end** (boolean) - Indicates if the subscription is set to cancel at period end.

#### Response Example
```json
{
  "id": "sub_{{SUBSCRIPTION_ID}}",
  "cancel_at_period_end": false
}
```
```

--------------------------------

### Create Stripe Invoice Preview (Python, PHP, Java, Node.js, Go, .NET)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Demonstrates how to create a preview of an invoice for a given subscription using the Stripe API. This functionality is available across multiple SDKs. Note that for older SDK versions, '.v1' might need to be removed from the client call.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
# For SDK versions 12.4.0 or lower, remove '.v1' from the following line.
invoice = client.v1.invoices.create_preview({
  "subscription": "{{SUBSCRIPTION_ID}}",
})
```

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$invoice = $stripe->invoices->createPreview([
  'subscription' => '{{SUBSCRIPTION_ID}}',
]);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

InvoiceCreatePreviewParams params = 
  InvoiceCreatePreviewParams.builder()
    .setSubscription("{{SUBSCRIPTION_ID}}")
    .build();

Invoice invoice = Invoice.createPreview(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

InvoiceCreatePreviewParams params = 
  InvoiceCreatePreviewParams.builder()
    .setSubscription("{{SUBSCRIPTION_ID}}")
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Invoice invoice = client.v1().invoices().createPreview(params);
```

```node
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const invoice = await stripe.invoices.createPreview({
  subscription: '{{SUBSCRIPTION_ID}}',
});
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.InvoiceCreatePreviewParams{
  Subscription: stripe.String("{{SUBSCRIPTION_ID}}"),
}
result, err := invoice.CreatePreview(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.InvoiceCreatePreviewParams{
  Subscription: stripe.String("{{SUBSCRIPTION_ID}}"),
}
result, err := sc.V1Invoices.CreatePreview(context.TODO(), params)
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new InvoiceCreatePreviewOptions
{
    Subscription = "{{SUBSCRIPTION_ID}}",
};
var service = new InvoiceService();
Invoice invoice = service.CreatePreview(options);
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new InvoiceCreatePreviewOptions
{
    Subscription = "{{SUBSCRIPTION_ID}}",
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Invoices;
Invoice invoice = service.CreatePreview(options);
```

--------------------------------

### Start .NET Server

Source: https://docs.stripe.com/terminal/quickstart

Commands to restore .NET project dependencies and run the application.

```bash
dotnet restore
dotnet run
```

--------------------------------

### Create Product using Stripe API (Python, Node.js, PHP, Java, Go, .NET, Ruby)

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates how to create a product using the Stripe API. This snippet is available in multiple languages, allowing developers to integrate product creation into their applications. It requires setting the Stripe API key and providing product details like the name.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

product = stripe.Product.create({"name": "Alpaca AI tokens"})

```

```node
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const product = await stripe.products.create({
  name: 'Alpaca AI tokens',
});

```

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$product = $stripe->products->create(['name' => 'Alpaca AI tokens']);

```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

ProductCreateParams params = 
  ProductCreateParams.builder().setName("Alpaca AI tokens").build();

Product product = Product.create(params);

```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

ProductCreateParams params = 
  ProductCreateParams.builder().setName("Alpaca AI tokens").build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Product product = client.v1().products().create(params);

```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.ProductParams{Name: stripe.String("Alpaca AI tokens")}
result, err := product.New(params)

```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.ProductCreateParams{Name: stripe.String("Alpaca AI tokens")}
result, err := sc.V1Products.Create(context.TODO(), params)

```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new ProductCreateOptions { Name = "Alpaca AI tokens" };
var service = new ProductService();
Product product = service.Create(options);

```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new ProductCreateOptions { Name = "Alpaca AI tokens" };
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Products;
Product product = service.Create(options);

```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

product = Stripe::Product.create({"name": "Alpaca AI tokens"})

```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

product = client.v1.products.create({"name": "Alpaca AI tokens"})

```

--------------------------------

### Create Stripe Price (Go)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Creates a Stripe price using the Go Stripe SDK. This example demonstrates setting the Stripe API key and then constructing the parameters for a new price, including currency, unit amount, and recurring settings. The resulting price object and any errors are returned.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.PriceParams{
  Currency: stripe.String(stripe.CurrencyUSD),
  UnitAmount: stripe.Int64(4),
  BillingScheme: stripe.String(stripe.PriceBillingSchemePerUnit),
  TransformQuantity: &stripe.PriceTransformQuantityParams{
    DivideBy: stripe.Int64(100),
    Round: stripe.String(stripe.PriceTransformQuantityRoundUp),
  },
  Recurring: &stripe.PriceRecurringParams{
    UsageType: stripe.String(stripe.PriceRecurringUsageTypeMetered),
    Interval: stripe.String(stripe.PriceRecurringIntervalMonth),
    Meter: stripe.String("{{METER_ID}}"),
  },
  ProductData: &stripe.PriceProductDataParams{Name: stripe.String("Alpaca AI tokens")},
}
result, err := price.New(params)
```

--------------------------------

### Production Build and Run (Node.js)

Source: https://docs.stripe.com/checkout/quickstart

Builds the Node.js application for production and then starts the production server.

```shell
$ npm install

$ npm build

$ npm start
```

--------------------------------

### Create PaymentIntent with Crypto (Python)

Source: https://docs.stripe.com/payments/accept-stablecoin-payments

Example of creating a PaymentIntent using the Stripe Python SDK, specifying amount, currency, and crypto as a payment method type. Requires the Stripe library to be installed.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
from flask import Flask, jsonify
app = Flask(__name__)

@app.route('/secret')
def secret():
  intent = # ... Create or retrieve the PaymentIntent
  return jsonify(client_secret=intent.client_secret)
```

--------------------------------

### Clone JavaScript Example App

Source: https://docs.stripe.com/terminal/example-applications

Clones the Stripe Terminal JavaScript example application repository from GitHub.

```bash
git clone https://github.com/stripe/stripe-terminal-js-demo.git
```

--------------------------------

### Run Node.js Server

Source: https://docs.stripe.com/billing/quickstart

Starts the Node.js development server. This command typically opens a browser window to a specific local URL for testing.

```bash
npm start
```

--------------------------------

### Install Stripe.net Library with NuGet

Source: https://docs.stripe.com/billing/quickstart

Installs the Stripe.net library using the NuGet Package Manager.

```bash
Install-Package Stripe.net
```

--------------------------------

### Create Stripe Subscription (Go)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Creates a new Stripe subscription using the Stripe Go SDK. Requires setting the API key and providing customer and price IDs. This example uses the subscription package.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import (
	"context"
	stripe "github.com/stripe/stripe-go/v79"
	"github.com/stripe/stripe-go/v79/subscription"
)

stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SubscriptionParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Items: []*stripe.SubscriptionItemsParams{
    &stripe.SubscriptionItemsParams{Price: stripe.String("{{PRICE_ID}}")},
  },
}
result, err := subscription.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import (
	"context"
	stripe "github.com/stripe/stripe-go/v79"
	"github.com/stripe/stripe-go/v79/client"
)

sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SubscriptionCreateParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Items: []*stripe.SubscriptionCreateItemParams{
    &stripe.SubscriptionCreateItemParams{Price: stripe.String("{{PRICE_ID}}")},
  },
}
result, err := sc.V1Subscriptions.Create(context.TODO(), params)
```

--------------------------------

### Create a Stripe Product and Price in PHP

Source: https://docs.stripe.com/get-started/development-environment

This PHP script demonstrates creating a subscription product and its associated price using the Stripe SDK. It requires the Composer autoloader and a Stripe API key for sandbox environment.

```php
<?php
require_once('vendor/autoload.php');

$stripe = new \Stripe\StripeClient("sk_test_BQokikJOvBiI2HlWgH4olfQ2");

$product = $stripe->products->create([
  'name' => 'Starter Subscription',
  'description' => '$12/Month subscription',
]);
echo "Success! Here is your starter subscription product id: " . $product->id . "\n";

$price = $stripe->prices->create([
  'unit_amount' => 1200,
  'currency' => 'usd',
  'recurring' => ['interval' => 'month'],
  'product' => $product['id'],
]);
echo "Success! Here is your starter subscription price id: " . $price->id . "\n";

?>
```

--------------------------------

### Stripe Issuing Card Created Webhook Event

Source: https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments

Example JSON payload for the 'issuing_card.created' webhook event, showing details of a newly created Stripe Issuing Card.

```json
{
  "id": "ic_1NvPjF2SSJdH5vn2OVbE7r0b",
  "object": "issuing.card",
  "brand": "Visa",
  ...
  "status": "inactive",
  "type": "virtual"
}
```

--------------------------------

### Create Stripe Product and Price (Java)

Source: https://docs.stripe.com/get-started/development-environment

This Java code snippet demonstrates how to create a product and its associated price using the Stripe Java SDK. It requires the Stripe API key and outputs the IDs of the created product and price.

```java
package com.stripe.sample;

import com.stripe.Stripe;
import com.stripe.exception.StripeException;
import com.stripe.model.Product;
import com.stripe.param.ProductCreateParams;
import com.stripe.param.PriceCreateParams;
import com.stripe.model.Price;

public class Server {
    public static void main(String[] args) throws StripeException {
        Stripe.apiKey = "sk_test_BQokikJOvBiI2HlWgH4olfQ2";


        ProductCreateParams productParams =
            ProductCreateParams.builder()
                .setName("Starter Subscription")
                .setDescription("$12/Month subscription")
                .build();
        Product product = Product.create(productParams);
        System.out.println("Success! Here is your starter subscription product id: " + product.getId());

        PriceCreateParams params =
            PriceCreateParams
                .builder()
                .setProduct(product.getId())
                .setCurrency("usd")
                .setUnitAmount(1200L)
                .setRecurring(
                    PriceCreateParams.Recurring
                        .builder()
                        .setInterval(PriceCreateParams.Recurring.Interval.MONTH)
                        .build())
                .build();
        Price price = Price.create(params);
        System.out.println("Success! Here is your starter subscription price id: " + price.getId());
    }
}
```

--------------------------------

### Update Subscription (Set Cancel Date)

Source: https://docs.stripe.com/billing/subscriptions/cancel

This section demonstrates how to set a specific future date for a subscription to be canceled. It provides examples for various languages and tools.

```APIDOC
## POST /v1/subscriptions/:subscription_id

### Description
Updates an existing subscription to cancel at a specific future timestamp.

### Method
POST

### Endpoint
/v1/subscriptions/:subscription_id

### Parameters
#### Path Parameters
- **subscription_id** (string) - Required - The ID of the subscription to update.

#### Request Body
- **cancel_at** (integer) - Required - A future timestamp in seconds at which to cancel the subscription.

### Request Example
```json
{
  "cancel_at": 1723766400
}
```

### Response
#### Success Response (200)
- **id** (string) - The ID of the updated subscription.
- **cancel_at** (integer) - The timestamp at which the subscription will be canceled.

#### Response Example
```json
{
  "id": "sub_{{SUBSCRIPTION_ID}}",
  "cancel_at": 1723766400
}
```
```

--------------------------------

### Create Stripe Account Link (Go)

Source: https://docs.stripe.com/connect/hosted-onboarding

Demonstrates creating a Stripe account link with the Go SDK. It requires setting the API key and preparing account link parameters, including collection options for onboarding.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.AccountLinkParams{
  Account: stripe.String("{{CONNECTEDACCOUNT_ID}}"),
  RefreshURL: stripe.String("https://example.com/refresh"),
  ReturnURL: stripe.String("https://example.com/return"),
  Type: stripe.String("account_onboarding"),
  CollectionOptions: &stripe.AccountLinkCollectionOptionsParams{
    Fields: stripe.String("eventually_due"),
  },
}
result, err := accountlink.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.AccountLinkCreateParams{
  Account: stripe.String("{{CONNECTEDACCOUNT_ID}}"),
  RefreshURL: stripe.String("https://example.com/refresh"),
  ReturnURL: stripe.String("https://example.com/return"),
  Type: stripe.String("account_onboarding"),
  CollectionOptions: &stripe.AccountLinkCreateCollectionOptionsParams{
    Fields: stripe.String("eventually_due"),
  },
}
result, err := sc.V1AccountLinks.Create(context.TODO(), params)
```

--------------------------------

### Create Payout in Python (Stripe SDK < 12.4.0)

Source: https://docs.stripe.com/payouts

Creates a payout using the Stripe Python SDK. Requires the SDK to be installed. This example is for versions 12.4.0 or lower, where '.v1' is omitted.

```python
payout = client.v1.payouts.create({"amount": 5000, "currency": "usd"})
```

--------------------------------

### Clone Android Example App

Source: https://docs.stripe.com/terminal/example-applications

Clones the Stripe Terminal Android example application repository from GitHub.

```bash
git clone https://github.com/stripe/stripe-terminal-android.git
```

--------------------------------

### Create Verification Session (Ruby)

Source: https://docs.stripe.com/identity/verify-identity-documents

This snippet demonstrates how to create a VerificationSession using the Stripe Ruby library. It mirrors the Node.js example, showing the server-side setup for initiating a document verification.

```APIDOC
## POST /v1/identity/verification_sessions

### Description
Creates a VerificationSession for identity verification. This endpoint is intended for server-side use to securely create verification requests.

### Method
POST

### Endpoint
/v1/identity/verification_sessions

### Parameters
#### Request Body
- **type** (string) - Required - The type of verification to request. For document uploads, use 'document'.
- **provided_details** (object) - Optional - Details about the user to be verified.
  - **email** (string) - Optional - The email address of the user.
- **metadata** (object) - Optional - Key-value pairs to store additional information with the session.
  - **user_id** (string) - Optional - A reference to the user in your system.

### Request Example
```ruby
Stripe::Identity::VerificationSession.create({
  type: 'document',
  provided_details: {
    email: 'user@example.com'
  },
  metadata: {
    user_id: '{{USER_ID}}'
  }
})
```

### Response
#### Success Response (200)
- **client_secret** (string) - The client secret for the VerificationSession, used to initialize the Stripe.js SDK on the client-side.
- **id** (string) - The unique identifier for the VerificationSession.

#### Response Example
```ruby
# Assuming the response object is stored in 'verification_session'
verification_session.client_secret
verification_session.id
```
```

--------------------------------

### Create Product for Usage-Based Pricing (API)

Source: https://docs.stripe.com/products-prices/pricing-models

This section demonstrates how to create a product in Stripe using the API, which will serve as the base for setting up usage-based pricing. It shows examples in cURL, Stripe CLI, Ruby, and Python.

```APIDOC
## POST /v1/products

### Description
Creates a new product in Stripe. This is the first step in setting up usage-based pricing, where you define the core offering for your service.

### Method
POST

### Endpoint
https://api.stripe.com/v1/products

### Parameters
#### Request Body
- **name** (string) - Required - The name of the product. For example, 'Alpaca AI tokens'.

### Request Example
```json
{
  "name": "Alpaca AI tokens"
}
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the created product.
- **object** (string) - The type of object, 'product'.
- **name** (string) - The name of the product.

#### Response Example
```json
{
  "id": "prod_12345",
  "object": "product",
  "name": "Alpaca AI tokens"
}
```

### Code Examples

**cURL:**
```bash
curl https://api.stripe.com/v1/products \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d name="Alpaca AI tokens"
```

**Stripe CLI:**
```bash
stripe products create  \
  --name="Alpaca AI tokens"
```

**Ruby:**
```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

product = Stripe::Product.create({name: 'Alpaca AI tokens'})
```

**Python:**
```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

product = stripe.Product.create(name="Alpaca AI tokens")
```
```

--------------------------------

### Capture Stripe Issuing Authorization (Java)

Source: https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments

Illustrates how to capture an issuing authorization using the Stripe Java SDK. This example shows retrieving the authorization resource and then capturing it with parameters.

```java
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

Authorization resource = Authorization.retrieve("{{ISSUINGAUTHORIZATION_ID}}");

AuthorizationCaptureParams params = AuthorizationCaptureParams.builder().build();

Authorization authorization = resource.getTestHelpers().capture(params);
```

```java
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

AuthorizationCaptureParams params = AuthorizationCaptureParams.builder().build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Authorization authorization =
  client.v1().testHelpers().issuing().authorizations().capture(
    "{{ISSUINGAUTHORIZATION_ID}}",
    params
  );
```

--------------------------------

### Clone iOS Example App

Source: https://docs.stripe.com/terminal/example-applications

Clones the Stripe Terminal iOS example application repository from GitHub.

```bash
git clone https://github.com/stripe/stripe-terminal-ios.git
```

--------------------------------

### Create Tiered Metered Price (Go)

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates how to create a Stripe price with metered, graduated tiers using the Stripe Go library. This example shows the correct structure for setting tiered pricing and recurring metered billing. Ensure your Stripe API key is initialized.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.PriceParams{
  Nickname: stripe.String("Per-minute pricing"),
  Tiers: []*stripe.PriceTierParams{
    &stripe.PriceTierParams{UnitAmount: stripe.Int64(700), UpTo: stripe.Int64(5)},
    &stripe.PriceTierParams{UnitAmount: stripe.Int64(650), UpTo: stripe.Int64(10)},
    &stripe.PriceTierParams{UnitAmount: stripe.Int64(600), UpToInf: stripe.String("inf")},
  },
  Currency: stripe.String(stripe.CurrencyUSD),
  Recurring: &stripe.PriceRecurringParams{
    Interval: stripe.String(stripe.PriceRecurringIntervalMonth),
    UsageType: stripe.String(stripe.PriceRecurringUsageTypeMetered),
  },

```

--------------------------------

### Dotnet Example

Source: https://docs.stripe.com/products-prices/pricing-models

Example of creating a yearly price using the Stripe .NET SDK.

```APIDOC
## Dotnet SDK

### Description
Create a yearly price using the Stripe .NET SDK. Ensure you replace `<<YOUR_SECRET_KEY>>` with your actual secret key and `{{PRODUCT_ID}}` with your product ID.

### Code
```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new PriceCreateOptions
{
    Product = "{{PRODUCT_ID}}",
    UnitAmount = 10000,
    Currency = "usd",
    Recurring = new PriceRecurringOptions { Interval = "year" },
};

var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Prices;
Price price = service.Create(options);
```

### Parameters
- **Product** (string) - The ID of the product.
- **UnitAmount** (long) - The price in cents.
- **Currency** (string) - The currency code.
- **Recurring.Interval** (string) - The billing frequency (e.g., 'year').
```

--------------------------------

### Create Stripe Billing Meter (Python)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Example of creating a billing meter using the Stripe Python SDK. This involves initializing the Stripe client and calling the meters create method with meter details.

```python
# For SDK versions 12.4.0 or lower, remove '.v1' from the following line.
meter = client.v1.billing.meters.create({
  "display_name": "Alpaca AI tokens",
  "event_name": "alpaca_ai_tokens",
  "default_aggregation": {"formula": "sum"},
  "customer_mapping": {"event_payload_key": "stripe_customer_id", "type": "by_id"},
  "value_settings": {"event_payload_key": "value"},
})
```

--------------------------------

### Create Stripe Subscription (.NET, Client)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a Stripe subscription using the .NET SDK with a StripeClient. This approach initializes a client and uses its V1 API endpoint for subscription creation.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new SubscriptionCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    Items = new List<SubscriptionItemOptions>
    {
        new SubscriptionItemOptions { Price = "{{RECURRING_PRICE_ID}}" },
    },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Subscriptions;
Subscription subscription = service.Create(options);
```

--------------------------------

### Create Subscription using Stripe Ruby SDK

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates creating a subscription with the Stripe Ruby SDK. Requires the Stripe Ruby gem and a secret key. It allows specifying customer, price, and quantity for the subscription.

```ruby
Stripe.api_key = '<YOUR_SECRET_KEY>'

subscription = Stripe::Subscription.create({
  customer: '{{CUSTOMER_ID}}',
  items: [
    {
      price: '{{per_seat_price_id}}',
      quantity: 12,
    },
  ],
})
```

```ruby
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

subscription = client.v1.subscriptions.create({
  customer: '{{CUSTOMER_ID}}',
  items: [
    {
      price: '{{per_seat_price_id}}',
      quantity: 12,
    },
  ],
})
```

--------------------------------

### Create Subscription using Stripe Python SDK

Source: https://docs.stripe.com/products-prices/pricing-models

Illustrates creating a subscription with the Stripe Python SDK. Requires the Stripe Python library and a secret key. This example shows how to add items with specified price and quantity.

```python
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

subscription = stripe.Subscription.create(
  customer="{{CUSTOMER_ID}}",
  items=[{"price": "{{per_seat_price_id}}", "quantity": 12}],
)
```

```python
client = StripeClient("<<YOUR_SECRET_KEY>>")

# For SDK versions 12.4.0 or lower, remove '.v1' from the following line.
subscription = client.v1.subscriptions.create({
  "customer": "{{CUSTOMER_ID}}",
  "items": [{"price": "{{per_seat_price_id}}", "quantity": 12}],
})
```

--------------------------------

### Handle Reader Reconnection Events (Swift)

Source: https://docs.stripe.com/terminal/references/sdk-migration-guide

Implements the ReconnectionDelegate protocol in Swift to handle reader reconnection events. It includes methods to be notified when reconnection starts, succeeds, or fails.

```swift
import StripeTerminal

extension ReaderViewController: ReconnectionDelegate {
    // MARK: ReconnectionDelegate
    func terminal(_ terminal: Terminal, didStartReaderReconnect cancelable: Cancelable) {
        // 1. Notified at the start of a reconnection attempt
        // Use cancelable to stop reconnection at any time
    }

    func terminalDidSucceedReaderReconnect(_ terminal: Terminal) {
        // 2. Notified when reader reconnection succeeds
        // App is now connected
    }
    func terminalDidFailReaderReconnect(_ terminal: Terminal) {
        // 3. Notified when reader reconnection fails
        // App is now disconnected
    }
}
```

--------------------------------

### Create Stripe Setup Intent (Go - Client)

Source: https://docs.stripe.com/payments/setup-intents

Creates a Stripe Setup Intent with 'on_session' usage using a StripeClient in Go. Requires initializing the client with the secret key.

```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SetupIntentCreateParams{
  Usage: stripe.String(stripe.SetupIntentUsageOnSession),
}
result, err := sc.V1SetupIntents.Create(context.TODO(), params)
```

--------------------------------

### Create Stripe Price - PHP

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates how to create a Stripe price using the PHP SDK. Ensure the Stripe PHP library is installed and your secret key is configured. The code sets up price details including product, currency, and recurring billing information.

```php
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$price = $stripe->prices->create([
  'product' => '{{PRODUCT_ID}}',
  'currency' => 'usd',
  'unit_amount' => 20000,
  'billing_scheme' => 'per_unit',
  'recurring' => [
    'usage_type' => 'licensed',
    'interval' => 'month',
  ],
]);
```

--------------------------------

### Run Ruby Server

Source: https://docs.stripe.com/billing/quickstart

Starts the Ruby development server. This command is used to run the server locally for testing Stripe integrations.

```bash
ruby server.rb
```

--------------------------------

### Get Stripe Payment Intent Client Secret (.NET)

Source: https://docs.stripe.com/payments/accept-stablecoin-payments

This C# example shows an ASP.NET Core controller action that returns a Stripe PaymentIntent's client secret as JSON.

```csharp
using System;
using Microsoft.AspNetCore.Mvc;
using Stripe;

namespace StripeExampleApi.Controllers
{
  [Route("secret")]
  [ApiController]
  public class CheckoutApiController : Controller
  {
    [HttpGet]
    public ActionResult Get()
    {
      var intent = // ... Fetch or create the PaymentIntent
      return Json(new {client_secret = intent.ClientSecret});
    }
  }
}
```

--------------------------------

### Create a Stripe Product

Source: https://docs.stripe.com/get-started/development-environment

Creates a new product in your Stripe account using the CLI. Requires the 'stripe login' command to be executed first for authentication. The command takes product name and description as arguments.

```bash
stripe products create \
--name="My First Product" \
--description="Created with the Stripe CLI"
```

--------------------------------

### Create Setup Intent with Mandate Data (Java)

Source: https://docs.stripe.com/treasury/examples/moving-money

Java code for creating a Stripe SetupIntent. This example includes setting confirmation, mandate data (customer acceptance type and online details), and associating it with a connected Stripe account.

```java
SetupIntentCreateParams params = SetupIntentCreateParams.builder()
    .setConfirm(true)
    .setMandateData(
      SetupIntentCreateParams.MandateData.builder()
        .setCustomerAcceptance(
          SetupIntentCreateParams.MandateData.CustomerAcceptance.builder()
            .setType(SetupIntentCreateParams.MandateData.CustomerAcceptance.Type.ONLINE)
            .setOnline(
              SetupIntentCreateParams.MandateData.CustomerAcceptance.Online.builder()
                .setIpAddress("123.123.123.123")
                .setUserAgent("curl/1.2.3")
                .build()
            )
            .build()
        )
        .build()
    )
    .build();

RequestOptions requestOptions = RequestOptions.builder().setStripeAccount("{{CONNECTEDACCOUNT_ID}}").build();
// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.

SetupIntent setupIntent = client.v1().setupIntents().create(params, requestOptions);
```

--------------------------------

### Install Stripe Node.js SDK via npm

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe Node.js library using npm and saves it as a project dependency. Requires Node.js and npm to be installed.

```bash
npm install stripe --save
```

--------------------------------

### Create Subscription using Stripe PHP SDK

Source: https://docs.stripe.com/products-prices/pricing-models

Shows how to create a subscription using the Stripe PHP SDK. This example uses the StripeClient and specifies customer and item details including price and quantity.

```php
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$subscription = $stripe->subscriptions->create([
  'customer' => '{{CUSTOMER_ID}}',
  'items' => [
    [
      'price' => '{{per_seat_price_id}}',
      'quantity' => 12,
    ],
  ],
]);
```

--------------------------------

### POST /v1/products

Source: https://docs.stripe.com/products-prices/pricing-models

Create a new product in Stripe. This allows you to define a service or item that can be sold.

```APIDOC
## POST /v1/products

### Description
Create a new product in Stripe. This allows you to define a service or item that can be sold.

### Method
POST

### Endpoint
https://api.stripe.com/v1/products

### Parameters
#### Request Body
- **name** (string) - Required - The name of the product.

### Request Example
```bash
curl https://api.stripe.com/v1/products \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d name=Basic
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the created product.
- **name** (string) - The name of the product.

#### Response Example
```json
{
  "id": "prod_12345",
  "name": "Basic"
}
```
```

--------------------------------

### Create Stripe Meter

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Examples demonstrating how to create a meter for tracking usage events using the Stripe API in C#.

```APIDOC
## Create Stripe Meter

### Description
This endpoint allows you to create a meter to track usage events for billing purposes. It specifies how events are aggregated, how customers are mapped, and how values are extracted from event payloads.

### Method
POST

### Endpoint
`/v1/billing/meters`

### Parameters
#### Request Body
- **displayName** (string) - Required - The name of the meter.
- **eventName** (string) - Required - The name of the event that will be tracked.
- **defaultAggregation** (object) - Optional - Default aggregation settings for the meter.
  - **formula** (string) - Required - The aggregation formula (e.g., "sum").
- **customerMapping** (object) - Required - How to map events to customers.
  - **eventPayloadKey** (string) - Required - The key in the event payload containing the customer identifier.
  - **type** (string) - Required - The type of mapping (e.g., "by_id").
- **valueSettings** (object) - Required - How to extract the value from the event payload.
  - **eventPayloadKey** (string) - Required - The key in the event payload containing the value.

### Request Example
```json
{
  "displayName": "Alpaca AI tokens",
  "eventName": "alpaca_ai_tokens",
  "defaultAggregation": {
    "formula": "sum"
  },
  "customerMapping": {
    "eventPayloadKey": "stripe_customer_id",
    "type": "by_id"
  },
  "valueSettings": {
    "eventPayloadKey": "value"
  }
}
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the created meter.
- **displayName** (string) - The display name of the meter.
- **eventName** (string) - The name of the event.
- **defaultAggregation** (object) - Default aggregation settings.
- **customerMapping** (object) - Customer mapping settings.
- **valueSettings** (object) - Value settings.

#### Response Example
```json
{
  "id": "meter_abc123",
  "displayName": "Alpaca AI tokens",
  "eventName": "alpaca_ai_tokens",
  "defaultAggregation": {
    "formula": "sum"
  },
  "customerMapping": {
    "eventPayloadKey": "stripe_customer_id",
    "type": "by_id"
  },
  "valueSettings": {
    "eventPayloadKey": "value"
  }
}
```
```

--------------------------------

### Initialize Stripe with Beta Feature in React

Source: https://docs.stripe.com/payments/checkout/custom-shipping-options

This example demonstrates how to initialize Stripe.js within a React application using the `@stripe/stripe-js` and `@stripe/react-stripe-js` libraries. It enables the 'custom_checkout_server_updates_1' beta feature. Ensure you have installed the necessary packages.

```bash
npm install --save @stripe/react-stripe-js@^3.6.0 @stripe/stripe-js@^7.0.0
```

```javascript
import {loadStripe} from '@stripe/stripe-js';
const stripe = loadStripe("<<YOUR_PUBLISHABLE_KEY>>", {
  betas: ['custom_checkout_server_updates_1'],
});
```

--------------------------------

### Update Subscription Item

Source: https://docs.stripe.com/billing/subscriptions/change-price

This section details how to update an existing subscription item to a new price. It covers various SDK implementations and provides an example for cURL and Stripe CLI.

```APIDOC
## POST /v1/subscriptions/{subscription_id}

### Description
Updates an existing subscription by modifying its items, including changing the price of a specific item.

### Method
POST

### Endpoint
/v1/subscriptions/{subscription_id}

### Parameters
#### Path Parameters
- **subscription_id** (string) - Required - The ID of the subscription to update.

#### Request Body
- **items** (array) - Required - An array of subscription item objects.
  - **id** (string) - Required - The ID of the subscription item to update.
  - **price** (string) - Required - The ID of the new price to associate with the subscription item.

### Request Example
```json
{
  "items": [
    {
      "id": "{{SUB_ITEM_ID}}",
      "price": "{{NEW_PRICE_ID}}"
    }
  ]
}
```

### Response
#### Success Response (200)
- **subscription** (object) - The updated subscription object.

#### Response Example
```json
{
  "id": "sub_xxxxxxxxx",
  "object": "subscription",
  "items": {
    "object": "list",
    "data": [
      {
        "id": "{{SUB_ITEM_ID}}",
        "object": "subscription_item",
        "price": {
          "id": "{{NEW_PRICE_ID}}",
          "currency": "usd",
          "unit_amount": 2000
        }
      }
    ]
  }
}
```

### Error Handling
- **400 Bad Request**: Invalid parameters provided.
- **404 Not Found**: Subscription or item not found.
```

--------------------------------

### Clone React Native Example App

Source: https://docs.stripe.com/terminal/example-applications

Clones the Stripe Terminal React Native example application repository from GitHub.

```bash
git clone https://github.com/stripe/stripe-terminal-react-native.git
```

--------------------------------

### Capture Stripe Issuing Authorization (.NET)

Source: https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments

Offers .NET code examples for capturing Stripe issuing authorizations. It shows capturing using the AuthorizationService and also via the StripeClient with versioned endpoints.

```csharp
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var service = new Stripe.TestHelpers.Issuing.AuthorizationService();
Stripe.Issuing.Authorization authorization = service.Capture(
    "{{ISSUINGAUTHORIZATION_ID}}");
```

```csharp
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.TestHelpers.Issuing.Authorizations;
Stripe.Issuing.Authorization authorization = service.Capture(
    "{{ISSUINGAUTHORIZATION_ID}}");
```

--------------------------------

### Create Stripe Product via CLI

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a new product in Stripe using the Stripe command-line interface. This command requires the product name and uses the configured Stripe API key.

```cli
stripe products create  \
  --name="Alpaca AI tokens"
```

--------------------------------

### Update Stripe Subscription Item (Go)

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates a Stripe subscription item with a new price. This example demonstrates using `stripe.String` for pointers and passing subscription update parameters.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SubscriptionParams{
  Items: []*stripe.SubscriptionItemsParams{
    &stripe.SubscriptionItemsParams{
      ID: stripe.String("{{SUB_ITEM_ID}}"),
      Price: stripe.String("{{NEW_PRICE_ID}}"),
    },
  },
}
result, err := subscription.Update("sub_xxxxxxxxx", params)
```

--------------------------------

### Create Stripe Account with Go

Source: https://docs.stripe.com/connect/account-capabilities

Demonstrates how to create a Stripe account using the Go SDK. It includes setting up the Stripe client, defining account parameters like controller settings, country, and capabilities, and making the API call.

```Go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.AccountCreateParams{
  Controller: &stripe.AccountCreateControllerParams{
    Fees: &stripe.AccountCreateControllerFeesParams{
      Payer: stripe.String(stripe.AccountControllerFeesPayerApplication),
    },
    Losses: &stripe.AccountCreateControllerLossesParams{
      Payments: stripe.String(stripe.AccountControllerLossesPaymentsApplication),
    },
    StripeDashboard: &stripe.AccountCreateControllerStripeDashboardParams{
      Type: stripe.String(stripe.AccountControllerStripeDashboardTypeNone),
    },
    RequirementCollection: stripe.String(stripe.AccountControllerRequirementCollectionApplication),
  },
  Country: stripe.String("US"),
  Capabilities: &stripe.AccountCreateCapabilitiesParams{
    CardPayments: &stripe.AccountCreateCapabilitiesCardPaymentsParams{
      Requested: stripe.Bool(true),
    },
    Transfers: &stripe.AccountCreateCapabilitiesTransfersParams{
      Requested: stripe.Bool(true),
    },
  },
}
result, err := sc.V1Accounts.Create(context.TODO(), params)
```

--------------------------------

### Install PHP Dependencies

Source: https://docs.stripe.com/billing/quickstart

Installs PHP project dependencies using Composer.

```bash
composer install
```

--------------------------------

### Capture Stripe Issuing Authorization (Go)

Source: https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments

Provides Go code examples for capturing Stripe issuing authorizations. It demonstrates two ways to achieve this: directly using the authorization capture method or via the client with versioned endpoints.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.TestHelpersIssuingAuthorizationCaptureParams{}
result, err := authorization.Capture("{{ISSUINGAUTHORIZATION_ID}}", params)
```

```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.TestHelpersIssuingAuthorizationCaptureParams{
  Authorization: stripe.String("{{ISSUINGAUTHORIZATION_ID}}"),
}
result, err := sc.V1TestHelpersIssuingAuthorizations.Capture(context.TODO(), params)
```

--------------------------------

### Update Stripe Subscription Item (Java)

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates a Stripe subscription by modifying an existing item's price. This example uses the `SubscriptionUpdateParams` builder for constructing the update parameters.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

Subscription resource = Subscription.retrieve("sub_xxxxxxxxx");

SubscriptionUpdateParams params = 
  SubscriptionUpdateParams.builder()
    .addItem(
      SubscriptionUpdateParams.Item.builder()
        .setId("{{SUB_ITEM_ID}}")
        .setPrice("{{NEW_PRICE_ID}}")
        .build()
    )
    .build();

Subscription subscription = resource.update(params);
```

--------------------------------

### Create Stripe Issuing Cardholder in Go

Source: https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments

Creates an issuing cardholder using the Stripe Go SDK. This example shows how to set the API key and use the `issuing.CardholderParams` struct to define cardholder information.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.IssuingCardholderParams{
  Name: stripe.String("Company Card"),
  Email: stripe.String("company@example.com"),
  PhoneNumber: stripe.String("+18008675309"),
  Status: stripe.String(stripe.IssuingCardholderStatusActive),
  Type: stripe.String(stripe.IssuingCardholderTypeCompany),
  Billing: &stripe.IssuingCardholderBillingParams{
    Address: &stripe.AddressParams{
      Line1: stripe.String("123 Main Street"),
      City: stripe.String("San Francisco"),
      State: stripe.String("CA"),
      PostalCode: stripe.String("94111"),
      Country: stripe.String("US"),
    },
  },
}
result, err := cardholder.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.IssuingCardholderCreateParams{
  Name: stripe.String("Company Card"),
  Email: stripe.String("company@example.com"),
  PhoneNumber: stripe.String("+18008675309"),
  Status: stripe.String(stripe.IssuingCardholderStatusActive),
  Type: stripe.String(stripe.IssuingCardholderTypeCompany),
  Billing: &stripe.IssuingCardholderCreateBillingParams{
    Address: &stripe.AddressParams{

```

--------------------------------

### Create Stripe Financial Account (.NET)

Source: https://docs.stripe.com/treasury/account-management/testing-financial-account-integration

Provides the initial setup for creating a Stripe Financial Account using the .NET SDK. This snippet shows how to set the API key and start defining the account creation options.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new Stripe.Treasury.FinancialAccountCreateOptions
{

```

--------------------------------

### Install Ruby Dependencies

Source: https://docs.stripe.com/billing/quickstart

Installs Ruby project dependencies using Bundler.

```bash
bundle install
```

--------------------------------

### Install Stripe PHP SDK using Composer

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe PHP library using Composer, a dependency manager for PHP. The installation automatically adds the library as a dependency in the project's composer.json file.

```bash
composer require stripe/stripe-php
```

```json
{
    "require": {
        "stripe/stripe-php": "^17.0.0"
    }
}
```

```php
require_once('vendor/autoload.php');
```

--------------------------------

### Python Example

Source: https://docs.stripe.com/products-prices/pricing-models

Example of creating a yearly price using the Stripe Python library.

```APIDOC
## Python SDK

### Description
Create a yearly price using the Stripe Python SDK. Ensure your API key is set correctly.

### Code
```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<YOUR_SECRET_KEY>"

price = stripe.Price.create(
  product="{{PRODUCT_ID}}",
  unit_amount=10000,
  currency="usd",
  recurring={"interval": "year"},
)
```

### Parameters
- **product** (string) - The ID of the product.
- **unit_amount** (integer) - The price in cents.
- **currency** (string) - The currency code.
- **recurring** (dict) - Contains recurring billing details.
  - **interval** (string) - The billing frequency (e.g., 'year').
```

--------------------------------

### Create Payment Intent - PHP

Source: https://docs.stripe.com/payments/payment-methods/integration-options

This example demonstrates creating a PaymentIntent with the Stripe PHP SDK. Ensure you have the Stripe PHP library installed and replace '<<YOUR_SECRET_KEY>>' with your actual secret key. The output is a PaymentIntent object.

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$paymentIntent = $stripe->paymentIntents->create([
  'amount' => 1099,
  'currency' => 'eur',
  'payment_method_types' => ['bancontact', 'card', 'eps', 'ideal', 'p24', 'sepa_debit'],
]);
```

--------------------------------

### List Stripe Customers by Email (Stripe CLI)

Source: https://docs.stripe.com/invoicing/customer

This example shows how to list Stripe customers by email address using the Stripe command-line interface (CLI). Ensure you have the Stripe CLI installed and configured with your API key.

```cli
stripe customers list  \
  --email={EMAIL_ADDRESS}
```

--------------------------------

### Retrieve SetupIntent in Go

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Retrieve a SetupIntent object using its ID in Go. This code demonstrates using the Stripe Go SDK, setting the API key, and then calling the `Get` method on the `setupintent` or `V1SetupIntents` service.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SetupIntentParams{}
result, err := setupintent.Get("seti_1EzVO3HssDVaQm2PJjXHmLlM", params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SetupIntentRetrieveParams{
  Intent: stripe.String("seti_1EzVO3HssDVaQm2PJjXHmLlM"),
}
result, err := sc.V1SetupIntents.Retrieve(context.TODO(), params)
```

--------------------------------

### Ruby Example

Source: https://docs.stripe.com/products-prices/pricing-models

Example of creating a yearly price using the Stripe Ruby library.

```APIDOC
## Ruby SDK

### Description
Create a yearly price using the Stripe Ruby SDK. Remember to set your secret API key.

### Code
```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<YOUR_SECRET_KEY>'

price = Stripe::Price.create({
  product: '{{PRODUCT_ID}}',
  unit_amount: 10000,
  currency: 'usd',
  recurring: {interval: 'year'},
})
```

### Parameters
- **product** (string) - The ID of the product.
- **unit_amount** (integer) - The price in cents.
- **currency** (string) - The currency code.
- **recurring** (object) - Contains recurring billing details.
  - **interval** (string) - The billing frequency (e.g., 'year').
```

--------------------------------

### Create Meter Event with Go SDK

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Demonstrates creating a billing meter event using the Go Stripe SDK. It shows two variations: one using the global Stripe key and another using a Stripe client instance.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.BillingMeterEventParams{
  EventName: stripe.String("alpaca_ai_tokens"),
  Payload: map[string]string{"stripe_customer_id": "{{CUSTOMER_ID}}", "value": "25"},
}
result, err := meterevent.New(params)
```

```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.BillingMeterEventCreateParams{
  EventName: stripe.String("alpaca_ai_tokens"),
  Payload: map[string]string{"stripe_customer_id": "{{CUSTOMER_ID}}", "value": "25"},
}
result, err := sc.V1BillingMeterEvents.Create(context.TODO(), params)
```

--------------------------------

### Update Stripe Subscription with Python

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates a Stripe subscription using the Python client library. This example shows how to modify a subscription to use a new price and reset its usage data.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

subscription = stripe.Subscription.modify(
  "sub_xxxxxxxxx",
  items=[{"id": "{{SUB_ITEM_ID}}", "price": "{{NEW_PRICE_ID}}", "clear_usage": True}],
)
```

--------------------------------

### Create Stripe Product and Price with Node.js SDK

Source: https://docs.stripe.com/get-started/development-environment

A Node.js script that uses the Stripe SDK to create a product and then attach a recurring price to it. It demonstrates asynchronous operations using Promises.

```node
const stripe = require('stripe')('sk_test_BQokikJOvBiI2HlWgH4olfQ2');

stripe.products.create({
  name: 'Starter Subscription',
  description: '$12/Month subscription',
}).then(product => {
  stripe.prices.create({
    unit_amount: 1200,
    currency: 'usd',
    recurring: {
      interval: 'month',
    },
    product: product.id,
  }).then(price => {
    console.log('Success! Here is your starter subscription product id: ' + product.id);
    console.log('Success! Here is your starter subscription price id: ' + price.id);
  });
});
```

--------------------------------

### Create Stripe Checkout Session for Carbon Removal (Node.js)

Source: https://docs.stripe.com/climate/orders/quickstart

This Node.js example demonstrates how to create a Stripe Checkout session for a carbon removal order. It fetches climate products, calculates the amount, creates a Stripe product, and then initiates a Checkout session with success and cancel URLs. It requires the 'stripe' npm package and Stripe API keys.

```javascript
const stripe = require('stripe')(process.env.STRIPE_SECRET_KEY);
export default async function handler(req, res) {
    const currency = 'usd';

    const {data: products} = await stripe.climate.products.list();

    // Select which carbon removal product you want to order
    const climateProduct = products.find((p) => p.id === 'climsku_frontier_offtake_portfolio_2027');

    // Calculate the total amount based on the number of tons
    const unit_amount = 1.0 * climateProduct.current_prices_per_metric_ton[currency].amount_total;
    // Look up a product in your database or create a new one
    const product = await stripe.products.create({
      name: climateProduct.name,
    });

    // Create Checkout Sessions from body params.
    const session = await stripe.checkout.sessions.create({
      line_items: [
        {
          price_data: {
            unit_amount,
            currency,
            product: product.id,
          },
          quantity: 1,
        },
      ],
      mode: 'payment',
      metadata: {
        climate_product: climateProduct.id
      },
      success_url: `${req.headers.origin}?success=true`,
      cancel_url: `${req.headers.origin}?canceled=true`,
    });
    res.redirect(303, session.url);
```

--------------------------------

### Create Payment Intent - Node.js

Source: https://docs.stripe.com/payments/payment-methods/integration-options

This Node.js example shows how to create a PaymentIntent using the Stripe Node.js SDK. It requires installing the `stripe` package and configuring your secret key. The asynchronous function returns a PaymentIntent object.

```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const paymentIntent = await stripe.paymentIntents.create({
  amount: 1099,
  currency: 'eur',
  payment_method_types: ['bancontact', 'card', 'eps', 'ideal', 'p24', 'sepa_debit'],
});
```

--------------------------------

### Stripe CLI Example

Source: https://docs.stripe.com/products-prices/pricing-models

Command-line interface command to create a yearly price for a product.

```APIDOC
## Stripe CLI

### Description
Use the Stripe CLI to create a yearly price for a product directly from your terminal.

### Command
```bash
stripe prices create \
  --product="{{PRODUCT_ID}}" \
  --unit-amount=10000 \
  --currency=usd \
  --recurring.interval=year
```

### Parameters
- **product** (string) - The ID of the product.
- **unit-amount** (integer) - The price in cents.
- **currency** (string) - The currency code.
- **recurring.interval** (string) - The billing frequency (e.g., 'year').
```

--------------------------------

### Go Payment Intent and Form Setup

Source: https://docs.stripe.com/payments/save-during-payment

Provides a Go example for setting up an HTTP server to handle '/checkout' requests. It demonstrates fetching a PaymentIntent and passing its client secret to an HTML template for the payment form.

```go
package main

import (
  "html/template"
  "net/http"

  stripe "github.com/stripe/stripe-go/v76.0.0"
)

type CheckoutData struct {
  ClientSecret string
}

func main() {
  checkoutTmpl := template.Must(template.ParseFiles("views/checkout.html"))

  http.HandleFunc("/checkout", func(w http.ResponseWriter, r *http.Request) {
    intent := // ... Fetch or create the PaymentIntent
    data := CheckoutData{
      ClientSecret: intent.ClientSecret,
    }
    checkoutTmpl.Execute(w, data)
  })

  http.ListenAndServe(":3000", nil)
}
```

```html
<form id="payment-form" data-secret="{{ .ClientSecret }}">
  <div id="payment-element">
    <!-- placeholder for Elements -->
  </div>
  <button id="submit">Submit</button>
</form>
```

--------------------------------

### Update Stripe Subscription Item Price (Go - Legacy)

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates a Stripe subscription item with a new price using the Go Stripe library. This example uses a legacy approach for updating.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SubscriptionItemParams{Price: stripe.String("{{NEW_PRICE_ID}}")}
result, err := subscriptionitem.Update("si_xxxxxxxxx", params)
```

--------------------------------

### PHP Example

Source: https://docs.stripe.com/products-prices/pricing-models

Example of creating a yearly price using the Stripe PHP library.

```APIDOC
## PHP SDK

### Description
Create a yearly price using the Stripe PHP SDK. Make sure to initialize the Stripe client with your secret key.

### Code
```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<YOUR_SECRET_KEY>');

$price = $stripe->prices->create([
  'product' => '{{PRODUCT_ID}}',
  'unit_amount' => 10000,
  'currency' => 'usd',
  'recurring' => ['interval' => 'year'],
]);
```

### Parameters
- **product** (string) - The ID of the product.
- **unit_amount** (integer) - The price in cents.
- **currency** (string) - The currency code.
- **recurring** (array) - Contains recurring billing details.
  - **interval** (string) - The billing frequency (e.g., 'year').
```

--------------------------------

### Update Subscription (cURL)

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates an existing Stripe subscription by specifying the subscription ID, item ID, and the new price ID. This command-line example uses cURL to interact with the Stripe API.

```bash
curl https://api.stripe.com/v1/subscriptions/sub_xxxxxxxxx \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d "items[0][id]"={{SUB_ITEM_ID}} \
  -d "items[0][price]"={{NEW_PRICE_ID}}
```

--------------------------------

### Java Example

Source: https://docs.stripe.com/products-prices/pricing-models

Example of creating a yearly price using the Stripe Java library.

```APIDOC
## Java SDK

### Description
Create a yearly price using the Stripe Java SDK. This example demonstrates how to build the price creation parameters.

### Code
```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<YOUR_SECRET_KEY>";

PriceCreateParams params = 
  PriceCreateParams.builder()
    .setProduct("{{PRODUCT_ID}}")
    .setUnitAmount(10000L)
    .setCurrency("usd")
    .setRecurring(
      PriceCreateParams.Recurring.builder()
        .setInterval(PriceCreateParams.Recurring.Interval.YEAR)
        .build()
    )
    .build();

Price price = Price.create(params);
```

### Parameters
- **product** (string) - The ID of the product.
- **unitAmount** (long) - The price in cents.
- **currency** (string) - The currency code.
- **recurring** (PriceCreateParams.Recurring) - Object for recurring billing details.
  - **interval** (PriceCreateParams.Recurring.Interval) - The billing frequency (e.g., YEAR).
```

--------------------------------

### Create Stripe Setup Intent

Source: https://docs.stripe.com/financial-connections/ownership

Create a Stripe SetupIntent for customer payment method collection. This is a common operation across various Stripe SDKs. Ensure you have the Stripe library installed and your API key configured.

```python
client.v1.setup_intents.create({
  "customer": "{{CUSTOMER_ID}}",
  "payment_method_types": ["us_bank_account"],
  "payment_method_options": {
    "us_bank_account": {
      "financial_connections": {"permissions": ["ownership", "payment_method"]},
    },
  },
})
```

```php
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$setupIntent = $stripe->setupIntents->create([
  'customer' => '{{CUSTOMER_ID}}',
  'payment_method_types' => ['us_bank_account'],
  'payment_method_options' => [
    'us_bank_account' => [
      'financial_connections' => ['permissions' => ['ownership', 'payment_method']],
    ],
  ],
]);
```

```java
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

SetupIntentCreateParams params =
  SetupIntentCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addPaymentMethodType("us_bank_account")
    .setPaymentMethodOptions(
      SetupIntentCreateParams.PaymentMethodOptions.builder()
        .setUsBankAccount(
          SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.builder()
            .setFinancialConnections(
              SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.builder()
                .addPermission(
                  SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.Permission.OWNERSHIP
                )
                .addPermission(
                  SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.Permission.PAYMENT_METHOD
                )
                .build()
            )
            .build()
        )
        .build()
    )
    .build();

SetupIntent setupIntent = SetupIntent.create(params);
```

```java_client
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

SetupIntentCreateParams params =
  SetupIntentCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addPaymentMethodType("us_bank_account")
    .setPaymentMethodOptions(
      SetupIntentCreateParams.PaymentMethodOptions.builder()
        .setUsBankAccount(
          SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.builder()
            .setFinancialConnections(
              SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.builder()
                .addPermission(
                  SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.Permission.OWNERSHIP
                )
                .addPermission(
                  SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.Permission.PAYMENT_METHOD
                )
                .build()
            )
            .build()
        )
        .build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
SetupIntent setupIntent = client.v1().setupIntents().create(params);
```

```node
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const setupIntent = await stripe.setupIntents.create({
  customer: '{{CUSTOMER_ID}}',
  payment_method_types: ['us_bank_account'],
  payment_method_options: {
    us_bank_account: {
      financial_connections: {
        permissions: ['ownership', 'payment_method'],
      },
    },
  },
});
```

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SetupIntentParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  PaymentMethodTypes: []*string{stripe.String("us_bank_account")},
  PaymentMethodOptions: &stripe.SetupIntentPaymentMethodOptionsParams{
    USBankAccount: &stripe.SetupIntentPaymentMethodOptionsUSBankAccountParams{
      FinancialConnections: &stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsParams{
        Permissions: []*string{
          stripe.String(stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsPermissionOwnership),
          stripe.String(stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsPermissionPaymentMethod),
        },
      },
    },
  },
}
result, err := setupintent.New(params)
```

--------------------------------

### Create Stripe Issuing Cardholder in PHP

Source: https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments

Creates an issuing cardholder using the Stripe PHP SDK. Ensure your Stripe secret key is correctly set. This example includes all necessary cardholder and billing information.

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$cardholder = $stripe->issuing->cardholders->create([
  'name' => 'Company Card',
  'email' => 'company@example.com',
  'phone_number' => '+18008675309',
  'status' => 'active',
  'type' => 'company',
  'billing' => [
    'address' => [
      'line1' => '123 Main Street',
      'city' => 'San Francisco',
      'state' => 'CA',
      'postal_code' => '94111',
      'country' => 'US',
    ],
  ],
]);
```

--------------------------------

### Run React Native Example App

Source: https://docs.stripe.com/terminal/example-applications

Builds and runs the Stripe Terminal React Native example application for Android and iOS using Expo.

```bash
# android
npx expo run:android
### ios
npx expo run:ios
```

--------------------------------

### Build Java Project

Source: https://docs.stripe.com/billing/quickstart

Builds a Java project using Maven.

```bash
mvn package
```

--------------------------------

### Node.js Example

Source: https://docs.stripe.com/products-prices/pricing-models

Example of creating a yearly price using the Stripe Node.js library.

```APIDOC
## Node.js SDK

### Description
Create a yearly price using the Stripe Node.js SDK. This asynchronous example shows how to call the prices create method.

### Code
```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<YOUR_SECRET_KEY>');

const price = await stripe.prices.create({
  product: '{{PRODUCT_ID}}',
  unit_amount: 10000,
  currency: 'usd',
  recurring: {
    interval: 'year',
  },
});
```

### Parameters
- **product** (string) - The ID of the product.
- **unit_amount** (integer) - The price in cents.
- **currency** (string) - The currency code.
- **recurring** (object) - Contains recurring billing details.
  - **interval** (string) - The billing frequency (e.g., 'year').
```

--------------------------------

### Install Stripe CLI with Scoop

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe CLI using the Scoop package manager for Windows. This involves adding the Stripe CLI scoop bucket and then installing the CLI.

```bash
scoop bucket add stripe https://github.com/stripe/scoop-stripe-cli.git
```

```bash
scoop install stripe
```

--------------------------------

### Install Stripe JavaScript Libraries

Source: https://docs.stripe.com/billing/quickstart

Installs necessary Stripe JavaScript libraries for web integration using npm.

```bash
npm install --save stripe @stripe/stripe-js next
```

--------------------------------

### Run Python Server

Source: https://docs.stripe.com/billing/quickstart

Starts the Python development server using Flask. This command launches the server on a specified port for local testing.

```bash
python3 -m flask run --port=4242
```

--------------------------------

### Install Stripe CLI on Debian/Ubuntu

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe CLI on Debian and Ubuntu-based systems. It involves adding the Stripe GPG key and repository, updating the package list, and then installing the package.

```bash
curl -s https://packages.stripe.dev/api/security/keypair/stripe-cli-gpg/public | gpg --dearmor | sudo tee /usr/share/keyrings/stripe.gpg
```

```bash
echo "deb [signed-by=/usr/share/keyrings/stripe.gpg] https://packages.stripe.dev/stripe-cli-debian-local stable main" | sudo tee -a /etc/apt/sources.list.d/stripe.list
```

```bash
sudo apt update
```

```bash
sudo apt install stripe
```

--------------------------------

### .NET Payment Intent and Form Setup

Source: https://docs.stripe.com/payments/save-during-payment

Demonstrates a C# example for an ASP.NET Core controller handling a checkout request. It shows how to retrieve a PaymentIntent and pass its client secret to the view using ViewData.

```csharp
using System;
using Microsoft.AspNetCore.Mvc;
using Stripe;

namespace StripeExampleApi.Controllers
{
  [Route("/[controller]")]
  public class CheckoutApiController : Controller
  {
    public IActionResult Index()
    {
      var intent = // ... Fetch or create the PaymentIntent
      ViewData["ClientSecret"] = intent.ClientSecret;
      return View();
    }
  }
}
```

```html
<form id="payment-form" data-secret="@ViewData["ClientSecret"]">
  <div id="payment-element">
    <!-- placeholder for Elements -->
  </div>
  <button id="submit">Submit</button>
</form>
```

--------------------------------

### Create Subscription in Python

Source: https://docs.stripe.com/products-prices/pricing-models

Shows how to create a subscription using the Stripe Python library. It requires setting the API key and then calling the subscription creation method with customer and price details.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

subscription = stripe.Subscription.create(
  customer="{{CUSTOMER_ID}}",
  items=[{"price": "{{RECURRING_PRICE_ID}}"}],
)
```

--------------------------------

### Create Subscription

Source: https://docs.stripe.com/products-prices/pricing-models

Examples of creating a Stripe subscription with a specified quantity for per-seat charging.

```APIDOC
## POST /v1/subscriptions

### Description
Creates a new subscription for a customer, specifying the price and quantity for items.

### Method
POST

### Endpoint
/v1/subscriptions

### Parameters
#### Request Body
- **customer** (string) - Required - The ID of the customer to subscribe.
- **items** (array) - Required - A list of subscription items, each specifying a price and quantity.
  - **price** (string) - Required - The ID of the price for this item.
  - **quantity** (integer) - Required - The quantity of the item to charge for.

### Request Example (cURL)
```curl
curl https://api.stripe.com/v1/subscriptions \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d customer="{{CUSTOMER_ID}}" \
  -d "items[0][price]"={{per_seat_price_id}} \
  -d "items[0][quantity]"=12
```

### Request Example (Ruby)
```ruby
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

subscription = Stripe::Subscription.create({
  customer: '{{CUSTOMER_ID}}',
  items: [
    {
      price: '{{per_seat_price_id}}',
      quantity: 12,
    },
  ],
})
```

### Request Example (Python)
```python
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

subscription = stripe.Subscription.create(
  customer="{{CUSTOMER_ID}}",
  items=[{"price": "{{per_seat_price_id}}", "quantity": 12}],
)
```

### Request Example (PHP)
```php
$stripe = new StripeStripeClient('<<YOUR_SECRET_KEY>>');

$subscription = $stripe->subscriptions->create([
  'customer' => '{{CUSTOMER_ID}}',
  'items' => [
    [
      'price' => '{{per_seat_price_id}}',
      'quantity' => 12,
    ],
  ],
]);
```

### Request Example (Java)
```java
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

SubscriptionCreateParams params = SubscriptionCreateParams.builder()
  .setCustomer("{{CUSTOMER_ID}}")
  .addItem(
    SubscriptionCreateParams.Item.builder()
      .setPrice("{{per_seat_price_id}}")
      .setQuantity(12L)
      .build()
  )
  .build();

Subscription subscription = Subscription.create(params);
```

### Request Example (Node.js)
```javascript
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const subscription = await stripe.subscriptions.create({
  customer: '{{CUSTOMER_ID}}',
  items: [
    {
      price: '{{per_seat_price_id}}',
      quantity: 12,
    },
  ],
});
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the subscription.
- **customer** (string) - The ID of the customer associated with the subscription.
- **status** (string) - The current status of the subscription.
- **items** (object) - The subscription items, including price and quantity.

#### Response Example
```json
{
  "id": "sub_xyz789",
  "customer": "cus_abc123",
  "status": "active",
  "items": {
    "data": [
      {
        "price": {
          "id": "price_12345",
          "recurring": {
            "interval": "month"
          }
        },
        "quantity": 12
      }
    ]
  }
}
```
```

--------------------------------

### Create Stripe Subscription (PHP)

Source: https://docs.stripe.com/products-prices/pricing-models

This example demonstrates creating a Stripe subscription using the PHP SDK. It requires setting your Stripe secret key and then using the `subscriptions->create` method with customer and item details.

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$subscription = $stripe->subscriptions->create([
  'customer' => '{{CUSTOMER_ID}}',
  'items' => [
    [
      'price' => '{{FLAT_MONTHLY_FEE_PRICE_ID}}',
      'quantity' => 1,
    ],
    ['price' => '{{METERED_USAGE_PRICE_ID}}'],
  ],
]);
```

--------------------------------

### Mount Stripe Checkout using React

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

This React example shows how to install the necessary Stripe libraries, set up the `EmbeddedCheckoutProvider` with a publishable API key, and define a function to fetch the client secret. The `EmbeddedCheckout` component is then rendered within the provider.

```bash
npm install --save @stripe/react-stripe-js @stripe/stripe-js
```

```jsx
import * as React from 'react';
import {loadStripe} from '@stripe/stripe-js';
import {
  EmbeddedCheckoutProvider,
  EmbeddedCheckout
} from '@stripe/react-stripe-js';

// Make sure to call `loadStripe` outside of a components render to avoid
// recreating the `Stripe` object on every render.
const stripePromise = loadStripe('pk_test_123');

const App = () => {
  const fetchClientSecret = useCallback(() => {
    // Create a Checkout Session
    return fetch("/create-checkout-session", {
      method: "POST",
    })
      .then((res) => res.json())
      .then((data) => data.clientSecret);
  }, []);

  const options = {fetchClientSecret};

  return (
    <div id="checkout">
      <EmbeddedCheckoutProvider
        stripe={stripePromise}
        options={options}
      >
        <EmbeddedCheckout />
      </EmbeddedCheckoutProvider>
    </div>
  )
}
```

--------------------------------

### Objective-C: Handling Reader Reconnection Events

Source: https://docs.stripe.com/terminal/references/sdk-migration-guide

This Objective-C code demonstrates how to implement the `SCPMobileReaderDelegate` protocol to handle different stages of reader reconnection attempts. It includes methods for the start of reconnection, successful reconnection, and failed reconnection.

```objc
#import "APPReaderViewController.h"
#import <StripeTerminal/StripeTerminal.h>

@interface APPReaderViewController () <SCPMobileReaderDelegate>

@end

@implementation APPReaderViewController
    #pragma mark  SCPMobileReaderDelegate

    - (void)reader:(SCPReader *)reader didStartReaderReconnect:(SCPCancelable *)cancelable disconnectReason:(SCPDisconnectReason)disconnectReason {
        // 1. Notified at the start of a reconnection attempt
        // Use cancelable to stop reconnection at any time
    }

    - (void)readerDidSucceedReconnect:(SCPReader *)reader {
        // 2. Notified when reader reconnection succeeds
        // App is now connected
    }

    - (void)readerDidFailReconnect:(SCPReader *)reader {
        // 3. Notified when reader reconnection fails
        // App is now disconnected
    }
@end
```

--------------------------------

### Update Stripe Subscription Item (Stripe CLI)

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates a Stripe subscription using the Stripe Command Line Interface. This command targets a specific subscription and modifies its items, similar to the cURL example.

```cli
stripe subscriptions update sub_xxxxxxxxx \
  -d "items[0][id]"={{SUB_ITEM_ID}} \

```

--------------------------------

### Curl Example

Source: https://docs.stripe.com/products-prices/pricing-models

Example using curl to create a yearly price.

```APIDOC
## Curl

### Description
Use curl to make a POST request to the Stripe API to create a yearly price.

### Command
```bash
curl https://api.stripe.com/v1/prices \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d product="{{PRODUCT_ID}}" \
  -d unit_amount=10000 \
  -d currency=usd \
  -d "recurring[interval]"=year
```

### Parameters
- **product** (string) - The ID of the product.
- **unit_amount** (integer) - The price in cents.
- **currency** (string) - The currency code.
- **recurring[interval]** (string) - The billing frequency (e.g., 'year').
```

--------------------------------

### Update Stripe Subscription (Go)

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates a Stripe subscription using the Stripe Go SDK. This example demonstrates setting the API key, defining subscription update parameters including item changes, and executing the update.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SubscriptionParams{
  Items: []*stripe.SubscriptionItemsParams{
    &stripe.SubscriptionItemsParams{
      ID: stripe.String("{{SUB_ITEM_ID}}"),
      Price: stripe.String("{{NEW_PRICE_ID}}"),
      ClearUsage: stripe.Bool(true),
    },
  },
}
result, err := subscription.Update("sub_xxxxxxxxx", params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SubscriptionUpdateParams{
  Items: []*stripe.SubscriptionUpdateItemParams{
    &stripe.SubscriptionUpdateItemParams{
      ID: stripe.String("{{SUB_ITEM_ID}}"),
      Price: stripe.String("{{NEW_PRICE_ID}}"),
      ClearUsage: stripe.Bool(true),
    },
  },
  SubscriptionExposedID: stripe.String("sub_xxxxxxxxx"),
}
result, err := sc.V1Subscriptions.Update(context.TODO(), params)
```

--------------------------------

### Create Invoice via Stripe CLI

Source: https://docs.stripe.com/invoicing/integration

This example shows how to create a Stripe invoice using the Stripe command-line interface (CLI). It includes parameters for the customer, collection method, and days until due. Ensure you have the Stripe CLI installed and configured.

```cli
stripe invoices create \
  --customer="{{CUSTOMER_ID}}" \
  --collection-method=send_invoice \
  --days-until-due=30
```

--------------------------------

### Create Stripe Account with Controller Settings (Python, PHP, Node.js)

Source: https://docs.stripe.com/connect/hosted-onboarding

These snippets show how to create a Stripe account with controller configurations for fees, losses, and dashboard type. They cover different SDK versions and highlight initialization with secret keys. Ensure you use the correct SDK version for your project.

```python
account = client.v1.accounts.create({
  "controller": {
    "fees": {"payer": "application"},
    "losses": {"payments": "application"},
    "stripe_dashboard": {"type": "express"},
  },
})
```

```php
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$account = $stripe->accounts->create([
  'controller' => [
    'fees' => ['payer' => 'application'],
    'losses' => ['payments' => 'application'],
    'stripe_dashboard' => ['type' => 'express'],
  ],
]);
```

```node
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const account = await stripe.accounts.create({
  controller: {
    fees: {
      payer: 'application',
    },
    losses: {
      payments: 'application',
    },
    stripe_dashboard: {
      type: 'express',
    },
  },
});
```

--------------------------------

### Create Stripe Checkout Session (Python)

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

This snippet demonstrates creating a Stripe Checkout session in setup mode using the Stripe Python client. Ensure you have the Stripe Python library installed and your secret API key configured.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

session = stripe.checkout.Session.create(
  mode="setup",
  currency="usd",
  customer="{{CUSTOMER_ID}}",
  success_url="https://example.com/success?session_id={CHECKOUT_SESSION_ID}",
)
```

--------------------------------

### Create Yearly Price (Go)

Source: https://docs.stripe.com/products-prices/pricing-models

Initializes the Stripe Go client and prepares parameters for creating a yearly price for a Stripe product. Requires the Stripe API key and product ID.

```Go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.PriceParams{

```

--------------------------------

### Create Account with Controller Options

Source: https://docs.stripe.com/connect/hosted-onboarding

This endpoint demonstrates creating a Stripe account with detailed controller options for fees, losses, and Stripe Dashboard configuration.

```APIDOC
## POST /v1/accounts

### Description
Creates a new Stripe account with custom controller configurations.

### Method
POST

### Endpoint
https://api.stripe.com/v1/accounts

### Parameters
#### Request Body
- **controller** (object) - Optional - Configuration for the account controller.
  - **fees** (object) - Optional - Fees configuration.
    - **payer** (string) - Required - Specifies who pays the fees. E.g., `application`.
  - **losses** (object) - Optional - Losses configuration.
    - **payments** (string) - Required - Specifies how losses from payments are handled. E.g., `application`.
  - **stripe_dashboard** (object) - Optional - Stripe Dashboard configuration.
    - **type** (string) - Required - The type of Stripe Dashboard. E.g., `express`.

### Request Example
```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new AccountCreateOptions
{
    Controller = new AccountControllerOptions
    {
        Fees = new AccountControllerFeesOptions { Payer = "application" },
        Losses = new AccountControllerLossesOptions { Payments = "application" },
        StripeDashboard = new AccountControllerStripeDashboardOptions
        {
            Type = "express",
        },
    },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Accounts;
Account account = service.Create(options);
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the created account.
- **object** (string) - The type of object, which is always `account`.
- **controller** (object) - The controller configuration applied to the account.
  - **fees** (object) - Fees configuration.
    - **payer** (string) - Who pays the fees.
  - **losses** (object) - Losses configuration.
    - **payments** (string) - How losses from payments are handled.
  - **stripe_dashboard** (object) - Stripe Dashboard configuration.
    - **type** (string) - The type of Stripe Dashboard.

#### Response Example
```json
{
  "id": "acct_12345",
  "object": "account",
  "controller": {
    "fees": {
      "payer": "application"
    },
    "losses": {
      "payments": "application"
    },
    "stripe_dashboard": {
      "type": "express"
    }
  }
}
```
```

--------------------------------

### Custom Reader Reconnection Logic (Before Auto-Reconnection Default - Kotlin)

Source: https://docs.stripe.com/terminal/references/sdk-migration-guide

This Kotlin code shows how to implement a `CustomReaderReconnectionListener` before auto-reconnection was enabled by default. It defines methods to handle the start, success, and failure of reader reconnection attempts.

```kotlin
class CustomReaderReconnectionListener : ReaderReconnectionListener {
    override fun onReaderReconnectStarted(reader: Reader, cancelReconnect: Cancelable, reason: DisconnectReason) {
        // 1. Notified at the start of a reconnection attempt
        // Use cancelable to stop reconnection at any time
    }

    override fun onReaderReconnectSucceeded(reader: Reader) {
        // 2. Notified when reader reconnection succeeds
        // App is now connected
    }

    override fun onReaderReconnectFailed(reader: Reader) {
        // 3. Notified when reader reconnection fails
        // App is now disconnected
    }
}

```

--------------------------------

### Install Stripe PHP Library with Composer

Source: https://docs.stripe.com/billing/quickstart

Installs the Stripe PHP library using Composer, the dependency manager for PHP.

```bash
composer require stripe/stripe-php
```

--------------------------------

### Create Stripe SetupIntent (.NET)

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

Creates a Stripe SetupIntent using the .NET SDK. Configures the API key, defines `SetupIntentCreateOptions` for the payment method, and `RequestOptions` for the connected account.

```csharp
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new SetupIntentCreateOptions
{
    PaymentMethod = "{{PAYMENTMETHOD_ID}}",
};
var requestOptions = new RequestOptions
{
    StripeAccount = "{{CONNECTEDACCOUNT_ID}}",
};
var service = new SetupIntentService();
SetupIntent setupIntent = service.Create(options, requestOptions);
```

--------------------------------

### Go: Update Stripe Subscription

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates a Stripe subscription using the Go SDK. This example demonstrates how to modify subscription items by deleting an existing one and adding a new price. Error handling is included.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SubscriptionParams{
  Items: []*stripe.SubscriptionItemsParams{
    &stripe.SubscriptionItemsParams{
      ID: stripe.String("{{SUB_ITEM_ID}}"),
      Deleted: stripe.Bool(true),
    },
    &stripe.SubscriptionItemsParams{Price: stripe.String("{{NEW_PRICE_ID}}")},
  },
}
result, err := subscription.Update("sub_xxxxxxxxx", params)
```

```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SubscriptionUpdateParams{
  Items: []*stripe.SubscriptionUpdateItemParams{
    &stripe.SubscriptionUpdateItemParams{
      ID: stripe.String("{{SUB_ITEM_ID}}"),
      Deleted: stripe.Bool(true),
    },
    &stripe.SubscriptionUpdateItemParams{Price: stripe.String("{{NEW_PRICE_ID}}")},
  },
  SubscriptionExposedID: stripe.String("sub_xxxxxxxxx"),
}
result, err := sc.V1Subscriptions.Update(context.TODO(), params)
```

--------------------------------

### Create Subscription in Ruby

Source: https://docs.stripe.com/products-prices/pricing-models

Illustrates creating a subscription in Ruby using the Stripe gem. It requires setting the API key and then creating a subscription object with customer and price IDs.

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<YOUR_SECRET_KEY>'

subscription = Stripe::Subscription.create({
  customer: '{{CUSTOMER_ID}}',
  items: [{price: '{{RECURRING_PRICE_ID}}'}],
})
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

subscription = client.v1.subscriptions.create({
  customer: '{{CUSTOMER_ID}}',
  items: [{price: '{{RECURRING_PRICE_ID}}'}],
})
```

--------------------------------

### Update Stripe Issuing Card Status to Active (Java)

Source: https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments

Enables a Stripe issuing card by setting its status to active. This example uses the Stripe Java library, requiring the API key and card ID.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

Card resource = Card.retrieve("ic_1NvPjF2SSJdH5vn2OVbE7r0b");

CardUpdateParams params =
  CardUpdateParams.builder().setStatus(CardUpdateParams.Status.ACTIVE).build();

Card card = resource.update(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

CardUpdateParams params =
  CardUpdateParams.builder().setStatus(CardUpdateParams.Status.ACTIVE).build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Card card = client.v1().issuing().cards().update("ic_1NvPjF2SSJdH5vn2OVbE7r0b", params);
```

--------------------------------

### Retrieve SetupIntent using Go

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Retrieve a SetupIntent object using the Stripe Go SDK. This involves setting the API key and then calling the retrieve method on the SetupIntent service.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import (
	"context"
	"github.com/stripe/stripe-go/v76/setupintent"
	"github.com/stripe/stripe-go/v76/stripe"
)

stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SetupIntentParams{}
result, err := setupintent.Get("seti_1EzVO3HssDVaQm2PJjXHmLlM", params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import (
	"context"
	"github.com/stripe/stripe-go/v76/setupintent"
	"github.com/stripe/stripe-go/v76/stripe"
)

sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SetupIntentRetrieveParams{
  Intent: stripe.String("seti_1EzVO3HssDVaQm2PJjXHmLlM"),
}
result, err := sc.V1SetupIntents.Retrieve(context.TODO(), params)
```

--------------------------------

### Install Stripe CLI on Windows

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe CLI on Windows by downloading a zip file from GitHub. The process involves unzipping the file and adding the executable's directory to the system's PATH environment variable.

```bash
Unzip the `stripe_X.X.X_windows_x86_64.zip` file.
Add the path to the unzipped `stripe.exe` file to your `Path` environment variable.
```

--------------------------------

### Create Stripe SetupIntent (Node.js)

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

Creates a Stripe SetupIntent using the Node.js SDK. Initializes the Stripe library with the secret key and makes the API call with payment method and connected account details.

```javascript
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const setupIntent = await stripe.setupIntents.create(
  {
    payment_method: '{{PAYMENTMETHOD_ID}}',
  },
  {
    stripeAccount: '{{CONNECTEDACCOUNT_ID}}',
  }
);
```

--------------------------------

### Manage Simultaneous DiscoverReaders Operations (Android)

Source: https://docs.stripe.com/terminal/references/sdk-migration-guide

The `Terminal.discoverReaders` method now cancels ongoing discovery operations when called again. The SDK returns a `CANCELED_DUE_TO_INTEGRATION_ERROR` if a new discovery is initiated while another is in progress, allowing the new operation to start immediately.

```java
Terminal.getInstance().discoverReaders(readerDisplay, discoverCompletionCallback);
```

```java
// If discoverReaders is called again while one is in progress:
// The previous operation is cancelled and returns CANCELED_DUE_TO_INTEGRATION_ERROR.
// The new discoverReaders operation starts immediately.
```

--------------------------------

### Create Stripe Product via Python API

Source: https://docs.stripe.com/products-prices/pricing-models

Shows how to create a product in Stripe using the Python Stripe library. This involves setting the API key and invoking the product creation function.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

product = stripe.Product.create(name="Alpaca AI tokens")
```

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = StripeClient("<<YOUR_SECRET_KEY>>")

```

--------------------------------

### General Setup Future Usage

Source: https://docs.stripe.com/api/payment_intents/create

Explanation of the `setup_future_usage` parameter for complying with SCA and network rules.

```APIDOC
## Setup Future Usage

### Description
The `setup_future_usage` parameter is used when processing card payments to comply with regional legislation and network rules like Strong Customer Authentication (SCA).

### Usage
- When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
- If youve already set `setup_future_usage` and are performing a request using a publishable key, you can only update the value from `on_session` to `off_session`.

### Possible Enum Values
- **`none`**: Use if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.
- **`off_session`**: Use if your customer may or may not be present in your checkout flow.

### Example Scenario
When creating a PaymentIntent, you can specify `setup_future_usage` in the `payment_method_options` for specific payment types:

`payment_method_options.ideal.setup_future_usage`
`payment_method_options.kakao_pay.setup_future_usage`
```

--------------------------------

### Create Stripe Subscription with Multiple Prices (Stripe CLI)

Source: https://docs.stripe.com/products-prices/pricing-models

Command-line interface example for creating a Stripe subscription with multiple price items, including one for a flat fee and another for metered usage. Requires customer and price IDs.

```bash
stripe subscriptions create  \
  --customer={{CUSTOMER_ID}} \
  -d "items[0][price]"={{FLAT_MONTHLY_FEE_PRICE_ID}} \
  -d "items[0][quantity]"=1 \
  -d "items[1][price]"={{METERED_USAGE_PRICE_ID}}
```

--------------------------------

### Create Stripe Price - Go

Source: https://docs.stripe.com/products-prices/pricing-models

Shows how to create a Stripe price using the Go SDK. This involves setting the Stripe API key and constructing a `PriceParams` or `PriceCreateParams` object. The code specifies product, currency, unit amount, and recurring details.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.PriceParams{
  Product: stripe.String("{{PRODUCT_ID}}"),
  Currency: stripe.String(stripe.CurrencyUSD),
  UnitAmount: stripe.Int64(20000),
  BillingScheme: stripe.String(stripe.PriceBillingSchemePerUnit),
  Recurring: &stripe.PriceRecurringParams{
    UsageType: stripe.String(stripe.PriceRecurringUsageTypeLicensed),
    Interval: stripe.String(stripe.PriceRecurringIntervalMonth),
  },
}
result, err := price.New(params)
```

```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.PriceCreateParams{
  Product: stripe.String("{{PRODUCT_ID}}"),
  Currency: stripe.String(stripe.CurrencyUSD),
  UnitAmount: stripe.Int64(20000),
  BillingScheme: stripe.String(stripe.PriceBillingSchemePerUnit),
  Recurring: &stripe.PriceCreateRecurringParams{
    UsageType: stripe.String(stripe.PriceRecurringUsageTypeLicensed),
    Interval: stripe.String(stripe.PriceRecurringIntervalMonth),
  },
}
result, err := sc.V1Prices.Create(context.TODO(), params)
```

--------------------------------

### Create Stripe Product and Price using Python SDK

Source: https://docs.stripe.com/get-started/development-environment

Python code to create a Stripe product and then attach a recurring monthly price to it. Requires the Stripe API key. The product and price IDs are printed to the console.

```python
import stripe
stripe.api_key = "sk_test_BQokikJOvBiI2HlWgH4olfQ2"

starter_subscription = stripe.Product.create(
  name="Starter Subscription",
  description="$12/Month subscription",
)

starter_subscription_price = stripe.Price.create(
  unit_amount=1200,
  currency="usd",
  recurring={"interval": "month"},
  product=starter_subscription['id'],
)

# Save these identifiers
print(f"Success! Here is your starter subscription product id: {starter_subscription.id}")
print(f"Success! Here is your starter subscription price id: {starter_subscription_price.id}")
```

--------------------------------

### Thin Event Handler with Fetching Related Object in Ruby

Source: https://docs.stripe.com/webhooks

This Ruby Sinatra example demonstrates a thin event handler for Stripe webhooks. It uses `fetch_related_object` to get more details for events like `V1BillingMeterErrorReportTriggeredEvent`, allowing for better error analysis.

```ruby
require "stripe"
require "sinatra"

api_key = ENV.fetch("STRIPE_API_KEY", nil)
# Retrieve the webhook secret from the environment variable
webhook_secret = ENV.fetch("WEBHOOK_SECRET", nil)

client = Stripe::StripeClient.new(api_key)

post "/webhook" do
  webhook_body = request.body.read
  sig_header = request.env["HTTP_STRIPE_SIGNATURE"]
  thin_event = client.parse_thin_event(webhook_body, sig_header, webhook_secret)

  # Fetch the event data to understand the failure
  event = client.v2.core.events.retrieve(thin_event.id)
  if event.instance_of? Stripe::V1BillingMeterErrorReportTriggeredEvent
    meter = event.fetch_related_object
    meter_id = meter.id
  end

  # Record the failures and alert your team
  # Add your logic here
  status 200
end
```

--------------------------------

### Create Stripe Setup Intent (Go - Default)

Source: https://docs.stripe.com/payments/setup-intents

Creates a Stripe Setup Intent with 'on_session' usage using the default Go Stripe SDK. Requires setting the API key globally.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SetupIntentParams{
  Usage: stripe.String(stripe.SetupIntentUsageOnSession),
}
result, err := setupintent.New(params)
```

--------------------------------

### Create Stripe Setup Intent (.NET - Client)

Source: https://docs.stripe.com/payments/setup-intents

Creates a Stripe Setup Intent with 'on_session' usage using StripeClient in .NET. Requires initializing the client with the secret key.

```csharp
var options = new SetupIntentCreateOptions { Usage = "on_session" };
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.SetupIntents;
SetupIntent setupIntent = service.Create(options);
```

--------------------------------

### Retrieve Financial Connections Account (.NET)

Source: https://docs.stripe.com/financial-connections/balances

Shows how to retrieve a Financial Connections account using the Stripe .NET SDK. This example covers setting the API key and using the AccountService to get the account details.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var service = new Stripe.FinancialConnections.AccountService();
Stripe.FinancialConnections.Account account = service.Get(
    "{{FINANCIALCONNECTIONSACCOUNT_ID}}");
```

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.FinancialConnections.Accounts;
Stripe.FinancialConnections.Account account = service.Get(
    "{{FINANCIALCONNECTIONSACCOUNT_ID}}");
```

--------------------------------

### Create Stripe Account Link (Node.js)

Source: https://docs.stripe.com/connect/hosted-onboarding

Initiates the Stripe account onboarding flow using Node.js. This example requires the Stripe Node.js library and your secret key. It details the parameters for creating the account link.

```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const accountLink = await stripe.accountLinks.create({
  account: '{{CONNECTEDACCOUNT_ID}}',
  refresh_url: 'https://example.com/refresh',
  return_url: 'https://example.com/return',
  type: 'account_onboarding',
  collection_options: {
    fields: 'eventually_due',
  },
});
```

--------------------------------

### Manually Install Stripe PHP SDK and Include Init File

Source: https://docs.stripe.com/get-started/development-environment

Manually installs the Stripe PHP SDK by downloading the latest release and including the init.php file. It also lists the required PHP extensions: cURL, JSON, and mbstring.

```php
require_once('/path/to/stripe-php/init.php');
```

--------------------------------

### Create Stripe Verification Session (Go)

Source: https://docs.stripe.com/identity/verification-sessions

Creates a Stripe identity verification session of type 'document' with user-specific metadata using the Stripe Go library. This example shows parameter setup and calling the verification session creation method.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.IdentityVerificationSessionParams{
  Type: stripe.String(stripe.IdentityVerificationSessionTypeDocument),
}
params.AddMetadata("user_id", "{{USER_ID}}")
params.AddMetadata("reference", "{{IDENTIFIER}}")
result, err := verificationsession.New(params)
```

--------------------------------

### Install Stripe Python Package with pip

Source: https://docs.stripe.com/billing/quickstart

Installs the Stripe Python package using pip, the standard package installer for Python.

```bash
pip3 install stripe
```

--------------------------------

### Create Stripe Payment Intent (Node.js)

Source: https://docs.stripe.com/financial-connections/ach-direct-debit-payments

Create a Stripe Payment Intent using the Node.js SDK. This example configures the intent for US bank account payments, including necessary financial connection permissions. Ensure the Stripe SDK is installed and your secret key is provided.

```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const paymentIntent = await stripe.paymentIntents.create({
  amount: 2000,
  currency: 'usd',
  customer: '{{CUSTOMER_ID}}',
  automatic_payment_methods': {
    enabled: true,
  },
  payment_method_options': {
    us_bank_account': {

```

--------------------------------

### Run Go Program

Source: https://docs.stripe.com/get-started/development-environment

Command to execute the Go program that creates a Stripe product and price. Ensure you are in the directory containing the saved Go file.

```bash
go run create_price.go
```

--------------------------------

### Install Stripe React Libraries

Source: https://docs.stripe.com/payments/checkout/custom-shipping-options

Install the necessary Stripe libraries for React using npm.

```APIDOC
## Install @stripe/react-stripe-js and @stripe/stripe-js

### Description
Installs the `react-stripe-js` and `stripe-js` packages from npm, which are required for integrating Stripe's React components.

### Method
Bash

### Endpoint
N/A

### Parameters
None

### Request Example
```bash
npm install --save @stripe/react-stripe-js @stripe/stripe-js
```

### Response
None
```

--------------------------------

### Run Ruby Server

Source: https://docs.stripe.com/billing/quickstart

Starts a Ruby server using the `server.rb` file, listening on all network interfaces (0.0.0.0). This is typical for Ruby web applications.

```shell
ruby server.rb -o 0.0.0.0
```

--------------------------------

### Create Setup Intent with Bank Account Details (Go - Client)

Source: https://docs.stripe.com/treasury/examples/moving-money

Go code demonstrating how to create a Stripe SetupIntent using a Stripe client instance. This includes setting up the client, defining parameters for bank account details, mandate information, and making the API call.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SetupIntentCreateParams{
  AttachToSelf: stripe.Bool(true),
  FlowDirections: []*string{
    stripe.String(stripe.SetupIntentFlowDirectionInbound),
    stripe.String(stripe.SetupIntentFlowDirectionOutbound),
  },
  PaymentMethodTypes: []*string{stripe.String("us_bank_account")},
  PaymentMethodData: &stripe.SetupIntentCreatePaymentMethodDataParams{
    Type: stripe.String("us_bank_account"),
    USBankAccount: &stripe.SetupIntentCreatePaymentMethodDataUSBankAccountParams{
      RoutingNumber: stripe.String("110000000"),
      AccountNumber: stripe.String("000123456789"),
      AccountHolderType: stripe.String("company"),
    },
    BillingDetails: &stripe.SetupIntentCreatePaymentMethodDataBillingDetailsParams{
      Name: stripe.String("Company Corp"),
    },
  },
  Confirm: stripe.Bool(true),
  MandateData: &stripe.SetupIntentCreateMandateDataParams{
    CustomerAcceptance: &stripe.SetupIntentCreateMandateDataCustomerAcceptanceParams{
      Type: stripe.String("online"),
      Online: &stripe.SetupIntentCreateMandateDataCustomerAcceptanceOnlineParams{
        IPAddress: stripe.String("123.123.123.123"),
        UserAgent: stripe.String("curl/1.2.3"),
      },
    },
  },
}
params.SetStripeAccount("{{CONNECTEDACCOUNT_ID}}")
result, err := sc.V1SetupIntents.Create(context.TODO(), params)
```

--------------------------------

### Create Stripe Invoice Preview (Java)

Source: https://docs.stripe.com/tax/subscriptions

This Java example utilizes the Stripe Java SDK to create an invoice preview. It covers API key setup, automatic tax configuration, customer tax information, and subscription item details.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

InvoiceCreatePreviewParams params =
  InvoiceCreatePreviewParams.builder()
    .setAutomaticTax(
      InvoiceCreatePreviewParams.AutomaticTax.builder().setEnabled(true).build()
    )
    .setCustomerDetails(
      InvoiceCreatePreviewParams.CustomerDetails.builder()
        .setTax(
          InvoiceCreatePreviewParams.CustomerDetails.Tax.builder()
            .setIpAddress("{{IP_ADDRESS}}")
            .build()
        )
        .build()
    )
    .setSubscriptionDetails(
      InvoiceCreatePreviewParams.SubscriptionDetails.builder()
        .addItem(
          InvoiceCreatePreviewParams.SubscriptionDetails.Item.builder()
            .setPrice("{{PRICE_ID}}")
            .build()
        )
        .build()
    )
    .build();

Invoice invoice = Invoice.createPreview(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

InvoiceCreatePreviewParams params =
  InvoiceCreatePreviewParams.builder()
    .setAutomaticTax(
      InvoiceCreatePreviewParams.AutomaticTax.builder().setEnabled(true).build()
    )
    .setCustomerDetails(
      InvoiceCreatePreviewParams.CustomerDetails.builder()
        .setTax(
          InvoiceCreatePreviewParams.CustomerDetails.Tax.builder()
            .setIpAddress("{{IP_ADDRESS}}")
            .build()
        )
        .build()
    )
    .setSubscriptionDetails(
      InvoiceCreatePreviewParams.SubscriptionDetails.builder()
        .addItem(
          InvoiceCreatePreviewParams.SubscriptionDetails.Item.builder()
            .setPrice("{{PRICE_ID}}")
            .build()
        )
        .build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Invoice invoice = client.v1().invoices().createPreview(params);
```

--------------------------------

### Install Python Dependencies

Source: https://docs.stripe.com/billing/quickstart

Installs Python project dependencies using pip.

```bash
pip3 install -r requirements.txt
```

--------------------------------

### Create Stripe Price - .NET

Source: https://docs.stripe.com/products-prices/pricing-models

Example of creating a Stripe price using the .NET SDK. Requires the Stripe.net package and setting the API key. The code defines `PriceCreateOptions` with product, currency, unit amount, and recurring parameters.

```csharp
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new PriceCreateOptions
{
    Product = "{{PRODUCT_ID}}",
    Currency = "usd",
    UnitAmount = 20000,
    BillingScheme = "per_unit",
    Recurring = new PriceRecurringOptions { UsageType = "licensed", Interval = "month" },
};
var service = new PriceService();
Price price = service.Create(options);
```

```csharp
var options = new PriceCreateOptions
{
    Product = "{{PRODUCT_ID}}",
    Currency = "usd",
    UnitAmount = 20000,
    BillingScheme = "per_unit",
    Recurring = new PriceRecurringOptions { UsageType = "licensed", Interval = "month" },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Prices;
Price price = service.Create(options);
```

--------------------------------

### Create Account Link (Upfront Onboarding)

Source: https://docs.stripe.com/connect/hosted-onboarding

Demonstrates creating an Account Link for Stripe connected accounts using upfront onboarding. This requires collecting all 'eventually_due' fields. Includes server-side examples for cURL, Stripe CLI, and Ruby.

```curl
curl https://api.stripe.com/v1/account_links \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d account="{{CONNECTEDACCOUNT_ID}}" \
  --data-urlencode refresh_url="https://example.com/refresh" \
  --data-urlencode return_url="https://example.com/return" \
  -d type=account_onboarding \
  -d "collection_options[fields]"=eventually_due
```

```stripe_cli
stripe account_links create  \
  --account="{{CONNECTEDACCOUNT_ID}}" \
  --refresh-url="https://example.com/refresh" \
  --return-url="https://example.com/return" \
  --type=account_onboarding \
  -d "collection_options[fields]"=eventually_due
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

account_link = Stripe::AccountLink.create({
  account: '{{CONNECTEDACCOUNT_ID}}',
  refresh_url: 'https://example.com/refresh',
  return_url: 'https://example.com/return',
  type: 'account_onboarding',
  collection_options: {fields: 'eventually_due'},
})
```

--------------------------------

### Run PHP Server

Source: https://docs.stripe.com/billing/quickstart

Starts the PHP development server. This command runs a local server with a specified document root for testing.

```bash
php -S 127.0.0.1:4242 --docroot=public
```

--------------------------------

### Install @stripe/connect-js

Source: https://docs.stripe.com/connect/supported-embedded-components/capital-financing

Installs the beta version of the Stripe Connect.js library for enabling private preview components.

```bash
npm install --save @stripe/connect-js@preview
```

--------------------------------

### Custom Reader Reconnection Logic (Before Auto-Reconnection Default - Java)

Source: https://docs.stripe.com/terminal/references/sdk-migration-guide

This Java code demonstrates implementing a `CustomReaderReconnectionListener` prior to the default enablement of auto-reconnection. It outlines the methods for managing reader reconnection events, including start, success, and failure notifications.

```java
public class CustomReaderReconnectionListener implements ReaderReconnectionListener {
    @Override
    public void onReaderReconnectStarted(@NotNull Reader reader, @NotNull Cancelable cancelReconnect, @NotNull DisconnectReason reason) {
        // 1. Notified at the start of a reconnection attempt
        // Use cancelable to stop reconnection at any time
    }

    @Override
    public void onReaderReconnectSucceeded(@NotNull Reader reader) {
        // 2. Notified when reader reconnection succeeds
        // App is now connected
    }

    @Override
    public void onReaderReconnectFailed(@NotNull Reader reader) {
        // 3. Notified when reader reconnection fails
        // App is now disconnected
    }
};

```

--------------------------------

### Swift: Handling Reader Reconnection Events

Source: https://docs.stripe.com/terminal/references/sdk-migration-guide

This Swift code shows how to implement the `MobileReaderDelegate` protocol for managing reader reconnection. It covers notifications for the start of reconnection, successful reconnection, and reconnection failures, allowing the app to respond accordingly.

```swift
import StripeTerminal

extension ReaderViewController: MobileReaderDelegate {
    // MARK: MobileReaderDelegate

    func reader(_ reader: Reader, didStartReconnect cancelable: Cancelable, disconnectReason: DisconnectReason) {
        // 1. Notified at the start of a reconnection attempt
        // Use cancelable to stop reconnection at any time
    }

    func readerDidSucceedReconnect(_ reader: Reader) {
        // 2. Notified when reader reconnection succeeds
        // App is now connected
    }
    func readerDidFailReconnect(_ reader: Reader) {
        // 3. Notified when reader reconnection fails
        // App is now disconnected
    }
}
```

--------------------------------

### Install Stripe CLI on Windows (without Scoop)

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe CLI on Windows by downloading a zip file from GitHub. The installation requires unzipping the file and adding the path to the stripe.exe to the system's PATH environment variable.

```bash
Unzip the `stripe_X.X.X_windows_x86_64.zip` file.
```

--------------------------------

### Create Stripe Account in .NET (using AccountService)

Source: https://docs.stripe.com/connect/hosted-onboarding

This .NET example demonstrates creating a standard Stripe account using `AccountService`. It involves setting the API key globally and then calling `service.Create` with account options.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new AccountCreateOptions { Type = "standard" };
var service = new AccountService();
Account account = service.Create(options);
```

--------------------------------

### Setup Intent Data

Source: https://docs.stripe.com/api/checkout/sessions/create

Configure data related to SetupIntent creation for Checkout Sessions in 'setup' mode.

```APIDOC
## Setup Intent Data Configuration

### Description
Provides configuration for passing parameters to SetupIntent creation when using Stripe Checkout in setup mode.

### Parameters
#### Request Body
- **setup_intent_data** (object, optional) - A subset of parameters to be passed to SetupIntent creation.
  - **description** (string, optional) - An arbitrary string attached to the object. Often useful for displaying to users.
  - **metadata** (object, optional) - Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. Individual keys can be unset by posting an empty value to them. All keys can be unset by posting an empty value to `metadata`.
  - **on_behalf_of** (string, optional) - The Stripe account for which the setup is intended.
```

--------------------------------

### Retrieve Stripe Checkout Session (.NET)

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Retrieves a Stripe Checkout Session using the Stripe .NET SDK. This example shows setting the API key globally via `StripeConfiguration` and then using the `SessionService` to get the session by its ID.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var service = new Stripe.Checkout.SessionService();
Stripe.Checkout.Session session = service.Get(
    "cs_test_MlZAaTXUMHjWZ7DcXjusJnDU4MxPalbtL5eYrmS2GKxqscDtpJq8QM0k");

```

--------------------------------

### Update connected account email address via Stripe API

Source: https://docs.stripe.com/connect/get-started-tax-reporting

This snippet demonstrates how to update a connected account's email address using the Stripe Accounts API. This is crucial for enabling e-delivery of tax forms.

```javascript
stripe.accounts.update(
  'acct_12345',
  { email: 'new_email@example.com' },
  function(err, account) {
    // handle result
  }
);

```

--------------------------------

### Create Stripe Account in Node.js

Source: https://docs.stripe.com/connect/hosted-onboarding

This Node.js example shows how to create a standard Stripe account. It initializes the Stripe module with a secret key and then uses `stripe.accounts.create` to make the request.

```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const account = await stripe.accounts.create({
  type: 'standard',
});
```

--------------------------------

### Create Stripe Invoice with Automatic Tax (.NET)

Source: https://docs.stripe.com/invoicing/taxes

This .NET example shows how to create a Stripe invoice with automatic tax enabled using the Stripe .NET SDK. It requires setting the API key and defining `InvoiceCreateOptions`. Ensure the Stripe SDK is installed via NuGet.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new InvoiceCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    AutomaticTax = new InvoiceAutomaticTaxOptions { Enabled = true },
};
var service = new InvoiceService();
Invoice invoice = service.Create(options);
```

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new InvoiceCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    AutomaticTax = new InvoiceAutomaticTaxOptions { Enabled = true },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Invoices;
Invoice invoice = service.Create(options);
```

--------------------------------

### Create Stripe Payment Link in .NET (using StripeClient)

Source: https://docs.stripe.com/payments/no-code/charge-shipping

This .NET example shows how to create a Stripe Payment Link using the StripeClient constructor for API key management. It details the setup for line items, billing, shipping, and shipping rates. Remember to replace placeholders.

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new PaymentLinkCreateOptions
{
    LineItems = new List<PaymentLinkLineItemOptions>
    {
        new PaymentLinkLineItemOptions { Price = "{{PRICE_ID}}", Quantity = 1 },
    },
    BillingAddressCollection = "required",
    ShippingAddressCollection = new PaymentLinkShippingAddressCollectionOptions
    {
        AllowedCountries = new List<string> { "US" },
    },
    ShippingOptions = new List<PaymentLinkShippingOptionOptions>
    {
        new PaymentLinkShippingOptionOptions
        {
            ShippingRate = "{{SHIPPINGRATE_ID}}",
        },
    },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.PaymentLinks;
PaymentLink paymentLink = service.Create(options);
```

--------------------------------

### Create Stripe Account (Java)

Source: https://docs.stripe.com/connect/migrate-to-controller-properties

Demonstrates creating a Stripe account using the Stripe Java SDK. This example shows how to set the API key, build the account creation parameters with controller, capabilities, and country details, and then create the account. It uses the builder pattern for parameter construction. Ensure you are using SDK versions 29.4.0 or lower, or adjust the client initialization if using a newer version.

```java
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

AccountCreateParams params = 
  AccountCreateParams.builder()
    .setController(
      AccountCreateParams.Controller.builder()
        .setStripeDashboard(
          AccountCreateParams.Controller.StripeDashboard.builder()
            .setType(AccountCreateParams.Controller.StripeDashboard.Type.NONE)
            .build()
        )
        .setFees(
          AccountCreateParams.Controller.Fees.builder()
            .setPayer(AccountCreateParams.Controller.Fees.Payer.APPLICATION)
            .build()
        )
        .setLosses(
          AccountCreateParams.Controller.Losses.builder()
            .setPayments(AccountCreateParams.Controller.Losses.Payments.APPLICATION)
            .build()
        )
        .setRequirementCollection(
          AccountCreateParams.Controller.RequirementCollection.APPLICATION
        )
        .build()
    )
    .setCapabilities(
      AccountCreateParams.Capabilities.builder()
        .setTransfers(
          AccountCreateParams.Capabilities.Transfers.builder().setRequested(true).build()
        )
        .build()
    )
    .setCountry("US")
    .build();

Account account = Account.create(params);
```

```java
// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Account account = client.v1().accounts().create(params);
```

--------------------------------

### Add Stripe iOS SDK via CocoaPods

Source: https://docs.stripe.com/payments/accept-stablecoin-payments

This guide details adding the Stripe iOS SDK using CocoaPods. It includes creating a Podfile if one doesn't exist, adding the 'StripePaymentsUI' pod, installing it, and using the generated workspace file.

```bash
pod init
pod 'StripePaymentsUI'
pod install
```

```bash
pod update StripePaymentsUI
```

--------------------------------

### StripeTerminalApplication Setup in Kotlin

Source: https://docs.stripe.com/terminal/quickstart

This Kotlin snippet shows a basic setup for a `StripeTerminalApplication` class that extends `Application`. It delegates the `onCreate` method to `TerminalApplicationDelegate` for Stripe Terminal initialization.

```kotlin
class StripeTerminalApplication : Application() {

    override fun onCreate() {
        super.onCreate()

        // If you already have a class that extends 'Application',
        // put whatever code you had in the 'onCreate' method here.

        TerminalApplicationDelegate.onCreate(this)
    }
}
```

--------------------------------

### Create Stripe Setup Intent with US Bank Account (.NET)

Source: https://docs.stripe.com/financial-connections/ownership

Shows how to create a Stripe SetupIntent for US bank account payments using the .NET SDK. This example configures customer details, payment method types, and financial connections permissions, including prefetching ownership. Requires the Stripe.net SDK.

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new SetupIntentCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    PaymentMethodTypes = new List<string> { "us_bank_account" },
    PaymentMethodOptions = new SetupIntentPaymentMethodOptionsOptions
    {
        UsBankAccount = new SetupIntentPaymentMethodOptionsUsBankAccountOptions
        {
            FinancialConnections = new SetupIntentPaymentMethodOptionsUsBankAccountFinancialConnectionsOptions
            {
                Prefetch = new List<string> { "ownership" },
                Permissions = new List<string> { "payment_method", "ownership" },
            },
        },
    },
};
var service = new SetupIntentService();
SetupIntent setupIntent = service.Create(options);
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new SetupIntentCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    PaymentMethodTypes = new List<string> { "us_bank_account" },
    PaymentMethodOptions = new SetupIntentPaymentMethodOptionsOptions
    {
        UsBankAccount = new SetupIntentPaymentMethodOptionsUsBankAccountOptions
        {
            FinancialConnections = new SetupIntentPaymentMethodOptionsUsBankAccountFinancialConnectionsOptions
            {
                Prefetch = new List<string> { "ownership" },
                Permissions = new List<string> { "payment_method", "ownership" },
            },
        },
    },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.SetupIntents;
SetupIntent setupIntent = service.Create(options);
```

--------------------------------

### Create Stripe Product and Price in .NET

Source: https://docs.stripe.com/get-started/development-environment

This C# code snippet demonstrates how to create a new product and a recurring monthly price for that product using the Stripe .NET SDK. It requires the Stripe API key and defines product details such as name, description, unit amount, currency, and recurring interval. The output includes the IDs of the created product and price.

```dotnet
using System;
using Stripe;

class Program
{
  static void Main(string[] args)
  {
    StripeConfiguration.ApiKey = "sk_test_BQokikJOvBiI2HlWgH4olfQ2";

    var optionsProduct = new ProductCreateOptions
    {
      Name = "Starter Subscription",
      Description = "$12/Month subscription",
    };
    var serviceProduct = new ProductService();
    Product product = serviceProduct.Create(optionsProduct);
    Console.Write("Success! Here is your starter subscription product id: {0}\n", product.Id);

    var optionsPrice = new PriceCreateOptions
    {
      UnitAmount = 1200,
      Currency = "usd",
      Recurring = new PriceRecurringOptions
      {
          Interval = "month",
      },
      Product = product.Id
    };
    var servicePrice = new PriceService();
    Price price = servicePrice.Create(optionsPrice);
    Console.Write("Success! Here is your starter subscription price id: {0}\n", price.Id);
  }
}
```

--------------------------------

### Update Stripe Subscription (Java)

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates a Stripe subscription using the Stripe Java SDK. This example shows how to set the API key, retrieve the subscription, build update parameters including item modifications, and apply the update.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

Subscription resource = Subscription.retrieve("sub_xxxxxxxxx");

SubscriptionUpdateParams params = 
  SubscriptionUpdateParams.builder()
    .addItem(
      SubscriptionUpdateParams.Item.builder()
        .setId("{{SUB_ITEM_ID}}")
        .setPrice("{{NEW_PRICE_ID}}")
        .setClearUsage(true)
        .build()
    )
    .build();

Subscription subscription = resource.update(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

SubscriptionUpdateParams params = 
  SubscriptionUpdateParams.builder()
    .addItem(
      SubscriptionUpdateParams.Item.builder()
        .setId("{{SUB_ITEM_ID}}")
        .setPrice("{{NEW_PRICE_ID}}")
        .setClearUsage(true)
        .build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Subscription subscription = client.v1().subscriptions().update("sub_xxxxxxxxx", params);
```

--------------------------------

### Create Payment Intent with Tax Calculation

Source: https://docs.stripe.com/payments/quickstart

Creates a Stripe PaymentIntent, including customer details, setup future usage, amount, currency, and tax calculation ID. This example also demonstrates how to enable automatic payment methods, which is now enabled by default in recent API versions.

```ruby
# Alternatively, set up a webhook to listen for the payment_intent.succeeded event
# and attach the PaymentMethod to a new Customer
customer = Stripe::Customer.create
# Create a Tax Calculation for the items being sold
tax_calculation = calculate_tax(data['items'], '{{CURRENCY}}')

# Create a PaymentIntent with amount and currency
payment_intent = Stripe::PaymentIntent.create(
  customer: customer['id'],
  setup_future_usage: 'off_session',
  amount: calculate_order_amount(tax_calculation),
  amount: calculate_order_amount(data['items']),
  currency: '{{CURRENCY}}',
  # In the latest version of the API, specifying the `automatic_payment_methods` parameter is optional because Stripe enables its functionality by default.
  automatic_payment_methods: {
    enabled: true,
  },
  metadata: {
    tax_calculation: tax_calculation.id
  },
)

{
  clientSecret: payment_intent.client_secret,
}.to_json
```

--------------------------------

### Create Stripe Subscription (Java, Client)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a Stripe subscription using the Java SDK with a StripeClient. Note that for SDK versions 29.4.0 or lower, '.v1()' should be removed from the client initialization.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

SubscriptionCreateParams params = 
  SubscriptionCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addItem(
      SubscriptionCreateParams.Item.builder().setPrice("{{RECURRING_PRICE_ID}}").build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Subscription subscription = client.v1().subscriptions().create(params);
```

--------------------------------

### Create Setup Intent (CLI)

Source: https://docs.stripe.com/financial-connections/balances

This Stripe CLI command demonstrates how to create a SetupIntent with Stripe, including specifying customer details, payment method types, and advanced options like US bank account financial connections permissions.

```APIDOC
## POST /v1/setup_intents

### Description
Creates a SetupIntent object. A SetupIntent is an object that represents your intention to set up a payment method for future use. This is useful for saving card details for later.

### Method
POST

### Endpoint
https://api.stripe.com/v1/setup_intents

### Parameters
#### Query Parameters
- **customer** (string) - Optional - The ID of the Customer this SetupIntent is for.
- **payment_method_types** (array of strings) - Required - An array of strings representing the payment method types that this SetupIntent can be used for.
- **payment_method_options** (object) - Optional - Extra options for specific payment method types.
  - **us_bank_account** (object) - Optional - Options for `us_bank_account` payment method type.
    - **financial_connections** (object) - Optional - Options for `financial_connections` associated with `us_bank_account`.
      - **permissions** (array of strings) - Optional - A list of permissions to grant to the connected account. Valid values are `balances` and `payment_method`.

### Request Example
```bash
stripe setup_intents create  \
  --customer="{{CUSTOMER_ID}}" \
  -d "payment_method_types[0]"=us_bank_account \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][0]"=balances \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][1]"=payment_method
```

### Response
#### Success Response (200)
- **id** (string) - Unique identifier for the SetupIntent.
- **customer** (string) - The ID of the Customer associated with this SetupIntent.
- **status** (string) - The status of the SetupIntent.
- **usage** (string) - Indicates the intended use of the SetupIntent. ('one_time' or 'continuous')

#### Response Example
```json
{
  "id": "seti_12345",
  "customer": "{{CUSTOMER_ID}}",
  "status": "requires_payment_method",
  "usage": "one_time"
}
```
```

--------------------------------

### Update Stripe Subscription Item Price (Python)

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates a Stripe subscription item with a new price. Requires the Stripe Python SDK. This example assumes SDK version 12.4.0 or lower, where '.v1' is removed from the client call.

```python
from stripe import StripeClient

client = StripeClient('sk_test_...')

subscription_item = client.v1.subscription_items.update(
  "si_xxxxxxxxx",
  {"price": "{{NEW_PRICE_ID}}"},
)
```

--------------------------------

### Create Stripe Account (Go)

Source: https://docs.stripe.com/connect/migrate-to-controller-properties

This Go code snippet demonstrates creating a Stripe account. It sets the Stripe API key and then prepares the account parameters, including controller settings for Stripe Dashboard, fees, and losses, along with transfer capabilities and the country. The code utilizes helper functions like stripe.String for setting string values.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.AccountParams{
  Controller: &stripe.AccountControllerParams{
    StripeDashboard: &stripe.AccountControllerStripeDashboardParams{
      Type: stripe.String(stripe.AccountControllerStripeDashboardTypeNone),
    },
    Fees: &stripe.AccountControllerFeesParams{
      Payer: stripe.String(stripe.AccountControllerFeesPayerApplication),
    },
    Losses: &stripe.AccountControllerLossesParams{
      Payments: stripe.String(stripe.AccountControllerLossesPaymentsApplication),
    },

```

--------------------------------

### Create Stripe Subscription (.NET)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Creates a new Stripe subscription using the Stripe .NET SDK. Requires setting the API key and providing customer and price IDs. This example uses the SubscriptionService.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
using System.Collections.Generic;
using Stripe;

StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new SubscriptionCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    Items = new List<SubscriptionItemOptions>
    {
        new SubscriptionItemOptions { Price = "{{PRICE_ID}}" },
    },
};
var service = new SubscriptionService();
Subscription subscription = service.Create(options);
```

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
using System.Collections.Generic;
using Stripe;

var options = new SubscriptionCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    Items = new List<SubscriptionItemOptions>
    {
        new SubscriptionItemOptions { Price = "{{PRICE_ID}}" },
    },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Subscriptions;
Subscription subscription = service.Create(options);
```

--------------------------------

### Create Stripe Product via API (curl)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a new product in Stripe using the curl command-line tool. Requires a Stripe API key for authentication. This is the first step in setting up new pricing.

```curl
curl https://api.stripe.com/v1/products \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d name="Alpaca AI tokens"
```

--------------------------------

### Retrieve Stripe Checkout Session (Go)

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Retrieves a Stripe Checkout Session using the Stripe Go SDK. This example demonstrates setting the global API key and then calling the `Get` method on the `session` object. It requires the session ID and an empty params struct.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.CheckoutSessionParams{}
result, err := session.Get(
  "cs_test_MlZAaTXUMHjWZ7DcXjusJnDU4MxPalbtL5eYrmS2GKxqscDtpJq8QM0k", params)

```

--------------------------------

### Setup Intent Webhooks

Source: https://docs.stripe.com/api/events/types

Webhooks for managing Stripe SetupIntents.

```APIDOC
## Setup Intent Webhooks

### Description
These webhooks track the lifecycle and status changes of Stripe SetupIntents.

### setup_intent.canceled
Occurs when a SetupIntent is canceled.
`data.object` is one of: [`setup_intent`](https://docs.stripe.com/api#setup_intent_object)

### setup_intent.created
Occurs when a new SetupIntent is created.
`data.object` is one of: [`setup_intent`](https://docs.stripe.com/api#setup_intent_object)

### setup_intent.requires_action
Occurs when a SetupIntent is in requires_action state.
`data.object` is one of: [`setup_intent`](https://docs.stripe.com/api#setup_intent_object)

### setup_intent.setup_failed
Occurs when a SetupIntent has failed the attempt to setup a payment method.
`data.object` is one of: [`setup_intent`](https://docs.stripe.com/api#setup_intent_object)

### setup_intent.succeeded
Occurs when an SetupIntent has successfully setup a payment method.
`data.object` is one of: [`setup_intent`](https://docs.stripe.com/api#setup_intent_object)
```

--------------------------------

### List Outbound Transfers (dotnet)

Source: https://docs.stripe.com/treasury/moving-money/financial-accounts/out-of/outbound-transfers

Lists outbound transfers using the Stripe .NET SDK. This example shows setting the API key, defining the list options (financial account, limit, starting after), and configuring request options for the connected Stripe account.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new Stripe.Treasury.OutboundTransferListOptions
{
    FinancialAccount = "{{TREASURYFINANCIALACCOUNT_ID}}",
    Limit = 3,
    StartingAfter = "{{OUTBOUND_TRANSFER_ID}}",
};
var requestOptions = new RequestOptions
{
    StripeAccount = "{{CONNECTEDACCOUNT_ID}}",
};
var service = new Stripe.Treasury.OutboundTransferService();
StripeList<Stripe.Treasury.OutboundTransfer> outboundTransfers = service.List(
    options,
    requestOptions);
```

--------------------------------

### Install Stripe.net Library

Source: https://docs.stripe.com/payments/quickstart

Installs the Stripe.net library for .NET projects using either the dotnet CLI or the NuGet Package Manager. This enables Stripe integration in C# applications.

```bash
dotnet add package Stripe.net
```

```powershell
Install-Package Stripe.net
```

--------------------------------

### Create Subscription using Stripe CLI

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates creating a subscription via the Stripe command-line interface. This command links a customer to a recurring price, requiring customer and price IDs.

```cli
stripe subscriptions create \
  --customer="{{CUSTOMER_ID}}" \
  -d "items[0][price]"={{RECURRING_PRICE_ID}}
```

--------------------------------

### Install Stripe Server SDK - Go

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe Go SDK using Go Modules and imports the package.

```bash
go mod init
# Install stripe-go
go get -u github.com/stripe/stripe-go/v82
```

```go
// Then import the package
import (
  "github.com/stripe/stripe-go/v82"
)
```

--------------------------------

### Initialize Go Modules and Install Stripe Go SDK

Source: https://docs.stripe.com/payments/accept-stablecoin-payments

This sequence initializes Go Modules for your project and installs the Stripe Go SDK (v82). It's essential to use Go Modules for dependency management in modern Go projects.

```bash
go mod init
go get -u github.com/stripe/stripe-go/v82
```

```go
// Then import the package
import (
  "github.com/stripe/stripe-go/v82"
)
```

--------------------------------

### Java: Update Stripe Subscription

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates a Stripe subscription using the Java SDK. This example involves retrieving the subscription, preparing update parameters to delete an item and add a price, and then applying the update. Ensure your SDK version is compatible.

```java
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

Subscription resource = Subscription.retrieve("sub_xxxxxxxxx");

SubscriptionUpdateParams params = 
  SubscriptionUpdateParams.builder()
    .addItem(
      SubscriptionUpdateParams.Item.builder()
        .setId("{{SUB_ITEM_ID}}")
        .setDeleted(true)
        .build()
    )
    .addItem(SubscriptionUpdateParams.Item.builder().setPrice("{{NEW_PRICE_ID}}").build())
    .build();

Subscription subscription = resource.update(params);
```

```java
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

SubscriptionUpdateParams params = 
  SubscriptionUpdateParams.builder()
    .addItem(
      SubscriptionUpdateParams.Item.builder()
        .setId("{{SUB_ITEM_ID}}")
        .setDeleted(true)
        .build()
    )
    .addItem(SubscriptionUpdateParams.Item.builder().setPrice("{{NEW_PRICE_ID}}").build())
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Subscription subscription = client.v1().subscriptions().update("sub_xxxxxxxxx", params);
```

--------------------------------

### Create Stripe Invoice (Python, PHP, Java, Node.js, Go, .NET, Ruby)

Source: https://docs.stripe.com/products-prices/pricing-models

These snippets demonstrate how to create an invoice using the Stripe API. They cover SDK initialization, setting the secret key, and making the API call with parameters like description, customer ID, and collection method. Note the version-specific changes for some SDKs.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys

```

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$invoice = $stripe->invoices->create([
  'description' => 'Alpaca AI Credits',
  'customer' => '{{CUSTOMER_ID}}',
  'collection_method' => 'charge_automatically',
]);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

InvoiceCreateParams params = 
  InvoiceCreateParams.builder()
    .setDescription("Alpaca AI Credits")
    .setCustomer("{{CUSTOMER_ID}}")
    .setCollectionMethod(InvoiceCreateParams.CollectionMethod.CHARGE_AUTOMATICALLY)
    .build();

Invoice invoice = Invoice.create(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

InvoiceCreateParams params = 
  InvoiceCreateParams.builder()
    .setDescription("Alpaca AI Credits")
    .setCustomer("{{CUSTOMER_ID}}")
    .setCollectionMethod(InvoiceCreateParams.CollectionMethod.CHARGE_AUTOMATICALLY)
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Invoice invoice = client.v1().invoices().create(params);
```

```node
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const invoice = await stripe.invoices.create({
  description: 'Alpaca AI Credits',
  customer: '{{CUSTOMER_ID}}',
  collection_method: 'charge_automatically',
});
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.InvoiceParams{
  Description: stripe.String("Alpaca AI Credits"),
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  CollectionMethod: stripe.String(stripe.InvoiceCollectionMethodChargeAutomatically),
}
result, err := invoice.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.InvoiceCreateParams{
  Description: stripe.String("Alpaca AI Credits"),
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  CollectionMethod: stripe.String(stripe.InvoiceCollectionMethodChargeAutomatically),
}
result, err := sc.V1Invoices.Create(context.TODO(), params)
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new InvoiceCreateOptions
{
    Description = "Alpaca AI Credits",
    Customer = "{{CUSTOMER_ID}}",
    CollectionMethod = "charge_automatically",
};
var service = new InvoiceService();
Invoice invoice = service.Create(options);
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new InvoiceCreateOptions
{
    Description = "Alpaca AI Credits",
    Customer = "{{CUSTOMER_ID}}",
    CollectionMethod = "charge_automatically",
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Invoices;
Invoice invoice = service.Create(options);
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

invoice_item = Stripe::InvoiceItem.create({
  customer: '{{CUSTOMER_ID}}',
  currency: 'usd',
  unit_amount_decimal: '10000000',
})
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

invoice_item = client.v1.invoice_items.create({
  customer: '{{CUSTOMER_ID}}',
  currency: 'usd',
  unit_amount_decimal: '10000000',
})
```

--------------------------------

### Update Stripe Issuing Card Status to Active (Go)

Source: https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments

Enables a Stripe issuing card by updating its status to active. This Go example utilizes the Stripe Go library, requiring the API key and card details for the update operation.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import (
	"context"
	stripe "github.com/stripe/stripe-go/v75"
	card "github.com/stripe/stripe-go/v75/issuing/card"
)

stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.IssuingCardParams{Status: stripe.String(stripe.IssuingCardStatusActive)}
result, err := card.Update("ic_1NvPjF2SSJdH5vn2OVbE7r0b", params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import (
	"context"
	stripe "github.com/stripe/stripe-go/v75"
)

sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.IssuingCardUpdateParams{
  Status: stripe.String(stripe.IssuingCardStatusActive),
  Card: stripe.String("ic_1NvPjF2SSJdH5vn2OVbE7r0b"),
}
result, err := sc.V1IssuingCards.Update(context.TODO(), params)
```

--------------------------------

### Install Stripe CLI via Docker

Source: https://docs.stripe.com/get-started/development-environment

Installs the latest version of the Stripe CLI using a Docker image. This method is cross-platform and requires Docker to be installed.

```bash
docker run --rm -it stripe/stripe-cli:latest
```

--------------------------------

### List Outbound Transfers (PHP)

Source: https://docs.stripe.com/treasury/moving-money/financial-accounts/out-of/outbound-transfers

Lists outbound transfers using the Stripe PHP SDK. This example demonstrates setting the secret key, configuring the request parameters including financial account, limit, starting after, and the connected Stripe account.

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$outboundTransfers = $stripe->treasury->outboundTransfers->all(
  [
    'financial_account' => '{{TREASURYFINANCIALACCOUNT_ID}}',
    'limit' => 3,
    'starting_after' => '{{OUTBOUND_TRANSFER_ID}}',
  ],
  ['stripe_account' => '{{CONNECTEDACCOUNT_ID}}']
);
```

--------------------------------

### Create Stripe Checkout Session (Go)

Source: https://docs.stripe.com/payments/checkout/custom-fields

This Go code snippet demonstrates how to set up the Stripe API key and prepare parameters for creating a Stripe Checkout Session. It configures the session for payment, embedded UI, and specifies a return URL. The example is incomplete as it only shows parameter setup and not the actual session creation call.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.CheckoutSessionParams{
  Mode: stripe.String(stripe.CheckoutSessionModePayment),
  UIMode: stripe.String(stripe.CheckoutSessionUIModeEmbedded),
  ReturnURL: stripe.String("https://example.com/return"),
  // ... line_items and custom_fields would follow here
```

--------------------------------

### Finalize Stripe Invoice and Get Client Secret (Ruby with StripeClient)

Source: https://docs.stripe.com/invoicing/integration

This Ruby example uses the StripeClient to finalize an invoice and expand the confirmation_secret. It's an alternative way to interact with the Stripe API in Ruby, providing the client_secret needed for frontend payment integration.

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

invoice = client.v1.invoices.finalize_invoice(
  '{{INVOICE_ID}}',
  {expand: ['confirmation_secret']},
)
```

--------------------------------

### Create Stripe SetupIntent (PHP)

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

Creates a Stripe SetupIntent using the PHP SDK. Initializes the Stripe client with a secret key and specifies the payment method ID and connected account ID.

```php
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$setupIntent = $stripe->setupIntents->create(
  ['payment_method' => '{{PAYMENTMETHOD_ID}}'],
  ['stripe_account' => '{{CONNECTEDACCOUNT_ID}}']
);
```

--------------------------------

### Install Stripe Ruby Gem

Source: https://docs.stripe.com/payments/quickstart

Installs the Stripe Ruby gem. This can be done directly via the terminal or by adding it to a Gemfile.

```bash
gem install stripe
```

```ruby
gem 'stripe'
```

--------------------------------

### Start Java Server (Maven)

Source: https://docs.stripe.com/terminal/quickstart

Commands to package a Java application using Maven and run the generated JAR file.

```bash
mvn package
java -cp target/sample-jar-with-dependencies.jar com.stripe.sample.Server
```

--------------------------------

### Update Stripe Tax Registration (Python)

Source: https://docs.stripe.com/tax/registrations-api

Updates a Stripe tax registration by setting its expiration time. This example uses the Stripe Python SDK and requires the registration ID and connected account ID. Note the comment about SDK versions for older installations.

```python
client.v1.tax.registrations.update(
  "taxreg_NkyGPRPytKq66j",
  {"expires_at": "now"},
  {"stripe_account": "{{CONNECTEDACCOUNT_ID}}"},
)
```

--------------------------------

### Stripe.NET Project File Configuration

Source: https://docs.stripe.com/get-started/development-environment

Example .csproj file content showing the Stripe.NET package reference. This configuration is automatically updated when using the .NET CLI add package command.

```xml
<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net6.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Stripe.net" Version="48.0.0" />
  </ItemGroup>

</Project>
```

--------------------------------

### Create Stripe Checkout Session in Go

Source: https://docs.stripe.com/payments/checkout/discounts

This Go code provides examples for creating a Stripe checkout session. It shows how to set up the Stripe client and use the `checkout.SessionParams` to define the session details. Both examples configure line items, discounts, mode, UI mode, and return URL.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.CheckoutSessionParams{
  LineItems: []*stripe.CheckoutSessionLineItemParams{
    &stripe.CheckoutSessionLineItemParams{
      Price: stripe.String("{{PRICE_ID}}"),
      Quantity: stripe.Int64(1),
    },
  },
  Discounts: []*stripe.CheckoutSessionDiscountParams{
    &stripe.CheckoutSessionDiscountParams{Coupon: stripe.String("{{COUPON_ID}}")},
  },
  Mode: stripe.String(stripe.CheckoutSessionModePayment),
  UIMode: stripe.String(stripe.CheckoutSessionUIModeEmbedded),
  ReturnURL: stripe.String("https://example.com/checkout/return?session_id={CHECKOUT_SESSION_ID}"),
}
result, err := session.New(params)
```

```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.CheckoutSessionCreateParams{
  LineItems: []*stripe.CheckoutSessionCreateLineItemParams{
    &stripe.CheckoutSessionCreateLineItemParams{
      Price: stripe.String("{{PRICE_ID}}"),
      Quantity: stripe.Int64(1),
    },
  },
  Discounts: []*stripe.CheckoutSessionCreateDiscountParams{
    &stripe.CheckoutSessionCreateDiscountParams{
      Coupon: stripe.String("{{COUPON_ID}}"),
    },
  },
  Mode: stripe.String(stripe.CheckoutSessionModePayment),
  UIMode: stripe.String(stripe.CheckoutSessionUIModeEmbedded),
  ReturnURL: stripe.String("https://example.com/checkout/return?session_id={CHECKOUT_SESSION_ID}"),
}
result, err := sc.V1CheckoutSessions.Create(context.TODO(), params)
```

--------------------------------

### Financing Summary Response Example (JSON)

Source: https://docs.stripe.com/capital/api-integration

An example JSON response when successfully retrieving the financing summary. It includes details like currency, advance amount, fees, and current repayment status.

```json
{
  "object": "capital.financing_summary",
  "details": {
    "currency": "usd",
    "advance_amount": 1000000,
    "fee_amount": 100000,
    "withhold_rate": 0.2,
    "remaining_amount": 999950,
    "paid_amount": 50,
    "current_repayment_interval": {
      "due_at": 123456789,
      "remaining_amount": 50,
      "paid_amount": 50
    },
    "repayments_begin_at": 123456789,
    "advance_paid_out_at": 123456789
  }
}
```

--------------------------------

### Install Stripe Library (Ruby)

Source: https://docs.stripe.com/invoicing/integration

Installs the Stripe Ruby gem for API integration. Ensure you have Ruby and optionally Bundler installed.

```bash
# Available as a gem
sudo gem install stripe
```

```ruby
# If you use bundler, you can add this line to your Gemfile
gem 'stripe'
```

--------------------------------

### Create Stripe Account with Controller Settings (.NET)

Source: https://docs.stripe.com/connect/hosted-onboarding

This .NET code snippet shows the initialization of the Stripe API key and the beginning of the `AccountCreateOptions` object for creating a Stripe account. Further details would be needed to complete the account creation process.

```csharp
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new AccountCreateOptions
{

```

--------------------------------

### Install Stripe Ruby Library (Gem)

Source: https://docs.stripe.com/billing/quickstart

Installs the Stripe Ruby gem using the gem command. This library facilitates Stripe API integration within Ruby applications.

```bash
gem install stripe
```

--------------------------------

### Install Stripe Python Package

Source: https://docs.stripe.com/identity/verify-identity-documents

Steps for installing the Stripe Python SDK using pip. It includes instructions for installing or upgrading the package and referencing a specific version in requirements.txt.

```bash
pip3 install --upgrade stripe
```

```python
stripe>=5.0.0
```

--------------------------------

### Install Stripe CLI on Linux without a package manager

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe CLI on Linux by downloading the tar.gz archive from GitHub releases, unzipping it, and moving the binary to the execution path.

```bash
tar -xvf stripe_X.X.X_linux_x86_64.tar.gz
```

--------------------------------

### Create Stripe SetupIntent (Java)

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

Creates a Stripe SetupIntent using the Java SDK. Sets the API key and builds parameters for payment method and connected account. The `RequestOptions` class is used to specify the Stripe account.

```java
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

SetupIntentCreateParams params = 
  SetupIntentCreateParams.builder()
    .setPaymentMethod("{{PAYMENTMETHOD_ID}}")
    .build();

RequestOptions requestOptions = 
  RequestOptions.builder().setStripeAccount("{{CONNECTEDACCOUNT_ID}}").build();

SetupIntent setupIntent = SetupIntent.create(params, requestOptions);
```

--------------------------------

### Python: Update Stripe Subscription

Source: https://docs.stripe.com/billing/subscriptions/change-price

Updates a Stripe subscription using the Python SDK. This example shows how to remove an existing subscription item and add a new price. Ensure you are using SDK version 12.4.0 or lower, or adjust the '.v1' accordingly.

```python
subscription = client.v1.subscriptions.update(
  "sub_xxxxxxxxx",
  {"items": [{"id": "{{SUB_ITEM_ID}}", "deleted": True}, {"price": "{{NEW_PRICE_ID}}"}]},
)
```

--------------------------------

### Create Stripe Account Link (.NET)

Source: https://docs.stripe.com/connect/hosted-onboarding

Provides a .NET example for creating Stripe account links. This involves configuring the API key and using the AccountLinkService to create the link with specified options.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new AccountLinkCreateOptions
{
    Account = "{{CONNECTEDACCOUNT_ID}}",
    RefreshUrl = "https://example.com/refresh",
    ReturnUrl = "https://example.com/return",
    Type = "account_onboarding",
    CollectionOptions = new AccountLinkCollectionOptionsOptions
    {
        Fields = "eventually_due",
    },
};
var service = new AccountLinkService();
AccountLink accountLink = service.Create(options);
```

--------------------------------

### Check .NET SDK Version

Source: https://docs.stripe.com/get-started/development-environment

Command to check the installed .NET SDK versions on your system. Useful for verifying compatibility with the Stripe.NET SDK.

```bash
dotnet --list-sdks
```

--------------------------------

### Checkout Session Setup Intent

Source: https://docs.stripe.com/api/checkout/sessions/object

References the SetupIntent for Checkout Sessions in setup mode.

```APIDOC
## POST /checkout/sessions

### Description
Creates a Checkout Session in `setup` mode, referencing a SetupIntent.

### Method
POST

### Endpoint
/checkout/sessions

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
- **setup_intent** (string, nullable) - The ID of the SetupIntent for Checkout Sessions in `setup` mode. You cant confirm or cancel the SetupIntent directly; instead, expire the Checkout Session.

### Request Example
```json
{
  "line_items": [
    {
      "price_data": {
        "currency": "usd",
        "product_data": {
          "name": "Setup Fee"
        },
        "unit_amount": 500
      },
      "quantity": 1
    }
  ],
  "mode": "setup",
  "success_url": "https://example.com/success",
  "cancel_url": "https://example.com/cancel",
  "setup_intent_data": {
    "description": "My new card"
  }
}
```

### Response
#### Success Response (201)
- **id** (string) - The ID of the created Checkout Session.
- **setup_intent** (string, nullable) - The ID of the associated SetupIntent.

#### Response Example
```json
{
  "id": "cs_test_mno345",
  "setup_intent": "seti_abc123"
}
```
```

--------------------------------

### Install Stripe Node.js SDK via Yarn

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe Node.js library using Yarn, another popular package manager for Node.js projects. This command adds the stripe package to the project's dependencies.

```bash
yarn add stripe
```

--------------------------------

### List Outbound Transfers (Node.js)

Source: https://docs.stripe.com/treasury/moving-money/financial-accounts/out-of/outbound-transfers

Lists outbound transfers using the Stripe Node.js SDK. This asynchronous example shows how to initialize the Stripe client, define request parameters for the financial account, limit, and starting after, and specify the connected Stripe account.

```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const outboundTransfers = await stripe.treasury.outboundTransfers.list(
  {
    financial_account: '{{TREASURYFINANCIALACCOUNT_ID}}',
    limit: 3,
    starting_after: '{{OUTBOUND_TRANSFER_ID}}',
  },
  {
    stripeAccount: '{{CONNECTEDACCOUNT_ID}}',
  }
);
```

--------------------------------

### Create Metered Price (Python)

Source: https://docs.stripe.com/products-prices/pricing-models

Provides a Python example using the Stripe SDK to create a metered price with a graduated rate. This code sets up tiered pricing for metered usage.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

price = stripe.Price.create(
  product="{{PRODUCT_ID}}",
  currency="usd",
  billing_scheme="tiered",
  recurring={"usage_type": "metered", "interval": "month", "meter": "{{METER_ID}}"},
  tiers_mode="graduated",
  tiers=[
    {"up_to": 100000, "unit_amount_decimal": "0"},
    {"up_to": "inf", "unit_amount_decimal": "0.1"},
  ],
)
```

--------------------------------

### Create SetupIntent using Stripe CLI

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

This command shows how to create a Stripe SetupIntent using the Stripe command-line interface. It requires the connected account ID and the payment method ID.

```cli
stripe setup_intents create  \
  --stripe-account {{CONNECTEDACCOUNT_ID}} \
  --payment-method="{{PAYMENTMETHOD_ID}}"
```

--------------------------------

### Create Stripe Checkout Session (.NET)

Source: https://docs.stripe.com/payments/during-payment/charge-shipping

This .NET code snippet shows how to set the Stripe API key and create a Checkout Session. It includes configurations for shipping address collection and shipping options with delivery estimates. The snippet is a partial example focusing on the initial setup for shipping.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new Stripe.Checkout.SessionCreateOptions
{
    ShippingAddressCollection = new Stripe.Checkout.SessionShippingAddressCollectionOptions
    {
        AllowedCountries = new List<string> { "US", "CA" },
    },
    ShippingOptions = new List<Stripe.Checkout.SessionShippingOptionOptions>
    {
        new Stripe.Checkout.SessionShippingOptionOptions
        {
            ShippingRateData = new Stripe.Checkout.SessionShippingOptionShippingRateDataOptions
            {

```

--------------------------------

### Create Stripe Price with Metered Tiers (C#)

Source: https://docs.stripe.com/products-prices/pricing-models

Provides C# code to create a Stripe price with metered usage and tiered billing. This example utilizes the Stripe .NET library and requires setting the API key.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new PriceCreateOptions
{
    Product = "{{PRODUCT_ID}}",
    Currency = "usd",
    BillingScheme = "tiered",
    Recurring = new PriceRecurringOptions
    {
        UsageType = "metered",
        Interval = "month",
        Meter = "{{METER_ID}}",
    },
    TiersMode = "graduated",
    Tiers = new List<PriceTierOptions>
    {
        new PriceTierOptions { UpTo = 100000, UnitAmountDecimal = 0M },
        new PriceTierOptions { UpTo = PriceTierUpTo.Inf, UnitAmountDecimal = 0.1M },
    },
};
var service = new PriceService();
Price price = service.Create(options);
```

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new PriceCreateOptions
{
    Product = "{{PRODUCT_ID}}",
    Currency = "usd",
    BillingScheme = "tiered",
    Recurring = new PriceRecurringOptions
    {
        UsageType = "metered",
        Interval = "month",
        Meter = "{{METER_ID}}",
    },
    TiersMode = "graduated",
    Tiers = new List<PriceTierOptions>
    {
        new PriceTierOptions { UpTo = 100000, UnitAmountDecimal = 0M },
        new PriceTierOptions { UpTo = PriceTierUpTo.Inf, UnitAmountDecimal = 0.1M },
    },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Prices;
Price price = service.Create(options);
```

--------------------------------

### Create Setup Intent (Python)

Source: https://docs.stripe.com/financial-connections/balances

This Python code snippet demonstrates how to create a SetupIntent with Stripe, including specifying customer details, payment method types, and advanced options like US bank account financial connections permissions.

```APIDOC
## POST /v1/setup_intents

### Description
Creates a SetupIntent object. A SetupIntent is an object that represents your intention to set up a payment method for future use. This is useful for saving card details for later.

### Method
POST

### Endpoint
https://api.stripe.com/v1/setup_intents

### Parameters
#### Query Parameters
- **customer** (string) - Optional - The ID of the Customer this SetupIntent is for.
- **payment_method_types** (array of strings) - Required - An array of strings representing the payment method types that this SetupIntent can be used for.
- **payment_method_options** (object) - Optional - Extra options for specific payment method types.
  - **us_bank_account** (object) - Optional - Options for `us_bank_account` payment method type.
    - **financial_connections** (object) - Optional - Options for `financial_connections` associated with `us_bank_account`.
      - **permissions** (array of strings) - Optional - A list of permissions to grant to the connected account. Valid values are `balances` and `payment_method`.

### Request Example
```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = '<<YOUR_SECRET_KEY>>'

setup_intent = stripe.SetupIntent.create(
  customer='{CUSTOMER_ID}',
  payment_method_types=['us_bank_account'],
  payment_method_options={
    'us_bank_account': {
      'financial_connections': {'permissions': ['balances', 'payment_method']},
    },
  },
)
```

### Response
#### Success Response (200)
- **id** (string) - Unique identifier for the SetupIntent.
- **customer** (string) - The ID of the Customer associated with this SetupIntent.
- **status** (string) - The status of the SetupIntent.
- **usage** (string) - Indicates the intended use of the SetupIntent. ('one_time' or 'continuous')

#### Response Example
```json
{
  "id": "seti_12345",
  "customer": "{{CUSTOMER_ID}}",
  "status": "requires_payment_method",
  "usage": "one_time"
}
```
```

--------------------------------

### Create Stripe Checkout Session - Go

Source: https://docs.stripe.com/checkout/quickstart

This Go snippet demonstrates creating a Stripe Checkout Session using the `stripe-go` library. It includes setting the API key and configuring parameters like customer email, submission type, address collection, line items with a price ID, payment mode, success/cancel URLs, automatic tax, and customer creation. Ensure you have imported the necessary Stripe Go packages.

```go
// You can also find your test secret API key at https://dashboard.stripe.com/test/apikeys.
// "github.com/stripe/stripe-go/v82"
// "github.com/stripe/stripe-go/v82/checkout/session"
  stripe.Key = "<<YOUR_SECRET_KEY>>"
  params := &stripe.CheckoutSessionParams{
    CustomerEmail: stripe.String("customer@example.com"),
    SubmitType: stripe.String("donate"),
    BillingAddressCollection: stripe.String("auto"),
    ShippingAddressCollection: &stripe.CheckoutSessionShippingAddressCollectionParams{
      AllowedCountries: stripe.StringSlice([]string{
        "US",
        "CA",
      }),
    },
    LineItems: []*stripe.CheckoutSessionLineItemParams{
      &stripe.CheckoutSessionLineItemParams{
        // Provide the exact Price ID (for example, price_1234) of the product you want to sell
        Price: stripe.String("{{PRICE_ID}}"),

```

--------------------------------

### Create Stripe Subscription (Java)

Source: https://docs.stripe.com/products-prices/pricing-models

This Java snippet illustrates how to create a Stripe subscription. It shows two variations: one directly using `Stripe.apiKey` and another using a `StripeClient` instance, both requiring `SubscriptionCreateParams`.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

SubscriptionCreateParams params = 
  SubscriptionCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addItem(
      SubscriptionCreateParams.Item.builder()
        .setPrice("{{FLAT_MONTHLY_FEE_PRICE_ID}}")
        .setQuantity(1L)
        .build()
    )
    .addItem(
      SubscriptionCreateParams.Item.builder()
        .setPrice("{{METERED_USAGE_PRICE_ID}}")
        .build()
    )
    .build();

Subscription subscription = Subscription.create(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

SubscriptionCreateParams params = 
  SubscriptionCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addItem(
      SubscriptionCreateParams.Item.builder()
        .setPrice("{{FLAT_MONTHLY_FEE_PRICE_ID}}")
        .setQuantity(1L)
        .build()
    )
    .addItem(
      SubscriptionCreateParams.Item.builder()
        .setPrice("{{METERED_USAGE_PRICE_ID}}")
        .build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Subscription subscription = client.v1().subscriptions().create(params);
```

--------------------------------

### Create Tiered Metered Price in Node.js

Source: https://docs.stripe.com/products-prices/pricing-models

This Node.js snippet demonstrates creating a tiered, metered price in Stripe. It sets up the price for a product with monthly recurring metered usage and defines two tiers: the first 100,000 units are free, and subsequent units cost $0.10. Ensure the Stripe Node.js library is installed and your secret key is configured.

```javascript
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const price = await stripe.prices.create({
  product: '{{PRODUCT_ID}}',
  currency: 'usd',
  billing_scheme: 'tiered',
  recurring: {
    usage_type: 'metered',
    interval: 'month',
    meter: '{{METER_ID}}',
  },
  tiers_mode: 'graduated',
  tiers: [
    {
      up_to: 100000,
      unit_amount_decimal: '0',
    },
    {
      up_to: 'inf',
      unit_amount_decimal: '0.1',
    },
  ],
});
```

--------------------------------

### Create SetupIntent using Stripe Python Client

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

This Python code snippet shows how to create a Stripe SetupIntent using the Stripe Python client library. It requires your secret key and the connected account ID, and the payment method ID.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

setup_intent = stripe.SetupIntent.create(
  payment_method="{{PAYMENTMETHOD_ID}}",
  stripe_account="{{CONNECTEDACCOUNT_ID}}",
)
```

--------------------------------

### Stripe Product Creation Response

Source: https://docs.stripe.com/get-started/development-environment

Example JSON response after successfully creating a product using the Stripe CLI. This response includes the unique identifier for the created product.

```json
{
  "id": "prod_LTenIrmp8Q67sa", // The identifier looks like this.
  "object": "product",
  "active": true,
  "attributes": [],
  "created": 1668198126,
  "default_price": null,
  "description": "Created with the Stripe CLI",
  "identifiers": {},
  "images": [],
  "livemode": false,
  "metadata": {},
  "name": "My First Product",
  "package_dimensions": null,
  "price": null,
  "product_class": null,
  "shippable": null,
  "sku": "my-first-product-10",
  "statement_descriptor": null,
  "tax_code": null,
  "type": "service",
  "unit_label": null,
  "updated": 1668198126,
  "url": null
}
```

--------------------------------

### Create Price using Stripe .NET SDK

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates creating a price object using the Stripe .NET SDK. Requires the Stripe .NET library and a valid secret key. Takes product ID, unit amount, currency, and recurring interval as input.

```.cs
var options = new PriceCreateOptions
{
    Product = "{{PRODUCT_ID}}",
    UnitAmount = 1000,
    Currency = "usd",
    Recurring = new PriceRecurringOptions { Interval = "month" },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Prices;
Price price = service.Create(options);
```

--------------------------------

### Create Stripe Account in .NET (using StripeClient)

Source: https://docs.stripe.com/connect/hosted-onboarding

This .NET code snippet shows creating a Stripe account using the `StripeClient`. It requires initializing the client with the secret key and then accessing `client.V1.Accounts.Create`.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new AccountCreateOptions { Type = "standard" };
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Accounts;
Account account = service.Create(options);
```

--------------------------------

### Update Stripe Subscription Schedule (Python)

Source: https://docs.stripe.com/tax/subscriptions/update

Updates a Stripe Subscription Schedule using the Python SDK. This example shows how to modify phases, including items, start and end dates, and enable automatic tax. It requires the Stripe Python library and a valid API key.

```python
# For SDK versions 12.4.0 or lower, remove '.v1' from the following line.
subscription_schedule = client.v1.subscription_schedules.update(
  "{{SUBSCRIPTIONSCHEDULE_ID}}",
  {
    "phases": [
      {
        "items": [{"price": "price_1GqNdGAJVYItwOKqEHb", "quantity": 1}],
        "start_date": 1577865600,
        "end_date": 1578038400,
      },
      {
        "items": [{"price": "price_1GqNdGAJVYItwOKqEHb", "quantity": 2}],
        "start_date": 1578038400,
        "end_date": 1580544000,
      },
    ],
    "default_settings": {"automatic_tax": {"enabled": True}},
  },
)

```

--------------------------------

### Create Credit Grant - Node.js

Source: https://docs.stripe.com/products-prices/pricing-models

This Node.js example demonstrates creating a credit grant using the Stripe SDK. It initializes the Stripe module with a secret key and then calls the credit grants create method, passing an object with customer information, category, monetary amount, and applicability settings.

```node
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const creditGrant = await stripe.billing.creditGrants.create({
  customer: '{{CUSTOMER_ID}}',
  category: 'paid',
  amount: {
    type: 'monetary',
    monetary: {
      value: 12000000,
      currency: 'usd',
    },
  },
  applicability_config: {
    scope: {
      price_type: 'metered',
    },
  },
  expires_at: 1759341179,
});
```

--------------------------------

### C#: Send Stripe Invoice

Source: https://docs.stripe.com/invoicing/integration/quickstart

This C# method sends an invoice using the Stripe .NET SDK. It includes logic for finding existing customers or creating new ones in Stripe, then proceeds to create and send an invoice with an associated invoice item. Ensure the Stripe .NET SDK is installed and API keys are configured.

```csharp
// This is a public sample test API key.
      // Dont submit any personally identifiable information in requests made with this key.
      // Sign in to see your own test API key embedded in code samples.
      StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";
    public static void sendInvoice(String email)
    {
      // Look up a customer in your database
      var customer = Customers.Find(customer => customer.Email == email);
      String customerId;
      if(customer == null) {
        // Create a new Customer
        var customerOptions = new CustomerCreateOptions
        {
          Email = email,
          Description = "Customer to invoice",
        };
        var customerService = new CustomerService();
        var stripeCustomer = customerService.Create(customerOptions);
        customerId = stripeCustomer.Id;

        // Store the Customer ID in your database to use for future purchases
        Customers.Add(new MyCustomer()
        {
          StripeId = stripeCustomer.Id,
          Email = stripeCustomer.Email,
        });
      } else {
        // Read the Customer ID from your database
        customerId = customer.StripeId;
      }

      // Create an Invoice
      var invoiceOptions = new InvoiceCreateOptions
      {
        Customer = customerId,
        CollectionMethod = "send_invoice",
        DaysUntilDue = 30,
        AutomaticTax = new InvoiceAutomaticTaxOptions
        {
          Enabled = true,
        },
      };
      var invoiceService = new InvoiceService();
      var invoice = invoiceService.Create(invoiceOptions);
      // Create an Invoice Item with the Price, and Customer you want to charge
      var invoiceItemOptions = new InvoiceItemCreateOptions
      {
        Customer = customerId,
        Price = Prices["basic"],
        Invoice = invoice.Id
      };

```

--------------------------------

### Install Stripe JARs Manually

Source: https://docs.stripe.com/identity/verify-identity-documents

Instructions for manually installing Stripe and Google Gson JARs for environments where build tools are not used.

```bash
# For other environments, manually install the following JARs:
# - The Stripe JAR from https://github.com/stripe/stripe-java/releases/latest
# - Google Gson from https://github.com/google/gson
```

--------------------------------

### Retrieve SetupIntent using .NET

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Retrieve a SetupIntent object using the Stripe .NET SDK. Configure your API key and then instantiate the SetupIntentService to fetch the SetupIntent by its ID.

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
using Stripe;

StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var service = new SetupIntentService();
SetupIntent setupIntent = service.Get("seti_1EzVO3HssDVaQm2PJjXHmLlM");
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
using Stripe;

var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.SetupIntents;
SetupIntent setupIntent = service.Get("seti_1EzVO3HssDVaQm2PJjXHmLlM");
```

--------------------------------

### Create Stripe Checkout Session (C# .NET)

Source: https://docs.stripe.com/tax/checkout/tax-ids

This C# example utilizes the Stripe.NET SDK to create a Checkout Session. It configures the session with payment details, product information, customer options, and URLs. Make sure to install the Stripe.NET NuGet package and set your API key.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new Stripe.Checkout.SessionCreateOptions
{
    Customer = "cus_HQmikpKnGHkNwW",
    LineItems = new List<Stripe.Checkout.SessionLineItemOptions>
    {
        new Stripe.Checkout.SessionLineItemOptions
        {
            PriceData = new Stripe.Checkout.SessionLineItemPriceDataOptions
            {
                UnitAmount = 1000,
                ProductData = new Stripe.Checkout.SessionLineItemPriceDataProductDataOptions
                {
                    Name = "T-shirt",
                },
                Currency = "eur",
            },
            Quantity = 2,
        },
    },
    TaxIdCollection = new Stripe.Checkout.SessionTaxIdCollectionOptions
    {
        Enabled = true,
    },
    CustomerUpdate = new Stripe.Checkout.SessionCustomerUpdateOptions
    {
        Name = "auto",
        Shipping = "auto",
    },
    ShippingAddressCollection = new Stripe.Checkout.SessionShippingAddressCollectionOptions
    {
        AllowedCountries = new List<string> { "DE" },
    },
    Mode = "payment",
    SuccessUrl = "https://example.com/success",
    CancelUrl = "https://example.com/cancel",
};
var service = new Stripe.Checkout.SessionService();
Stripe.Checkout.Session session = service.Create(options);
```

--------------------------------

### Install Stripe React Packages

Source: https://docs.stripe.com/payments/checkout/custom-shipping-options

Installs the required `@stripe/react-stripe-js` and `@stripe/stripe-js` packages from npm for Stripe integration in React applications.

```bash
npm install --save @stripe/react-stripe-js @stripe-js
```

--------------------------------

### POST /v1/prices

Source: https://docs.stripe.com/products-prices/pricing-models

Create a price for a product. This defines how much a product costs and the billing interval.

```APIDOC
## POST /v1/prices

### Description
Create a price for a product. This defines how much a product costs and the billing interval.

### Method
POST

### Endpoint
https://api.stripe.com/v1/prices

### Parameters
#### Request Body
- **product** (string) - Required - The ID of the product this price belongs to.
- **unit_amount** (integer) - Required - The price in the smallest currency unit (e.g., cents).
- **currency** (string) - Required - The three-letter ISO currency code (e.g., 'usd').
- **recurring[interval]** (string) - Required - The frequency with which a subscription is renewed (e.g., 'month', 'year').

### Request Example
```bash
curl https://api.stripe.com/v1/prices \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d product="{{PRODUCT_ID}}" \
  -d unit_amount=1000 \
  -d currency=usd \
  -d "recurring[interval]"=month
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the created price.
- **product** (string) - The ID of the product associated with this price.
- **unit_amount** (integer) - The price in the smallest currency unit.
- **currency** (string) - The currency of the price.
- **recurring** (object) - Information about the recurring payment interval.
  - **interval** (string) - The frequency of recurrence.

#### Response Example
```json
{
  "id": "price_abcde",
  "product": "prod_12345",
  "unit_amount": 1000,
  "currency": "usd",
  "recurring": {
    "interval": "month"
  }
}
```
```

--------------------------------

### Create Stripe Checkout Session - Python

Source: https://docs.stripe.com/payments/during-payment/charge-shipping

This snippet demonstrates creating a Stripe Checkout Session using the Stripe Python client. It details the setup for billing address collection, shipping options, product details with pricing, and enables automatic tax calculation. You need to install the Stripe Python library.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

session = stripe.checkout.Session.create(
  billing_address_collection="required",
  shipping_address_collection={"allowed_countries": ["US", "CA"]},
  shipping_options=[
    {
      "shipping_rate_data": {
        "type": "fixed_amount",
        "fixed_amount": {"amount": 0, "currency": "usd"},
        "display_name": "Free shipping",
        "tax_behavior": "exclusive",
        "tax_code": "txcd_92010001",
        "delivery_estimate": {
          "minimum": {"unit": "business_day", "value": 5},
          "maximum": {"unit": "business_day", "value": 7},
        },
      },
    },
  ],
  line_items=[
    {
      "price_data": {
        "currency": "usd",
        "product_data": {"name": "T-shirt"},
        "unit_amount": 2000,
        "tax_behavior": "exclusive",
      },
      "quantity": 1,
    },
  ],
  automatic_tax={"enabled": True},
  mode="payment",
  success_url="https://example.com/success",
)
```

--------------------------------

### Install Stripe Go Package

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe Go package (v82) and initializes Go Modules for project management.

```bash
# Make sure your project is using Go Modules
go mod init
# Install stripe-go
go get -u github.com/stripe/stripe-go/v82
```

--------------------------------

### Install Stripe Onramp JS SDK via npm

Source: https://docs.stripe.com/crypto/onramp/embeddable-onramp-guide

Install the Stripe.js and Stripe crypto ES modules using npm. This command installs the necessary packages and includes TypeScript type definitions for easier integration.

```bash
npm install --save @stripe/stripe-js @stripe/crypto
```

--------------------------------

### Create Stripe Account using Python

Source: https://docs.stripe.com/connect/account-capabilities

Provides a Python example for creating a Stripe account using the Stripe Python library. Includes setting the API key and defining account parameters.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

account = stripe.Account.create(
  controller={
    "fees": {"payer": "application"},
    "losses": {"payments": "application"},
    "stripe_dashboard": {"type": "none"},
    "requirement_collection": "application",
  },
  country="US",
  capabilities={"card_payments": {"requested": True}, "transfers": {"requested": True}},
)
```

--------------------------------

### Install Stripe Gem (Ruby)

Source: https://docs.stripe.com/elements/address-element/collect-addresses

Installs the Stripe Ruby gem for server-side API interactions. Requires RubyGems to be installed. Available as a gem for easy installation.

```bash
sudo gem install stripe
```

```ruby
# If you use bundler, you can add this line to your Gemfile
gem 'stripe'
```

--------------------------------

### Install Stripe Node.js Library

Source: https://docs.stripe.com/billing/quickstart

Installs the Stripe Node.js library using npm. This package is essential for interacting with Stripe APIs in a Node.js environment.

```bash
npm install --save stripe
```

--------------------------------

### Install Stripe CLI with Homebrew

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe CLI using the Homebrew package manager on macOS and Linux. This command is the primary method for Homebrew users.

```bash
brew install stripe/stripe-cli/stripe
```

```bash
brew install stripe-cli
```

--------------------------------

### Install Stripe Python Package

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe Python library for server-side Stripe API interactions. Supports installation via pip and version pinning in requirements.txt.

```bash
pip3 install --upgrade stripe
```

```bash
# Or find the Stripe package on http://pypi.org/pypi/stripe/
```

```python
# Find the version you want to pin:
# https://github.com/stripe/stripe-python/blob/master/CHANGELOG.md
# Specify that version in your requirements.txt file
stripe>=5.0.0
```

--------------------------------

### Update Stripe Account (Node.js)

Source: https://docs.stripe.com/treasury/account-management/testing-financial-account-integration

This example demonstrates updating a Stripe account using the Node.js SDK. Ensure you have the Stripe Node.js library installed and your secret key configured. It updates TOS acceptance, settings, business profile, company, and individual information for a given account ID.

```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const account = await stripe.accounts.update(
  '{{CONNECTED_ACCOUNT_ID}}',
  {
    tos_acceptance: {
      date: 1547923073,
      ip: '172.18.80.19',
    },
    settings: {
      treasury: {
        tos_acceptance: {
          date: 1547923073,
          ip: '172.18.80.19',
        },
      },
    },
    business_profile: {
      mcc: '5045',
      url: 'https://bestcookieco.com',
    },
    company: {
      address: {
        city: 'Schenectady',
        line1: '123 State St',
        postal_code: '12345',
        state: 'NY',
      },
      tax_id: '000000000',
      name: 'The Best Cookie Co',
      phone: '8888675309',
    },
    individual: {
      first_name: 'Jenny',
      last_name: 'Rosen',
    },
  }
);

```

--------------------------------

### Create SetupIntent using Stripe Ruby Client

Source: https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects

This Ruby code demonstrates creating a Stripe SetupIntent. It utilizes the Stripe Ruby client library, requiring your secret key and the connected account ID, along with the payment method ID.

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

setup_intent = Stripe::SetupIntent.create(
  {payment_method: '{{PAYMENTMETHOD_ID}}'},
  {stripe_account: '{{CONNECTEDACCOUNT_ID}}'},
)
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

setup_intent = client.v1.setup_intents.create(
  {payment_method: '{{PAYMENTMETHOD_ID}}'},
  {stripe_account: '{{CONNECTEDACCOUNT_ID}}'},
)
```

--------------------------------

### Create Stripe Subscription in Go (New Client)

Source: https://docs.stripe.com/products-prices/pricing-models

This Go snippet shows how to create a Stripe subscription using a newly initialized Stripe client. It requires your secret key, customer ID, and price ID. The function returns a Subscription object and an error.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SubscriptionCreateParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Items: []*stripe.SubscriptionCreateItemParams{
    &stripe.SubscriptionCreateItemParams{
      Price: stripe.String("{{per_seat_price_id}}"),
      Quantity: stripe.Int64(12),
    },
  },
}
result, err := sc.V1Subscriptions.Create(context.TODO(), params)
```

--------------------------------

### Create Stripe Checkout Session (Go)

Source: https://docs.stripe.com/tax/checkout/tax-ids

This Go example demonstrates creating a Stripe Checkout Session using the Stripe Go SDK. It sets up the session with product data, customer ID, tax ID collection, customer updates, shipping address collection, payment mode, and redirect URLs. Ensure you have the Stripe Go library installed.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.CheckoutSessionParams{
  Customer: stripe.String("cus_HQmikpKnGHkNwW"),
  LineItems: []*stripe.CheckoutSessionLineItemParams{
    &stripe.CheckoutSessionLineItemParams{
      PriceData: &stripe.CheckoutSessionLineItemPriceDataParams{
        UnitAmount: stripe.Int64(1000),
        ProductData: &stripe.CheckoutSessionLineItemPriceDataProductDataParams{
          Name: stripe.String("T-shirt"),
        },
        Currency: stripe.String(stripe.CurrencyEUR),
      },
      Quantity: stripe.Int64(2),
    },
  },
  TaxIDCollection: &stripe.CheckoutSessionTaxIDCollectionParams{
    Enabled: stripe.Bool(true),
  },
  CustomerUpdate: &stripe.CheckoutSessionCustomerUpdateParams{
    Name: stripe.String("auto"),
    Shipping: stripe.String("auto"),
  },
  ShippingAddressCollection: &stripe.CheckoutSessionShippingAddressCollectionParams{
    AllowedCountries: []*string{stripe.String("DE")},
  },
  Mode: stripe.String(stripe.CheckoutSessionModePayment),
  SuccessURL: stripe.String("https://example.com/success"),
  CancelURL: stripe.String("https://example.com/cancel"),
}
result, err := session.New(params)
```

--------------------------------

### Create a Stripe Price for a Product

Source: https://docs.stripe.com/get-started/development-environment

Attaches a price to an existing Stripe product. This command requires the product identifier and specifies the currency and unit amount.

```bash
stripe prices create \
  --unit-amount=3000 \
  --currency=usd \
  --product="{{PRODUCT_ID}}"
```

--------------------------------

### Create Stripe Price - Java

Source: https://docs.stripe.com/products-prices/pricing-models

Provides a Java example for creating a Stripe price. This requires the Stripe Java library and setting the API key. The code uses a builder pattern to construct the price creation parameters, including product, currency, and recurring settings.

```java
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

PriceCreateParams params =
  PriceCreateParams.builder()
    .setProduct("{{PRODUCT_ID}}")
    .setCurrency("usd")
    .setUnitAmount(20000L)
    .setBillingScheme(PriceCreateParams.BillingScheme.PER_UNIT)
    .setRecurring(
      PriceCreateParams.Recurring.builder()
        .setUsageType(PriceCreateParams.Recurring.UsageType.LICENSED)
        .setInterval(PriceCreateParams.Recurring.Interval.MONTH)
        .build()
    )
    .build();

Price price = Price.create(params);
```

```java
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

PriceCreateParams params =
  PriceCreateParams.builder()
    .setProduct("{{PRODUCT_ID}}")
    .setCurrency("usd")
    .setUnitAmount(20000L)
    .setBillingScheme(PriceCreateParams.BillingScheme.PER_UNIT)
    .setRecurring(
      PriceCreateParams.Recurring.builder()
        .setUsageType(PriceCreateParams.Recurring.UsageType.LICENSED)
        .setInterval(PriceCreateParams.Recurring.Interval.MONTH)
        .build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Price price = client.v1().prices().create(params);
```

--------------------------------

### Install Stripe CLI on Windows (without Scoop)

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe CLI on Windows by downloading the zip file from GitHub releases, extracting it, and adding the path of the 'stripe.exe' file to the system's PATH environment variable.

```bash
Unzip the stripe_X.X.X_windows_x86_64.zip file.
Add the path to the unzipped stripe.exe file to your Path environment variable.
```

--------------------------------

### Create SetupIntent for ACH Direct Debit (.NET)

Source: https://docs.stripe.com/treasury/examples/moving-money

Provides a .NET example for creating a Stripe SetupIntent, including setting the API key, configuring the request options with a connected account ID, and invoking the SetupIntent creation service.

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new SetupIntentCreateOptions
{
    AttachToSelf = true,
    FlowDirections = new List<string> { "inbound", "outbound" },
    PaymentMethodTypes = new List<string> { "us_bank_account" },
    PaymentMethodData = new SetupIntentPaymentMethodDataOptions
    {
        Type = "us_bank_account",
        UsBankAccount = new SetupIntentPaymentMethodDataUsBankAccountOptions
        {
            RoutingNumber = "110000000",
            AccountNumber = "000123456789",
            AccountHolderType = "company",
        },
        BillingDetails = new SetupIntentPaymentMethodDataBillingDetailsOptions
        {
            Name = "Company Corp",
        },
    },
    Confirm = true,
    MandateData = new SetupIntentMandateDataOptions
    {
        CustomerAcceptance = new SetupIntentMandateDataCustomerAcceptanceOptions
        {
            Type = "online",
            Online = new SetupIntentMandateDataCustomerAcceptanceOnlineOptions
            {
                IpAddress = "123.123.123.123",
                UserAgent = "curl/1.2.3",
            },
        },
    },
};
var requestOptions = new RequestOptions
{
    StripeAccount = "{{CONNECTEDACCOUNT_ID}}",
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.SetupIntents;
SetupIntent setupIntent = service.Create(options, requestOptions);
```

--------------------------------

### Create SetupIntent

Source: https://docs.stripe.com/treasury/examples/moving-money

This section covers the creation of a SetupIntent, which is used to set up and save a customer's payment information for future use. It shows an example using curl.

```APIDOC
## POST /v1/setup_intents

### Description
Creates a SetupIntent object to set up a customer's payment method.

### Method
POST

### Endpoint
/v1/setup_intents

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
- **customer** (string) - Required - The ID of the customer to attach the SetupIntent to.
- **flow_directions** (array) - Required - Specifies the direction of money movement for the flow.
- **payment_method_types** (array) - Required - An array of PaymentMethod types that may be attached to this SetupIntent.
- **payment_method_data[type]** (string) - Required - The type of the payment method (e.g., `us_bank_account`).

### Request Example
```curl
curl https://api.stripe.com/v1/setup_intents \
  -u "<<YOUR_SECRET_KEY>>:" \
  -H "Stripe-Account: {{CONNECTEDACCOUNT_ID}}" \
  -d customer="{{CUSTOMER_ID}}" \
  -d "flow_directions[]"=outbound \
  -d "payment_method_types[]"=us_bank_account \
  -d "payment_method_data[type]"=us_bank_account
```

### Response
#### Success Response (200)
Returns a SetupIntent object.

#### Response Example
(Example response not provided in the source text, but would typically include SetupIntent details like ID, status, and associated payment method information.)
```

--------------------------------

### Create Stripe Setup Intent in .NET

Source: https://docs.stripe.com/treasury/examples/moving-money

This .NET code snippet shows how to create a Stripe Setup Intent. It configures the Stripe API key and then defines the options for creating a Setup Intent, including customer information, payment method details, and billing information. It then uses the SetupIntentService to make the API call.

```.NET
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new SetupIntentCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    FlowDirections = new List<string> { "outbound" },
    PaymentMethodTypes = new List<string> { "us_bank_account" },
    PaymentMethodData = new SetupIntentPaymentMethodDataOptions
    {
        Type = "us_bank_account",
        UsBankAccount = new SetupIntentPaymentMethodDataUsBankAccountOptions
        {
            RoutingNumber = "110000000",
            AccountNumber = "000123456789",
            AccountHolderType = "individual",
        },
        BillingDetails = new SetupIntentPaymentMethodDataBillingDetailsOptions
        {
            Name = "John doe",
        },
    },
    Confirm = true,
};
var requestOptions = new RequestOptions
{
    StripeAccount = "{{CONNECTEDACCOUNT_ID}}",
};
var service = new SetupIntentService();
SetupIntent setupIntent = service.Create(options, requestOptions);
```

```.NET
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new SetupIntentCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    FlowDirections = new List<string> { "outbound" },
    PaymentMethodTypes = new List<string> { "us_bank_account" },
    PaymentMethodData = new SetupIntentPaymentMethodDataOptions
    {
        Type = "us_bank_account",
        UsBankAccount = new SetupIntentPaymentMethodDataUsBankAccountOptions
        {
            RoutingNumber = "110000000",
            AccountNumber = "000123456789",
            AccountHolderType = "individual",
        },
        BillingDetails = new SetupIntentPaymentMethodDataBillingDetailsOptions
        {
            Name = "John doe",
        },
    },
    Confirm = true,
};
var requestOptions = new RequestOptions
{
    StripeAccount = "{{CONNECTEDACCOUNT_ID}}",
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.SetupIntents;
SetupIntent setupIntent = service.Create(options, requestOptions);
```

--------------------------------

### Install Stripe CLI on Windows

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe CLI on Windows by unzipping the downloaded file and adding the executable's directory to the system's PATH environment variable. Users should be aware of potential false positives from antivirus software.

```powershell
Add the path to the unzipped `stripe.exe` file to your `Path` environment variable.
```

--------------------------------

### Create Stripe Price with Graduated Tiers (Go)

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates how to create a Stripe price with graduated tiers using the Go SDK. This includes setting the product ID, currency, recurring interval, usage type, and defining multiple tiers with unit amounts and upper limits. The `tiers` expansion is also requested.

```go
package main

import (
	"context"
	"log"

	"github.com/stripe/stripe-go/v74"
	"github.com/stripe/stripe-go/v74/price"
)

func main() {
	// Set your secret key. Remember to switch to your live secret key in production.
	// See your keys here: https://dashboard.stripe.com/apikeys
	stripe.Key = "<<YOUR_SECRET_KEY>>"

	params := &price.NewParams{
		Nickname: stripe.String("Per-minute pricing"),
		Tiers: []*price.NewTierParams{
			{UnitAmount: stripe.Int64(700), UpTo: stripe.Int64(5)},
			{UnitAmount: stripe.Int64(650), UpTo: stripe.Int64(10)},
			{UnitAmount: stripe.Int64(600), UpToInf: stripe.String("inf")},
		},
		Currency: stripe.String(stripe.CurrencyUSD),
		Recurring: &price.NewRecurringParams{
			Interval: stripe.String(stripe.PriceRecurringIntervalMonth),
			UsageType: stripe.String(stripe.PriceRecurringUsageTypeMetered),
		},
		Product: stripe.String("{{PRODUCT_ID}}"),
		TiersMode: stripe.String(stripe.PriceTiersModeGraduated),
		BillingScheme: stripe.String(stripe.PriceBillingSchemeTiered),
	}
	params.AddExpand("tiers")

	result, err := price.New(params)

	if err != nil {
		log.Fatalf("Price.New: %v", err)
	}

	log.Printf("Created Price: %v\n", result.ID)
}

```

--------------------------------

### Website Redirect Example with Parameters

Source: https://docs.stripe.com/payments/checkout/limit-subscriptions

An example URL structure for redirecting customers to a website after a subscription event. It includes placeholders for `{CHECKOUT_SESSION_ID}` and `{CUSTOMER_EMAIL}` which Stripe populates dynamically.

```URL
https://togethere.pro/login?session_id={CHECKOUT_SESSION_ID}&customer_email={CUSTOMER_EMAIL}
```

--------------------------------

### Create Stripe Account with Controller Options (.NET)

Source: https://docs.stripe.com/connect/hosted-onboarding

Creates a Stripe account with specified controller, fees, losses, and Stripe Dashboard options using the Stripe .NET library. Requires the Stripe .NET SDK.

```.cs
var options = new AccountCreateOptions
{
    Controller = new AccountControllerOptions
    {
        Fees = new AccountControllerFeesOptions { Payer = "application" },
        Losses = new AccountControllerLossesOptions { Payments = "application" },
        StripeDashboard = new AccountControllerStripeDashboardOptions
        {
            Type = "express",
        },
    },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Accounts;
Account account = service.Create(options);
```

--------------------------------

### Create Stripe Setup Intent (.NET - Options)

Source: https://docs.stripe.com/payments/setup-intents

Creates a Stripe Setup Intent with 'on_session' usage using SetupIntentCreateOptions in .NET. Requires setting the API key globally.

```csharp
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new SetupIntentCreateOptions { Usage = "on_session" };
var service = new SetupIntentService();
SetupIntent setupIntent = service.Create(options);
```

--------------------------------

### Create Stripe Price (Go - Client)

Source: https://docs.stripe.com/invoicing/products-prices

This Go example demonstrates creating a price using the StripeClient and its V1Prices.Create method. It requires initializing the client and passing PriceCreateParams.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.PriceCreateParams{
  Product: stripe.String("{{PRODUCT_ID}}"),
  UnitAmount: stripe.Int64(1000),
  Currency: stripe.String(stripe.CurrencyUSD),
}
result, err := sc.V1Prices.Create(context.TODO(), params)
```

--------------------------------

### Check RubyGems Installation

Source: https://docs.stripe.com/get-started/development-environment

Checks if RubyGems is installed on the system by displaying its version. If not found, it suggests downloading RubyGems from the official page.

```bash
gem --version
```

--------------------------------

### Create Tiered Metered Price in PHP

Source: https://docs.stripe.com/products-prices/pricing-models

This PHP code demonstrates creating a tiered, metered price in Stripe. It configures the price with product ID, currency, monthly recurring metered usage, and defines two tiers. The first 100,000 units are free, and subsequent units are charged at 0.1 USD. Ensure the Stripe PHP SDK is installed and your API key is set.

```php
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$price = $stripe->prices->create([
  'product' => '{{PRODUCT_ID}}',
  'currency' => 'usd',
  'billing_scheme' => 'tiered',
  'recurring' => [
    'usage_type' => 'metered',
    'interval' => 'month',
    'meter' => '{{METER_ID}}',
  ],
  'tiers_mode' => 'graduated',
  'tiers' => [
    [
      'up_to' => 100000,
      'unit_amount_decimal' => '0',
    ],
    [
      'up_to' => 'inf',
      'unit_amount_decimal' => '0.1',
    ],
  ],
]);
```

--------------------------------

### Create Tiered Metered Price in Python

Source: https://docs.stripe.com/products-prices/pricing-models

This snippet shows how to create a tiered, metered price in Stripe using the Python SDK. It configures the price for a specific product, sets it to be billed monthly based on metered usage, and defines graduated tiers with different unit amounts. Ensure you have the Stripe Python SDK installed and your secret key configured.

```python
price = client.v1.prices.create({
  "product": "{{PRODUCT_ID}}",
  "currency": "usd",
  "billing_scheme": "tiered",
  "recurring": {"usage_type": "metered", "interval": "month", "meter": "{{METER_ID}}"},
  "tiers_mode": "graduated",
  "tiers": [
    {"up_to": 100000, "unit_amount_decimal": "0"},
    {"up_to": "inf", "unit_amount_decimal": "0.1"},
  ],
})
```

--------------------------------

### Run Next.js App

Source: https://docs.stripe.com/payments/quickstart

Starts the Next.js development server for the Stripe checkout page. Allows viewing the checkout page at localhost:3000.

```bash
npm run dev
```

--------------------------------

### List Stripe Products (Python, PHP, Java, Node.js, Go, .NET, Ruby)

Source: https://docs.stripe.com/connect/authentication

Demonstrates how to list Stripe products using the Stripe SDKs. It includes examples for setting API keys, specifying parameters like limit, and providing the connected account ID for platform integrations. Note that older SDK versions might require removing '.v1' from method calls.

```python
import stripe
stripe.api_key = '<<YOUR_SECRET_KEY>>'

products = stripe.Product.list(
  {"limit": 5},
  {"stripe_account": "{{CONNECTEDACCOUNT_ID}}"}
)
```

```php
<?php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$products = $stripe->products->all(
  ['limit' => 5],
  ['stripe_account' => '{{CONNECTEDACCOUNT_ID}}']
);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

ProductListParams params = ProductListParams.builder().setLimit(5L).build();

RequestOptions requestOptions =
  RequestOptions.builder().setStripeAccount("{{CONNECTEDACCOUNT_ID}}").build();

ProductCollection products = Product.list(params, requestOptions);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

ProductListParams params = ProductListParams.builder().setLimit(5L).build();

RequestOptions requestOptions =
  RequestOptions.builder().setStripeAccount("{{CONNECTEDACCOUNT_ID}}").build();
// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.

StripeCollection<Product> stripeCollection =
  client.v1().products().list(params, requestOptions);
```

```node
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const products = await stripe.products.list(
  {
    limit: 5,
  },
  {
    stripeAccount: '{{CONNECTEDACCOUNT_ID}}',
  }
);
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.ProductListParams{}
params.Limit = stripe.Int64(5)
params.SetStripeAccount("{{CONNECTEDACCOUNT_ID}}")
result := product.List(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.ProductListParams{}
params.Limit = stripe.Int64(5)
params.SetStripeAccount("{{CONNECTEDACCOUNT_ID}}")
result := sc.V1Products.List(context.TODO(), params)
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new ProductListOptions { Limit = 5 };
var requestOptions = new RequestOptions
{
    StripeAccount = "{{CONNECTEDACCOUNT_ID}}",
};
var service = new ProductService();
StripeList<Product> products = service.List(options, requestOptions);
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new ProductListOptions { Limit = 5 };
var requestOptions = new RequestOptions
{
    StripeAccount = "{{CONNECTEDACCOUNT_ID}}",
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Products;
StripeList<Product> products = service.List(options, requestOptions);
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

products = Stripe::Product.list(
  limit: 5,
  stripe_account: '{{CONNECTEDACCOUNT_ID}}'
)
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

products = client.v1.products.list(
  limit: 5,
  stripe_account: '{{CONNECTEDACCOUNT_ID}}'
)
```

--------------------------------

### Install @stripe/connect-js for React

Source: https://docs.stripe.com/connect/supported-embedded-components/capital-financing

Installs the beta version of the Stripe React Connect.js library for enabling private preview components.

```bash
npm install --save @stripe/react-connect-js@preview
```

--------------------------------

### Create Product using Stripe SDKs

Source: https://docs.stripe.com/invoicing/products-prices

Examples for creating a Stripe product with a given name using various SDKs. Ensure you have the correct SDK version and API keys configured. Note potential version-specific path adjustments like '.v1'.

```python
product = client.v1.products.create({"name": "Gold Special"})
```

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$product = $stripe->products->create(['name' => 'Gold Special']);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

ProductCreateParams params = 
  ProductCreateParams.builder().setName("Gold Special").build();

Product product = Product.create(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

ProductCreateParams params = 
  ProductCreateParams.builder().setName("Gold Special").build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Product product = client.v1().products().create(params);
```

```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const product = await stripe.products.create({
  name: 'Gold Special',
});
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.ProductParams{Name: stripe.String("Gold Special")}
result, err := product.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.ProductCreateParams{Name: stripe.String("Gold Special")}
result, err := sc.V1Products.Create(context.TODO(), params)
```

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new ProductCreateOptions { Name = "Gold Special" };
var service = new ProductService();
Product product = service.Create(options);
```

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new ProductCreateOptions { Name = "Gold Special" };
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Products;
Product product = service.Create(options);
```

--------------------------------

### Create Stripe Setup Intent (Java)

Source: https://docs.stripe.com/payments/setup-intents

Creates a Stripe Setup Intent with 'on_session' usage using the Stripe Java SDK. Requires setting the API key and building parameters.

```java
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

SetupIntentCreateParams params =
  SetupIntentCreateParams.builder()
    .setUsage(SetupIntentCreateParams.Usage.ON_SESSION)
    .build();

SetupIntent setupIntent = SetupIntent.create(params);
```

--------------------------------

### Enable Phone Number Collection in Stripe Checkout (Python)

Source: https://docs.stripe.com/payments/checkout/phone-numbers

Provides a Python example for enabling phone number collection in Stripe Checkout. It uses the `stripe` library to create a Checkout Session with `phone_number_collection['enabled']` set to `True`. Ensure you have the Stripe Python library installed and your API key configured.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

session = stripe.checkout.Session.create(
  line_items=[
    {
      "price_data": {
        "unit_amount": 1000,
        "product_data": {"name": "T-shirt"},
        "currency": "eur",
      },
      "quantity": 2,
    },
  ],
  phone_number_collection={"enabled": True},
  mode="payment",
  ui_mode="custom",
  return_url="https://example.com/return",
)
```

--------------------------------

### Stripe Price Creation Response

Source: https://docs.stripe.com/get-started/development-environment

Example JSON response after successfully creating a price for a product using the Stripe CLI. This response includes details about the price, currency, and associated product.

```json
{
  "id": "price_1KzlAMJJDeE9fu01WMJJr79o", // The identifier looks like this.
  "object": "price",
  "active": true,
  "billing_scheme": "per_unit",
  "created": 1652636348,
  "currency": "usd",
  "livemode": false,
  "lookup_key": null,
  "metadata": {},
  "nickname": null,
  "product": "prod_Lh9iTGZhb2mcBy",
  "recurring": null,
  "tax_behavior": "unspecified",
  "tiers_mode": null,
  "transform_quantity": null,
  "type": "one_time",
  "unit_amount": 3000,
  "unit_amount_decimal": "3000"
}
```

--------------------------------

### Install Stripe Ruby Gem

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe Ruby gem using Bundler, a dependency manager for Ruby projects. This is the recommended way to add the Stripe gem to a project.

```bash
bundle add stripe
```

```bash
bundle install
```

--------------------------------

### Install Stripe PHP Library

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Details on installing the Stripe PHP library using Composer, the standard method for managing PHP dependencies.

```bash
# Install the PHP library with Composer
composer require stripe/stripe-php
```

```bash
# Or download the source directly: https://github.com/stripe/stripe-php/releases

```

--------------------------------

### Install Stripe .NET Package

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe.net package using the .NET CLI and restores project dependencies.

```bash
# Install with dotnet
dotnet add package Stripe.net
dotnet restore
```

--------------------------------

### Install Stripe Server SDK - Ruby

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe Ruby SDK using RubyGems or Bundler.

```bash
sudo gem install stripe
```

```ruby
gem 'stripe'
```

--------------------------------

### Create Issuing Card

Source: https://docs.stripe.com/issuing/testing

This section provides examples of how to create an Issuing Card in Stripe.

```APIDOC
## POST /v1/issuing/cards

### Description
Creates a new Issuing Card object.

### Method
POST

### Endpoint
/v1/issuing/cards

### Parameters
#### Request Body
- **cardholder** (string) - Required - The ID of the cardholder for whom the card is being created.
- **type** (string) - Required - The type of card to create (e.g., `virtual`, `physical`).
- **currency** (string) - Required - The three-letter ISO currency code of the currency for the card.
- **status** (string) - Required - The status of the card (e.g., `active`, `inactive`).

### Request Example
```bash
curl https://api.stripe.com/v1/issuing/cards \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d cardholder="{{ISSUINGCARDHOLDER_ID}}" \
  -d type=virtual \
  -d currency=usd \
  -d status=active
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the card.
- **object** (string) - The type of object, which is always `issuing.card`.
- **cardholder** (string) - The ID of the cardholder for whom the card is being created.
- **type** (string) - The type of card.
- **currency** (string) - The currency of the card.
- **status** (string) - The status of the card.

#### Response Example
```json
{
  "id": "ic_1Kz5nK2eZvKYlo2Cg9XoV2s8z",
  "object": "issuing.card",
  "cardholder": "ich_1Kz5nC2eZvKYlo2C7XoV2s8z",
  "type": "virtual",
  "currency": "usd",
  "status": "active"
}
```
```

--------------------------------

### Install Stripe iOS SDK with CocoaPods

Source: https://docs.stripe.com/identity/verify-identity-documents

Steps to install the Stripe iOS SDK using CocoaPods. This includes initializing a Podfile if one doesn't exist, adding the 'StripeIdentity' pod, installing, and updating the pod.

```bash
pod init
```

```podfile
pod 'StripeIdentity'
```

```bash
pod install
```

```bash
pod update StripeIdentity
```

--------------------------------

### Create Stripe Top-up with Java SDK

Source: https://docs.stripe.com/treasury/moving-money/payouts

Provides an example of creating a top-up using the Stripe Java SDK. This example includes setting the API key and building the top-up parameters.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

TopupCreateParams params =
  TopupCreateParams.builder()
    .setAmount(2000L)
    .setCurrency("usd")
    .setDescription("Top-up")
    .setStatementDescriptor("Top-up")
    .build();

Topup topup = Topup.create(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

TopupCreateParams params =
  TopupCreateParams.builder()
    .setAmount(2000L)
    .setCurrency("usd")
    .setDescription("Top-up")
    .setStatementDescriptor("Top-up")
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Topup topup = client.v1().topups().create(params);
```

--------------------------------

### Install Stripe .NET Package via NuGet

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe.net package using the NuGet Package Manager console.

```bash
# Or install with NuGet
Install-Package Stripe.net
```

--------------------------------

### Install Stripe CLI on RPM-based Distributions

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe CLI on RPM-based Linux distributions (like Fedora, CentOS, RHEL). This method adds the Stripe yum repository and then installs the CLI package.

```bash
echo -e "[Stripe]\nname=stripe\nbaseurl=https://packages.stripe.dev/stripe-cli-rpm-local/\nenabled=1\ngpgcheck=0" >> /etc/yum.repos.d/stripe.repo
```

```bash
sudo yum install stripe
```

--------------------------------

### Create Stripe Invoice (Stripe CLI)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a Stripe invoice using the Stripe command-line interface. This command automates invoice creation for customer pre-payment.

```bash
stripe invoices create  \
  --description="Alpaca AI Credits" \
  --customer={{CUSTOMER_ID}} \
  --collection-method=charge_automatically
```

--------------------------------

### Create Price

Source: https://docs.stripe.com/products-prices/pricing-models

This section shows how to create a price object using the Stripe .NET SDK.

```APIDOC
## POST /v1/prices

### Description
Creates a new price object for a product.

### Method
POST

### Endpoint
/v1/prices

### Parameters
#### Request Body
- **product** (string) - Required - The ID of the product this price belongs to.
- **unit_amount** (integer) - Required - The price in the smallest currency unit.
- **currency** (string) - Required - Three-letter ISO currency code, in lowercase.
- **recurring** (object) - Optional - Defines the recurring interval for the price.
  - **interval** (string) - Required - The frequency of the recurring interval (e.g., 'day', 'week', 'month', 'year').

### Request Example
```csharp
var options = new PriceCreateOptions
{
    Product = "{{PRODUCT_ID}}",
    UnitAmount = 1000,
    Currency = "usd",
    Recurring = new PriceRecurringOptions { Interval = "month" },
};
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the price.
- **product** (string) - The ID of the product associated with this price.
- **unit_amount** (integer) - The price in the smallest currency unit.
- **currency** (string) - The currency of the price.
- **recurring** (object) - Information about the recurring interval.

#### Response Example
```json
{
  "id": "price_12345",
  "product": "prod_abcde",
  "unit_amount": 1000,
  "currency": "usd",
  "recurring": {
    "interval": "month"
  }
}
```
```

--------------------------------

### Handle Stripe Webhooks in Node.js with Express

Source: https://docs.stripe.com/webhooks

This Node.js example uses the Express framework to set up an endpoint for receiving Stripe webhooks. It demonstrates how to parse JSON payloads, verify webhook signatures using an endpoint secret, and handle different event types such as 'payment_intent.succeeded' and 'payment_method.attached'. Ensure you have Express installed and configure your endpoint secret correctly.

```javascript
// This example uses Express to receive webhooks
const express = require('express');
const app = express();

// Match the raw body to content type application/json
// If you are using Express v4 - v4.16 you need to use body-parser, not express, to retrieve the request body

// Replace this endpoint secret with your unique endpoint secret key
// If you're testing with the CLI, run 'stripe listen' to find the secret key
// # If you defined your endpoint using the API or the Dashboard, check your webhook settings for your endpoint secret: https://dashboard.stripe.com/webhooks
const endpointSecret = 'whsec_...';

app.post('/webhook', express.json({type: 'application/json'}), (request, response) => {
  const event = request.body;
  if (endpointSecret) {
    // Get the signature sent by Stripe
    const signature = request.headers['stripe-signature'];
    try {
      event = stripe.webhooks.constructEvent(
        request.body,
        signature,
        endpointSecret
      );
    } catch (err) {
      console.log(`  Webhook signature verification failed.`, err.message);
      return response.sendStatus(400);
    }

  // Handle the event
  switch (event.type) {
    case 'payment_intent.succeeded':
      const paymentIntent = event.data.object;
      // Then define and call a method to handle the successful payment intent.
      // handlePaymentIntentSucceeded(paymentIntent);
      break;
    case 'payment_method.attached':
      const paymentMethod = event.data.object;
      // Then define and call a method to handle the successful attachment of a PaymentMethod.
      // handlePaymentMethodAttached(paymentMethod);
      break;
    // ... handle other event types
    default:
      console.log(`Unhandled event type ${event.type}`);
  }

  // Return a response to acknowledge receipt of the event
  response.json({received: true});
});

app.listen(4242, () => console.log('Running on port 4242'));

```

--------------------------------

### Retrieve SetupIntent using Stripe CLI

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Retrieve a SetupIntent object using the Stripe Command Line Interface. This command requires the SetupIntent ID and authenticates using your configured Stripe API key.

```cli
stripe setup_intents retrieve seti_1EzVO3HssDVaQm2PJjXHmLlM
```

--------------------------------

### Install Stripe Server SDK - PHP

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe PHP SDK using Composer or by downloading the source directly.

```bash
composer require stripe/stripe-php
```

```bash
# Or download the source directly: https://github.com/stripe/stripe-php/releases
```

--------------------------------

### Create Stripe Subscription (Python)

Source: https://docs.stripe.com/products-prices/pricing-models

This snippet shows how to create a Stripe subscription using the Python SDK. It involves creating a `client` object and then calling `client.v1.subscriptions.create` with the necessary customer and item parameters.

```python
# For SDK versions 12.4.0 or lower, remove '.v1' from the following line.
subscription = client.v1.subscriptions.create({
  "customer": "{{CUSTOMER_ID}}",
  "items": [
    {"price": "{{FLAT_MONTHLY_FEE_PRICE_ID}}", "quantity": 1},
    {"price": "{{METERED_USAGE_PRICE_ID}}"},
  ],
})
```

--------------------------------

### Create Stripe Setup Intent (Node.js)

Source: https://docs.stripe.com/payments/setup-intents

Creates a Stripe Setup Intent with 'on_session' usage using the Stripe Node.js SDK. Requires the secret key to initialize the Stripe object.

```javascript
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const setupIntent = await stripe.setupIntents.create({
  usage: 'on_session',
});
```

--------------------------------

### Create Stripe Setup Intent (Java - Client)

Source: https://docs.stripe.com/payments/setup-intents

Creates a Stripe Setup Intent with 'on_session' usage using the StripeClient in Java. For SDK versions 29.4.0 or lower, '.v1()' should be removed.

```java
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

SetupIntentCreateParams params =
  SetupIntentCreateParams.builder()
    .setUsage(SetupIntentCreateParams.Usage.ON_SESSION)
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
SetupIntent setupIntent = client.v1().setupIntents().create(params);
```

--------------------------------

### Initialize Go Module

Source: https://docs.stripe.com/get-started/development-environment

Initializes a new Go project by creating a `go.mod` file. This file tracks project dependencies and is essential for using Go modules.

```bash
go mod init stripe-example
```

--------------------------------

### Install Stripe Server SDK - .NET

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe .NET SDK using dotnet CLI or NuGet Package Manager.

```bash
dotnet add package Stripe.net
dotnet restore
```

```powershell
Install-Package Stripe.net
```

--------------------------------

### Stripe Account Creation in Ruby (Default Standard)

Source: https://docs.stripe.com/connect/migrate-to-controller-properties

Illustrates creating a Stripe account using the Stripe Ruby library. This example sets the API key and then calls the `create` method without any specific parameters, resulting in a 'Standard' account.

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

account = Stripe::Account.create()
```

--------------------------------

### Create Stripe Price - Python

Source: https://docs.stripe.com/products-prices/pricing-models

Example of creating a Stripe price using the Python SDK. This code requires the Stripe Python library and authentication with an API key. It defines product, currency, unit amount, billing scheme, and recurring intervals for the price.

```python
price = client.v1.prices.create({
  "product": "{{PRODUCT_ID}}",
  "currency": "usd",
  "unit_amount": 20000,
  "billing_scheme": "per_unit",
  "recurring": {"usage_type": "licensed", "interval": "month"},
})
```

--------------------------------

### Install Stripe CLI on Windows without Scoop

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe CLI on Windows by downloading the zip file from GitHub releases, unzipping it, and adding the directory containing 'stripe.exe' to the system's PATH environment variable.

```bash
powershell -Command "[Environment]::SetEnvironmentVariable('Path', [Environment]::GetEnvironmentVariable('Path', 'User') + ';C:\path\to\stripe\cli', 'User')"
```

--------------------------------

### Install Stripe Server SDK - Python

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe Python SDK using pip and specifies versioning in requirements.txt.

```bash
pip3 install --upgrade stripe
```

```bash
pip3 install --upgrade stripe
# Or find the Stripe package on http://pypi.org/pypi/stripe/
```

```python
# Find the version you want to pin:
# https://github.com/stripe/stripe-python/blob/master/CHANGELOG.md
# Specify that version in your requirements.txt file
stripe>=5.0.0
```

--------------------------------

### Go Client Example

Source: https://docs.stripe.com/financial-connections/ownership

Example of creating a PaymentIntent using the Go Stripe client library.

```APIDOC
## Go Client Example

### Description
Demonstrates creating a PaymentIntent using the Go Stripe client.

### Code
```go
params := &stripe.SetupIntentCreateParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  PaymentMethodTypes: []*string{stripe.String("us_bank_account")},
  PaymentMethodOptions: &stripe.SetupIntentCreatePaymentMethodOptionsParams{
    USBankAccount: &stripe.SetupIntentCreatePaymentMethodOptionsUSBankAccountParams{
      FinancialConnections: &stripe.SetupIntentCreatePaymentMethodOptionsUSBankAccountFinancialConnectionsParams{
        Permissions: []*string{
          stripe.String(stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsPermissionOwnership),
          stripe.String(stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsPermissionPaymentMethod),
        },
      },
    },
  },
}
result, err := sc.V1SetupIntents.Create(context.TODO(), params)
```
```

--------------------------------

### Create Stripe Billing Meter (Java - Stripe Client)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

This Java example shows how to create a billing meter using the StripeClient. It includes setting the API key, configuring meter parameters, and making the API call, with a note about SDK version compatibility.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

MeterCreateParams params =
  MeterCreateParams.builder()
    .setDisplayName("Alpaca AI tokens")
    .setEventName("alpaca_ai_tokens")
    .setDefaultAggregation(
      MeterCreateParams.DefaultAggregation.builder()
        .setFormula(MeterCreateParams.DefaultAggregation.Formula.SUM)
        .build()
    )
    .setCustomerMapping(
      MeterCreateParams.CustomerMapping.builder()
        .setEventPayloadKey("stripe_customer_id")
        .setType(MeterCreateParams.CustomerMapping.Type.BY_ID)
        .build()
    )
    .setValueSettings(
      MeterCreateParams.ValueSettings.builder().setEventPayloadKey("value").build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Meter meter = client.v1().billing().meters().create(params);
```

--------------------------------

### Java: Manual JAR Installation

Source: https://docs.stripe.com/identity/verify-identity-documents

Instructions for manually installing Stripe Java JARs if not using Gradle or Maven. Requires downloading the Stripe JAR and Google Gson JAR.

```bash
# - The Stripe JAR from https://github.com/stripe/stripe-java/releases/latest
# - Google Gson from https://github.com/google/gson
```

--------------------------------

### Stripe Android SDK Installation

Source: https://docs.stripe.com/identity/verify-identity-documents

Instructions for installing the Stripe Android SDK for handling identity verification.

```APIDOC
## Install Stripe Android SDK

To use Stripe's Identity service with your Android application, install the Stripe Android SDK.

### Dependencies (app/build.gradle)

Add the following to your `dependencies` block:

```kotlin

// Stripe Identity Android SDK
implementation("com.stripe:identity:21.27.0")

```

**Note:** Ensure you do not modify the SDK if you intend to use it with Stripe's Identity service. Unauthorized modifications may breach your agreement with Stripe and could lead to account termination.
```

--------------------------------

### Create Stripe Checkout Session in Python

Source: https://docs.stripe.com/payments/checkout/discounts

Creates a Stripe Checkout session using the Stripe Python client. This example defines a T-shirt product with a price of $20.00 USD, sets the payment mode to 'payment', enables custom UI mode, allows promotion codes, and specifies a return URL. Ensure the Stripe Python library is installed and your secret key is set.

```Python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

session = stripe.checkout.Session.create(
  line_items=[
    {
      "price_data": {
        "unit_amount": 2000,
        "product_data": {"name": "T-shirt"},
        "currency": "usd",
      },
      "quantity": 1,
    },
  ],
  mode="payment",
  ui_mode="custom",
  allow_promotion_codes=True,
  return_url="https://example.com/checkout/return",
)

```

```Python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = StripeClient("<<YOUR_SECRET_KEY>>")

```

--------------------------------

### Create Stripe Subscription with Multiple Prices (Python)

Source: https://docs.stripe.com/products-prices/pricing-models

Python code example for creating a Stripe subscription that includes a fixed monthly price and a metered usage price. Ensure your Stripe API key and necessary IDs are configured.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

subscription = stripe.Subscription.create(
  customer="{{CUSTOMER_ID}}",
  items=[
    {"price": "{{FLAT_MONTHLY_FEE_PRICE_ID}}", "quantity": 1},
    {"price": "{{METERED_USAGE_PRICE_ID}}"},
  ],
)
```

--------------------------------

### Stripe CLI Output: Product and Price IDs

Source: https://docs.stripe.com/get-started/development-environment

This snippet shows a successful output from the Stripe CLI, indicating the creation of a subscription product and its associated price ID.

```bash
Success! Here is your starter subscription product id: prod_0KxBDl589O8KAxCG1alJgiA6
Success! Here is your starter subscription price id: price_0KxBDm589O8KAxCGMgG7scjb
```

--------------------------------

### Create Tiered Metered Price in Go

Source: https://docs.stripe.com/products-prices/pricing-models

This Go code example shows how to create a tiered, metered price in Stripe. It configures the price with product details, currency, monthly recurring metered usage, and graduated tiers. The first 100,000 units are free, and subsequent units are charged at $0.10. Ensure the Stripe Go library is imported and your API key is set.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.PriceParams{
  Product: stripe.String("{{PRODUCT_ID}}"),
  Currency: stripe.String(stripe.CurrencyUSD),
  BillingScheme: stripe.String(stripe.PriceBillingSchemeTiered),
  Recurring: &stripe.PriceRecurringParams{
    UsageType: stripe.String(stripe.PriceRecurringUsageTypeMetered),
    Interval: stripe.String(stripe.PriceRecurringIntervalMonth),
  },
  TiersMode: stripe.String(stripe.PriceTiersModeGraduated),
  Tiers: []*stripe.PriceTierParams{
    &stripe.PriceTierParams{
      UpTo: stripe.Int64(100000),
      UnitAmountDecimal: stripe.Float64(0),
    },
    &stripe.PriceTierParams{
      UpToInf: stripe.String("inf"),
      UnitAmountDecimal: stripe.Float64(0.1),
    },
  },
}
params.AddExtra("recurring[meter]", "{{METER_ID}}")
result, err := price.New(params)
```

--------------------------------

### Create Stripe Outbound Payment (.NET)

Source: https://docs.stripe.com/treasury/moving-money/financial-accounts/out-of/outbound-payments

This C# code example shows how to create an outbound payment using the Stripe .NET SDK. It includes setting up payment options, destination details, billing information, and request options for the Stripe API. Ensure you have the Stripe .NET library installed and replace placeholders with actual values.

```csharp
var options = new Stripe.Treasury.OutboundPaymentCreateOptions
{
    FinancialAccount = "{{TREASURYFINANCIALACCOUNT_ID}}",
    Amount = 2000,
    Currency = "usd",
    StatementDescriptor = "payment_1",
    DestinationPaymentMethodData = new Stripe.Treasury.OutboundPaymentDestinationPaymentMethodDataOptions
    {
        Type = "us_bank_account",
        UsBankAccount = new Stripe.Treasury.OutboundPaymentDestinationPaymentMethodDataUsBankAccountOptions
        {
            AccountHolderType = "individual",
            RoutingNumber = "110000000",
            AccountNumber = "1234567890",
        },
        BillingDetails = new Stripe.Treasury.OutboundPaymentDestinationPaymentMethodDataBillingDetailsOptions
        {
            Email = "jenny@example.com",
            Phone = "7135551212",
            Address = new AddressOptions
            {
                City = "Alvin",
                State = "TX",
                PostalCode = "77511",
                Line1 = "123 Main St.",
            },
            Name = "Jenny Rosen",
        },
    },
};
var requestOptions = new RequestOptions
{
    StripeAccount = "{{CONNECTEDACCOUNT_ID}}",
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Treasury.OutboundPayments;
Stripe.Treasury.OutboundPayment outboundPayment = service.Create(options, requestOptions);
```

--------------------------------

### Create Subscriptions in Python

Source: https://docs.stripe.com/billing/subscriptions/quantities

Python code examples for creating subscriptions using the Stripe library. Includes setting the API key and initiating a subscription for a customer with a given price.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

subscription = stripe.Subscription.create(
  customer="cus_4fdAW5ftNQow1a",
  items=[{"price": "price_CZB2krKbBDOkTS"}],
)
```

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = StripeClient("<<YOUR_SECRET_KEY>>")
```

--------------------------------

### Stripe CLI Example

Source: https://docs.stripe.com/financial-connections/ownership

Example of creating a PaymentIntent using the Stripe CLI.

```APIDOC
## Stripe CLI Example

### Description
Demonstrates creating a PaymentIntent using the Stripe command-line interface.

### Code
```bash
stripe payment_intents create  \
  --amount=20000 \
  --currency=usd \
  --customer="{{CUSTOMER_ID}}" \
  -d "payment_method_types[0]"=us_bank_account \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][0]"=ownership \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][1]"=payment_method
```
```

--------------------------------

### Install Stripe CLI on macOS without Homebrew

Source: https://docs.stripe.com/get-started/development-environment

Installs the Stripe CLI on macOS by downloading the tar.gz archive from GitHub releases and unzipping it. Optionally, the binary can be moved to a global execution path.

```bash
tar -xvf stripe_[X.X.X]_mac-os_[ARCH_TYPE].tar.gz
```

--------------------------------

### Create Stripe Subscription (Ruby)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Creates a new Stripe subscription using the Stripe Ruby SDK. Requires setting the API key and providing customer and price IDs. This example uses the default client.

```ruby
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

subscription = Stripe::Subscription.create({
  customer: '{{CUSTOMER_ID}}',
  items: [{price: '{{PRICE_ID}}'}],
})
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

subscription = client.v1.subscriptions.create({
  customer: '{{CUSTOMER_ID}}',
  items: [{price: '{{PRICE_ID}}'}],
})
```

--------------------------------

### Create Stripe Setup Intent (PHP)

Source: https://docs.stripe.com/payments/setup-intents

Creates a Stripe Setup Intent with 'on_session' usage using the Stripe PHP SDK. Ensure your secret key is set correctly.

```php
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$setupIntent = $stripe->setupIntents->create(['usage' => 'on_session']);
```

--------------------------------

### Install Stripe Server SDK - Java

Source: https://docs.stripe.com/identity/verify-identity-documents

Adds the Stripe Java SDK dependency for Gradle and Maven projects, and lists manual JAR installation.

```gradle
implementation "com.stripe:stripe-java:29.0.0"
```

```xml
<dependency>
  <groupId>com.stripe</groupId>
  <artifactId>stripe-java</artifactId>
  <version>29.0.0</version>
</dependency>
```

```bash
# For other environments, manually install the following JARs:
# - The Stripe JAR from https://github.com/stripe/stripe-java/releases/latest
# - Google Gson from https://github.com/google/gson
```

--------------------------------

### Install Stripe PHP Library with Composer

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe PHP library using Composer.

```bash
# Install the PHP library with Composer
composer require stripe/stripe-php
```

--------------------------------

### Schedule Stripe Subscription Update (Python)

Source: https://docs.stripe.com/tax/subscriptions/update

This Python code snippet demonstrates how to schedule a subscription update with Stripe, similar to the Ruby example, by setting the update to occur at the start of the next cycle. It retrieves a subscription, creates a schedule from it, and then modifies the schedule to define distinct phases with item and tax configurations. Requires the Stripe Python library.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
stripe.api_key = '<<YOUR_SECRET_KEY>>'

subscription = stripe.Subscription.retrieve('{{SUBSCRIPTION_ID}}')
schedule = stripe.SubscriptionSchedule.create(
    from_subscription=subscription['id'],
)
updated_schedule = stripe.SubscriptionSchedule.modify(
  schedule['id'],
  end_behavior = "release",
  phases=[
    # The first phase contains items for the
    #latest subscription invoice
    {
      "items": [
        # Prices and tax_rates for each item
        {
          "price": "{{PRICE_ID}}",
          "tax_rates": [
              "{{TAX_RATE_ID}}",
          ]
        },
      ],
      "default_tax_rates": ["{{TAX_RATE_ID}}"],
      "start_date": subscription['items']['data'][0].current_period_start,
      "end_date": subscription['items']['data'][0].current_period_end,
    },
    # The second phase removes manual tax rates and enables
    # automatic tax calculation
    {
      "items": [
        # Prices for each item with tax_rates: ""
        {
          "price": "{{PRICE_ID}}",
          "tax_rates": ""
        },
      ],
      "default_tax_rates": "",
      "automatic_tax": {"enabled": True},
      "iterations": 1
    }
  ],
)

```

--------------------------------

### Create Stripe SetupIntent with Python

Source: https://docs.stripe.com/financial-connections/balances

This snippet demonstrates how to initialize the Stripe client and create a SetupIntent for a customer, specifying payment method types and options for US bank accounts. It requires your Stripe secret key and a customer ID.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

setup_intent = stripe.SetupIntent.create(
  customer="{{CUSTOMER_ID}}",
  payment_method_types=["us_bank_account"],
  payment_method_options={
    "us_bank_account": {
      "financial_connections": {"permissions": ["balances", "payment_method"]},
    },
  },
)
```

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
from stripe import StripeClient
client = StripeClient("<<YOUR_SECRET_KEY>>")
```

--------------------------------

### Retrieve Checkout Session and display customer name on success page (Python)

Source: https://docs.stripe.com/payments/checkout/custom-success-page

This Python Flask example demonstrates how to retrieve a Checkout Session using the session ID from the request URL. It then fetches customer information using the session data to personalize the success page with the customer's name. This snippet is a part of a larger Flask application setup.

```Python
# This example sets up an endpoint using the Flask framework.
# Watch this video to get started: https://youtu.be/7Ul1vfmsDck.

import os
import stripe

from flask import Flask, request, render_template_string

app = Flask(__name__)

# Set your secret key. Remember to switch to your live secret key in production.

```

--------------------------------

### Create Issuing Cardholder

Source: https://docs.stripe.com/issuing/testing

This section provides examples of how to create an Issuing Cardholder in Stripe.

```APIDOC
## POST /v1/issuing/cardholders

### Description
Creates a new Issuing Cardholder object.

### Method
POST

### Endpoint
/v1/issuing/cardholders

### Parameters
#### Request Body
- **name** (string) - Required - The cardholder's name.
- **email** (string) - Optional - The cardholder's email address.
- **phone_number** (string) - Optional - The cardholder's phone number.
- **status** (string) - Required - The status of the cardholder (e.g., `active`, `inactive`).
- **type** (string) - Required - The type of cardholder (e.g., `individual`, `business`).
- **individual** (object) - Required if type is `individual` - Information about the individual cardholder.
  - **first_name** (string) - Required - The cardholder's first name.
  - **last_name** (string) - Required - The cardholder's last name.
  - **dob** (object) - Required - The cardholder's date of birth.
    - **day** (integer) - Required - The day of birth.
    - **month** (integer) - Required - The month of birth.
    - **year** (integer) - Required - The year of birth.
- **billing** (object) - Optional - The cardholder's billing information.
  - **address** (object) - Required - The billing address.
    - **line1** (string) - Required - The first line of the address.
    - **city** (string) - Required - The city.
    - **state** (string) - Required - The state or province.
    - **postal_code** (string) - Required - The postal code.
    - **country** (string) - Required - The two-letter country code.

### Request Example
```json
{
  "name": "Jenny Rosen",
  "email": "jenny.rosen@example.com",
  "phone_number": "+18008675309",
  "status": "active",
  "type": "individual",
  "individual": {
    "first_name": "Jenny",
    "last_name": "Rosen",
    "dob": {
      "day": 1,
      "month": 11,
      "year": 1981
    }
  },
  "billing": {
    "address": {
      "line1": "123 Main Street",
      "city": "San Francisco",
      "state": "CA",
      "postal_code": "94111",
      "country": "US"
    }
  }
}
```

### Response
#### Success Response (200)
- **id** (string) - The unique identifier for the cardholder.
- **object** (string) - The type of object, which is always `issuing.cardholder`.

#### Response Example
```json
{
  "id": "ich_1Kz5nC2eZvKYlo2C7XoV2s8z",
  "object": "issuing.cardholder",
  "name": "Jenny Rosen",
  "email": "jenny.rosen@example.com",
  "phone_number": "+18008675309",
  "status": "active",
  "type": "individual",
  "individual": {
    "first_name": "Jenny",
    "last_name": "Rosen",
    "dob": {
      "day": 1,
      "month": 11,
      "year": 1981
    }
  },
  "billing": {
    "address": {
      "line1": "123 Main Street",
      "city": "San Francisco",
      "state": "CA",
      "postal_code": "94111",
      "country": "US"
    }
  }
}
```
```

--------------------------------

### Start Stripe CLI Listener (Node.js)

Source: https://docs.stripe.com/checkout/embedded/quickstart

Starts the Stripe CLI in listening mode, forwarding events to a local development server.

```shell
stripe listen --forward-to localhost:3000/api/webhooks
```

--------------------------------

### Java: Retrieve Stripe Checkout Session and Customer Data

Source: https://docs.stripe.com/payments/checkout/custom-success-page

This Java example using Spark framework demonstrates retrieving Stripe checkout session and customer data. It sets up a GET endpoint '/order/success' that accepts a session_id query parameter. The Stripe Java library is used to fetch session and customer details, which are then used to construct an HTML response.

```java
import static spark.Spark.get;
import static spark.Spark.port;

import com.stripe.Stripe;
import com.stripe.model.checkout.Session;
import com.stripe.model.Customer;

public class Server {
  public static void main(String[] args) {
    port(4242);

    // Set your secret key. Remember to switch to your live secret key in production.
    // See your keys here: https://dashboard.stripe.com/apikeys
    Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

    get("/order/success", (request, response) -> {
      Session session = Session.retrieve(request.queryParams("session_id"));
      Customer customer = Customer.retrieve(session.getCustomer());
      return "<html><body><h1>Thanks for your order, " + customer.getName() + "!</h1></body></html>";
    });
  }
}
```

--------------------------------

### Create Setup Intent (Ruby)

Source: https://docs.stripe.com/financial-connections/balances

This Ruby code snippet demonstrates how to create a SetupIntent with Stripe, including specifying customer details, payment method types, and advanced options like US bank account financial connections permissions.

```APIDOC
## POST /v1/setup_intents

### Description
Creates a SetupIntent object. A SetupIntent is an object that represents your intention to set up a payment method for future use. This is useful for saving card details for later.

### Method
POST

### Endpoint
https://api.stripe.com/v1/setup_intents

### Parameters
#### Query Parameters
- **customer** (string) - Optional - The ID of the Customer this SetupIntent is for.
- **payment_method_types** (array of strings) - Required - An array of strings representing the payment method types that this SetupIntent can be used for.
- **payment_method_options** (object) - Optional - Extra options for specific payment method types.
  - **us_bank_account** (object) - Optional - Options for `us_bank_account` payment method type.
    - **financial_connections** (object) - Optional - Options for `financial_connections` associated with `us_bank_account`.
      - **permissions** (array of strings) - Optional - A list of permissions to grant to the connected account. Valid values are `balances` and `payment_method`.

### Request Example
```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

setup_intent = Stripe::SetupIntent.create({
  customer: '{{CUSTOMER_ID}}',
  payment_method_types: ['us_bank_account'],
  payment_method_options: {
    us_bank_account: {
      financial_connections: {permissions: ['balances', 'payment_method']},
    },
  },
})
```

### Response
#### Success Response (200)
- **id** (string) - Unique identifier for the SetupIntent.
- **customer** (string) - The ID of the Customer associated with this SetupIntent.
- **status** (string) - The status of the SetupIntent.
- **usage** (string) - Indicates the intended use of the SetupIntent. ('one_time' or 'continuous')

#### Response Example
```json
{
  "id": "seti_12345",
  "customer": "{{CUSTOMER_ID}}",
  "status": "requires_payment_method",
  "usage": "one_time"
}
```
```

--------------------------------

### Create Stripe Setup Intent (Python)

Source: https://docs.stripe.com/payments/setup-intents

Creates a Stripe Setup Intent with 'on_session' usage. For SDK versions 12.4.0 or lower, '.v1' should be removed from the client call.

```python
setup_intent = client.v1.setup_intents.create({"usage": "on_session"})
```

--------------------------------

### Create Stripe Subscription (Node.js)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a Stripe subscription using the Node.js SDK. This involves initializing the Stripe module with your secret key and then calling the subscriptions create method.

```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const subscription = await stripe.subscriptions.create({
  customer: '{{CUSTOMER_ID}}',
  items: [
    {
      price: '{{RECURRING_PRICE_ID}}',
    },
  ],
});
```

--------------------------------

### PHP: Retrieve Stripe Checkout Session and Customer Data

Source: https://docs.stripe.com/payments/checkout/custom-success-page

This PHP example uses the Stripe PHP SDK to retrieve checkout session and customer data. It expects a session ID from the GET request parameters. After retrieving the session and customer, it outputs an HTML response with the customer's name. Error handling for Stripe API calls is included.

```php
<?php
require 'vendor/autoload.php';

$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

try {
  $session = $stripe->checkout->sessions->retrieve($_GET['session_id']);
  $customer = $stripe->customers->retrieve($session->customer);
  echo "<h1>Thanks for your order, $customer->name!</h1>";
  http_response_code(200);
} catch (Error $e) {
  http_response_code(500);
  echo json_encode(['error' => $e->getMessage()]);
}
?>
```

--------------------------------

### Create Stripe Account in Java (with v1 path)

Source: https://docs.stripe.com/connect/hosted-onboarding

This Java code snippet illustrates creating a Stripe account using the `StripeClient` and specifying the `v1` API path. It includes a note about potential SDK version compatibility for the `.v1()` call.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

AccountCreateParams params =
  AccountCreateParams.builder().setType(AccountCreateParams.Type.STANDARD).build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Account account = client.v1().accounts().create(params);
```

--------------------------------

### Create Stripe Checkout Session in Python (Setup Mode)

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Shows how to create a Stripe Checkout Session in setup mode using the Python SDK. This enables customer onboarding for future payments. The code initializes the Stripe API key and defines the session creation parameters.

```python
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

session = stripe.checkout.Session.create(
  mode="setup",
  ui_mode="custom",
  currency="usd",
)
```

--------------------------------

### Create Stripe Invoice Item (Go)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates an invoice item using the Stripe Go library. Requires setting the API key and using the invoiceitem.New function with a pointer to StripeInvoiceItemParams.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import (
	"context"
	"github.com/stripe/stripe-go/v74"
	"github.com/stripe/stripe-go/v74/invoiceitem"
)

stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.InvoiceItemParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Currency: stripe.String(stripe.CurrencyUSD),
  UnitAmountDecimal: stripe.Float64(10000000),
}
result, err := invoiceitem.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import (
	"context"
	"github.com/stripe/stripe-go/v74"
	"github.com/stripe/stripe-go/v74/invoiceitem"
)

sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.InvoiceItemCreateParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Currency: stripe.String(stripe.CurrencyUSD),
  UnitAmountDecimal: stripe.Float64(10000000),
}
result, err := sc.V1InvoiceItems.Create(context.TODO(), params)
```

--------------------------------

### Go: Install and Import Stripe Go Package

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe Go package (v82) and demonstrates how to import it into your Go project. Requires Go Modules to be initialized.

```bash
go mod init
go get -u github.com/stripe/stripe-go/v82
```

```go
import (
  "github.com/stripe/stripe-go/v82"
)
```

--------------------------------

### Add Stripe SDK to requirements.txt

Source: https://docs.stripe.com/get-started/development-environment

Specifies the minimum version of the Stripe Python SDK to be used in a project's requirements.txt file.

```txt
stripe>=12.0.0
```

--------------------------------

### Create Stripe Account with Type Standard (Python)

Source: https://docs.stripe.com/connect/hosted-onboarding

Creates a Stripe account of type 'standard' using the Stripe Python library. Requires the Stripe Python library to be installed and your Stripe API key.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

account = stripe.Account.create(type="standard")
```

--------------------------------

### Create Stripe Subscription using Go

Source: https://docs.stripe.com/api/subscriptions/create

This Go code example shows how to create a Stripe subscription. It involves setting the Stripe API key and then defining subscription parameters including customer and item details using a SubscriptionParams struct before making the creation call.

```go
stripe.Key = '<<YOUR_SECRET_KEY>>

params := &stripe.SubscriptionParams{
  Customer: stripe.String('cus_Na6dX7aXxi11N4'),
  Items: []*stripe.SubscriptionItemsParams{
    &stripe.SubscriptionItemsParams{
      Price: stripe.String('price_1MowQULkdIwHu7ixraBm864M'),
    },
  },
}
result, err := subscription.New(params)
```

--------------------------------

### Create Stripe Account in Java (StripeClient)

Source: https://docs.stripe.com/connect/account-capabilities

Illustrates creating a Stripe account using the StripeClient in Java. This example is suitable for newer versions of the Stripe Java SDK and includes configuration for account controller, country, and capabilities. Note the SDK version dependency for the client initialization.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

AccountCreateParams params =
  AccountCreateParams.builder()
    .setController(
      AccountCreateParams.Controller.builder()
        .setFees(
          AccountCreateParams.Controller.Fees.builder ()
            .setPayer(AccountCreateParams.Controller.Fees.Payer.APPLICATION)
            .build()
        )
        .setLosses(
          AccountCreateParams.Controller.Losses.builder ()
            .setPayments(AccountCreateParams.Controller.Losses.Payments.APPLICATION)
            .build()
        )
        .setStripeDashboard(
          AccountCreateParams.Controller.StripeDashboard.builder ()
            .setType(AccountCreateParams.Controller.StripeDashboard.Type.NONE)
            .build()
        )
        .setRequirementCollection(
          AccountCreateParams.Controller.RequirementCollection.APPLICATION
        )
        .build()
    )
    .setCountry("US")
    .setCapabilities(
      AccountCreateParams.Capabilities.builder ()
        .setCardPayments(
          AccountCreateParams.Capabilities.CardPayments.builder ()
            .setRequested(true)
            .build()
        )
        .setTransfers(
          AccountCreateParams.Capabilities.Transfers.builder().setRequested(true).build()
        )
        .build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Account account = client.v1().accounts().create(params);
```

--------------------------------

### Handle Stripe Webhook for Top-up Succeeded (JavaScript)

Source: https://docs.stripe.com/climate/orders/quickstart

Processes the 'topup.succeeded' webhook event from Stripe. If the top-up metadata contains a 'climate_product', it creates a new climate order using the top-up amount, currency, and product.

```javascript
case 'topup.succeeded': {
  const topup = event.data.object;
  if (topup.metadata.climate_product) {
    await stripe.climate.orders.create({
      amount: topup.amount,
      currency: topup.currency,
      product: topup.metadata.climate_product,
    });
  }
  break;
}
```

--------------------------------

### Create Stripe Price with Metered Tiers (Go)

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates how to create a Stripe price with metered usage and graduated tiers using the Go client library. Requires setting the secret key and product ID.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.PriceCreateParams{
  Product: stripe.String("{{PRODUCT_ID}}"),
  Currency: stripe.String(stripe.CurrencyUSD),
  BillingScheme: stripe.String(stripe.PriceBillingSchemeTiered),
  Recurring: &stripe.PriceCreateRecurringParams{
    UsageType: stripe.String(stripe.PriceRecurringUsageTypeMetered),
    Interval: stripe.String(stripe.PriceRecurringIntervalMonth),
  },
  TiersMode: stripe.String(stripe.PriceTiersModeGraduated),
  Tiers: []*stripe.PriceCreateTierParams{
    &stripe.PriceCreateTierParams{
      UpTo: stripe.Int64(100000),
      UnitAmountDecimal: stripe.Float64(0),
    },
    &stripe.PriceCreateTierParams{
      UpToInf: stripe.String("inf"),
      UnitAmountDecimal: stripe.Float64(0.1),
    },
  },
}
params.AddExtra("recurring[meter]", "{{METER_ID}}")
result, err := sc.V1Prices.Create(context.TODO(), params)
```

--------------------------------

### Configure and Launch Address Launcher

Source: https://docs.stripe.com/payments/quickstart

Sets up the AddressLauncher with configuration options such as additional fields, allowed countries, title, and Google Places API key. It then launches the address collection flow.

```kotlin
import com.stripe.android.paymentsheet.addresselement.AddressDetails;
import com.stripe.android.paymentsheet.addresselement.AddressLauncher;
import com.stripe.android.paymentsheet.addresselement.AddressLauncherResult;

private AddressLauncher addressLauncher;

private AddressDetails shippingDetails;

private Button addressButton;

private final AddressLauncher.Configuration configuration =
        new AddressLauncher.Configuration.Builder()
                .additionalFields(
                        new AddressLauncher.AdditionalFieldsConfiguration(
                        AddressLauncher.AdditionalFieldsConfiguration.FieldConfiguration.REQUIRED
                        )
                )
                .allowedCountries(new HashSet<>(Arrays.asList("US", "CA", "GB")))
                .title("Shipping Address")
                .googlePlacesApiKey("(optional) YOUR KEY HERE")
                .build();

      // Hook up the address button
      addressButton = findViewById(R.id.address_button);
      addressButton.setOnClickListener(this::onAddressClicked);
      addressLauncher = new AddressLauncher(this, this::onAddressLauncherResult);

    private void onAddressClicked(View view) {
      AddressLauncher.Configuration addressConfiguration = new AddressLauncher.Configuration.Builder().address(shippingDetails).build();
      String publishableKey = PaymentConfiguration.getInstance(this.getApplicationContext()).getPublishableKey();

      addressLauncher.present(
        publishableKey,
        addressConfiguration
      );
    }

    private void onAddressLauncherResult(AddressLauncherResult result) {
        // TODO: Handle result and update your UI
        if (result instanceof AddressLauncherResult.Succeeded) {
            shippingDetails = ((AddressLauncherResult.Succeeded) result).getAddress();
        } else if (result instanceof AddressLauncherResult.Canceled) {
            // TODO: Handle cancel
        }
    }
```

--------------------------------

### Python Client Example

Source: https://docs.stripe.com/financial-connections/ownership

Example of creating a PaymentIntent using the Python Stripe client.

```APIDOC
## Python Client Example

### Description
Demonstrates creating a PaymentIntent using the Python Stripe client.

### Code
```python
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

payment_intent = stripe.PaymentIntent.create(
  amount=20000,
  currency="usd",
  customer="{{CUSTOMER_ID}}",
  payment_method_types=["us_bank_account"],
  payment_method_options={
    "us_bank_account": {
      "financial_connections": {"permissions": ["ownership", "payment_method"]},
    },
  },
)
```
```

--------------------------------

### .NET: Retrieve Stripe Checkout Session and Customer Data

Source: https://docs.stripe.com/payments/checkout/custom-success-page

This .NET example using ASP.NET MVC sets up a controller action to handle Stripe checkout success. It defines a GET endpoint '/order/success' that accepts a session_id. The Stripe .NET library is used to retrieve session and customer objects, and an HTML content response is returned with the customer's name.

```csharp
// This example sets up an endpoint using the ASP.NET MVC framework.
// Watch this video to get started: https://youtu.be/2-mMOB8MhmE.

using System.Collections.Generic;
using Microsoft.AspNetCore.Mvc;
using Microsoft.Extensions.Options;
using Stripe;
using Stripe.Checkout;

namespace server.Controllers
{
  public class SuccessController : Controller
  {
    public SuccessController()
    {
      // Set your secret key. Remember to switch to your live secret key in production!
      // See your keys here: https://dashboard.stripe.com/apikeys
      StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";
    }

    [HttpGet("/order/success")]
    public ActionResult OrderSuccess([FromQuery] string session_id)
    {
      var sessionService = new SessionService();
      Session session = sessionService.Get(session_id);
      var customerService = new CustomerService();
      Customer customer = customerService.Get(session.CustomerId);
      return Content($"<html><body><h1>Thanks for your order, {customer.Name}!</h1></body></html>");
    }
  }
}
```

--------------------------------

### Create Subscription using Stripe Curl

Source: https://docs.stripe.com/products-prices/pricing-models

Provides an example of creating a subscription via a cURL request to the Stripe API. Requires a secret key, customer ID, and price ID. This method is versatile and language-agnostic.

```bash
curl https://api.stripe.com/v1/subscriptions \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d customer="{{CUSTOMER_ID}}" \
  -d "items[0][price]"={{per_seat_price_id}} \
  -d "items[0][quantity]"=12
```

--------------------------------

### Go: Retrieve Stripe Checkout Session and Customer Data

Source: https://docs.stripe.com/payments/checkout/custom-success-page

This Go example using the Echo framework demonstrates setting up an HTTP server to handle Stripe checkout success. It configures a GET route for '/order/success' which retrieves the session ID from the query parameters. The Stripe Go library is used to fetch session and customer details, and an HTML response is returned.

```go
package main

import (
  "net/http"

  "github.com/labstack/echo"
  "github.com/labstack/echo/middleware"
  "github.com/stripe/stripe-go/v76.0.0"
  "github.com/stripe/stripe-go/v76.0.0/customer"
  "github.com/stripe/stripe-go/v76.0.0/checkout/session"
)

// This example sets up an endpoint using the Echo framework.
// Watch this video to get started: https://youtu.be/ePmEVBu8w6Y.

func main() {
  // Set your secret key. Remember to switch to your live secret key in production!
  // See your keys here: https://dashboard.stripe.com/apikeys
  stripe.Key = "<<YOUR_SECRET_KEY>>"

  e := echo.New()
  e.Use(middleware.Logger())
  e.Use(middleware.Recover())

  e.GET("/order/success", orderSuccess)

  e.Logger.Fatal(e.Start("localhost:4242"))
}

func orderSuccess(c echo.Context) (err error) {
  s, _ := session.Get(c.QueryParam("session_id"), nil)
  cus, _ := customer.Get(s.Customer, nil)
  return c.String(http.StatusOK, "<html><body><h1>Thanks for your order, " + cus.Name + "!</h1></body></html>")
}
```

--------------------------------

### Python: Retrieve Stripe Checkout Session and Customer Data

Source: https://docs.stripe.com/payments/checkout/custom-success-page

This Python Flask example demonstrates how to retrieve Stripe checkout session and customer data from a GET request. It uses the Stripe Python library to fetch session details using a session ID and then retrieves the associated customer information. The output is an HTML string displaying a personalized thank you message.

```python
import stripe
from flask import Flask, request, render_template_string

# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
stripe.api_key = '<<YOUR_SECRET_KEY>>'

app = Flask(__name__)

@app.route('/order/success', methods=['GET'])
def order_success():
    session = stripe.checkout.Session.retrieve(request.args.get('session_id'))
    customer = stripe.Customer.retrieve(session.customer)
    return render_template_string('<html><body><h1>Thanks for your order, {{customer.name}}!</h1></body></html>', customer=customer)

if __name__== '__main__':
    app.run(port=4242)
```

--------------------------------

### Capture Stripe Issuing Authorization (Go)

Source: https://docs.stripe.com/issuing/testing

Captures an Stripe Issuing authorization using the Stripe Go SDK. Two examples are provided, one using a direct method and another using the client with versioned paths.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.TestHelpersIssuingAuthorizationCaptureParams{}
result, err := authorization.Capture("{{ISSUINGAUTHORIZATION_ID}}", params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.TestHelpersIssuingAuthorizationCaptureParams{
  Authorization: stripe.String("{{ISSUINGAUTHORIZATION_ID}}"),
}
result, err := sc.V1TestHelpersIssuingAuthorizations.Capture(context.TODO(), params)
```

--------------------------------

### .NET Client Example (StripeConfiguration)

Source: https://docs.stripe.com/financial-connections/ownership

Example of creating a PaymentIntent using the .NET Stripe client library with StripeConfiguration.

```APIDOC
## .NET Client Example (StripeConfiguration)

### Description
Demonstrates creating a PaymentIntent using the .NET Stripe client with global configuration.

### Code
```csharp
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new SetupIntentCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    PaymentMethodTypes = new List<string> { "us_bank_account" },
    PaymentMethodOptions = new SetupIntentPaymentMethodOptionsOptions
    {
        UsBankAccount = new SetupIntentPaymentMethodOptionsUsBankAccountOptions
        {
            FinancialConnections = new SetupIntentPaymentMethodOptionsUsBankAccountFinancialConnectionsOptions
            {
                Permissions = new List<string> { "ownership", "payment_method" },
            },
        },
    },
};
var service = new SetupIntentService();
SetupIntent setupIntent = service.Create(options);
```
```

--------------------------------

### Create Stripe Subscription (Go)

Source: https://docs.stripe.com/billing/subscriptions/coupons

Creates a Stripe subscription using the Stripe Go SDK. This example demonstrates setting the API key and defining subscription parameters including customer, price, and discounts. Note that the `subscription.New` function is used for creation.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SubscriptionParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Items: []*stripe.SubscriptionItemsParams{
    &stripe.SubscriptionItemsParams{
      Price: stripe.String("{{PRICE_ID}}"),
      Discounts: []*stripe.SubscriptionItemDiscountParams{
        &stripe.SubscriptionItemDiscountParams{Coupon: stripe.String("item-coupon")},
        &stripe.SubscriptionItemDiscountParams{
          PromotionCode: stripe.String("item-promo"),
        },
      },
    },
  },
  Discounts: []*stripe.SubscriptionDiscountParams{
    &stripe.SubscriptionDiscountParams{Coupon: stripe.String("sub-coupon")},
    &stripe.SubscriptionDiscountParams{PromotionCode: stripe.String("sub-promo")},
  },
}
result, err := subscription.New(params)
```

--------------------------------

### Create Stripe Account Link (Java)

Source: https://docs.stripe.com/connect/hosted-onboarding

Constructs a Stripe account link using the Java SDK. Ensure your Stripe API key is set. This code demonstrates building the parameters for account onboarding, including collection options.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

AccountLinkCreateParams params = 
  AccountLinkCreateParams.builder()
    .setAccount("{{CONNECTEDACCOUNT_ID}}")
    .setRefreshUrl("https://example.com/refresh")
    .setReturnUrl("https://example.com/return")
    .setType(AccountLinkCreateParams.Type.ACCOUNT_ONBOARDING)
    .setCollectionOptions(
      AccountLinkCreateParams.CollectionOptions.builder()
        .setFields(AccountLinkCreateParams.CollectionOptions.Fields.EVENTUALLY_DUE)
        .build()
    )
    .build();

AccountLink accountLink = AccountLink.create(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

AccountLinkCreateParams params = 
  AccountLinkCreateParams.builder()
    .setAccount("{{CONNECTEDACCOUNT_ID}}")
    .setRefreshUrl("https://example.com/refresh")
    .setReturnUrl("https://example.com/return")
    .setType(AccountLinkCreateParams.Type.ACCOUNT_ONBOARDING)
    .setCollectionOptions(
      AccountLinkCreateParams.CollectionOptions.builder()
        .setFields(AccountLinkCreateParams.CollectionOptions.Fields.EVENTUALLY_DUE)
        .build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
AccountLink accountLink = client.v1().accountLinks().create(params);
```

--------------------------------

### Stripe Reader Firmware ID to Version Mapping Example

Source: https://docs.stripe.com/terminal/readers/bbpos-wisepos-e

An example illustrating how a PCI firmware ID maps to ROM and reader versions. It shows the conversion process for a given identifier.

```plaintext
WSC5x.11-18302-50127 maps to ROM version 1.8.3.2 and firmware version 5.00.01.27
```

--------------------------------

### Setup Future Usage

Source: https://docs.stripe.com/api/payment_intents/create

Guidance on using setup_future_usage for recurring payments and compliance with SCA and network rules.

```APIDOC
## Setup Future Usage

### Description
When processing card payments, `setup_future_usage` helps comply with regulations like SCA. It indicates intent to reuse a payment method for future transactions.

If `setup_future_usage` is set and a publishable key is used, it can only be updated from `on_session` to `off_session`.

### Parameter Details
- **setup_future_usage** (enum, optional) - Controls future payment method usage.
  Possible enum values:
  - `none`: Use if the payment method is not intended for reuse. Overrides top-level `setup_future_usage`.
  - `off_session`: Use if the customer may or may not be present during checkout.
```

--------------------------------

### Ruby Client Example (Stripe)

Source: https://docs.stripe.com/financial-connections/ownership

Example of creating a PaymentIntent using the Ruby Stripe client.

```APIDOC
## Ruby Client Example (Stripe)

### Description
Demonstrates creating a PaymentIntent using the Ruby Stripe client.

### Code
```ruby
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

payment_intent = Stripe::PaymentIntent.create({
  amount: 20000,
  currency: 'usd',
  customer: '{{CUSTOMER_ID}}',
  payment_method_types: ['us_bank_account'],
  payment_method_options: {
    us_bank_account: {
      financial_connections: {permissions: ['ownership', 'payment_method']},
    },
  },
})
```
```

--------------------------------

### Check PHP Version

Source: https://docs.stripe.com/get-started/development-environment

Checks the installed PHP version on the system. This is a prerequisite for installing the Stripe PHP SDK, which supports PHP 5.6.0+.

```bash
php --version
```

--------------------------------

### Create Stripe Account (Python, for SDK versions 12.4.0 or lower)

Source: https://docs.stripe.com/connect/hosted-onboarding

This Python snippet shows how to create a standard Stripe account. Note that for older SDK versions (12.4.0 or lower), the '.v1' path should be removed from the client initialization.

```python
# For SDK versions 12.4.0 or lower, remove '.v1' from the following line.
account = client.v1.accounts.create({"type": "standard"})
```

--------------------------------

### Handle Stripe Webhook Events in .NET

Source: https://docs.stripe.com/connect/webhooks

This .NET example shows how to create an ASP.NET Core controller to receive and process Stripe webhook events. It includes setting the Stripe API key, reading the request body, verifying the webhook signature using Stripe's utility, and handling specific event types like 'AccountExternalAccountUpdated'. Ensure you have the Stripe.net NuGet package installed.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

using System;
using System.IO;
using System.Threading.Tasks;
using Microsoft.AspNetCore.Mvc;
using Microsoft.Extensions.Logging;

using Stripe;

namespace Controllers
{
  public class ConnectController : Controller
  {
    private readonly ILogger<ConnectController> logger;

    public ConnectController(
      ILogger<ConnectController> logger
    ) {
      this.logger = logger;
    }

    [HttpPost("webhook")]
    public async Task<IActionResult> ProcessWebhookEvent()
    {
      var json = await new StreamReader(HttpContext.Request.Body).ReadToEndAsync();

      // If you're testing your webhook locally with the Stripe CLI, you
      // can find the endpoint's secret by running `stripe listen`
      // Otherwise, find your endpoint's secret in your webhook settings
      // in the Developer Dashboard
      const string endpointSecret = "whsec_...";
// Verify webhook signature and extract the event.
      // See https://stripe.com/docs/webhooks#verify-events for more information.
      try
      {
        var stripeEvent = EventUtility.ConstructEvent(json, Request.Headers["Stripe-Signature"], endpointSecret);

        // If on SDK version < 46, use class Events instead of EventTypes
        if (stripeEvent.Type == EventTypes.AccountExternalAccountUpdated) {
          var externalAccount = stripeEvent.Data.Object as ExternalAccount;
          var connectedAccountId = stripeEvent.Account;
          handleExternalAccountUpdate(connectedAccountId, externalAccount);
        }

        return Ok();
      }
      catch (Exception e)
      {
        logger.LogInformation(e.ToString());
        return BadRequest();
      }
    }

    private void handleExternalAccountUpdate(string connectedAccountId, ExternalAccount externalAccount) {
      // Transfer funds to a connected account
      logger.LogInformation($"Connected account ID: {connectedAccountId}");
      logger.LogInformation($"{externalAccount}");
    }
  }
}

```

--------------------------------

### Install Stripe Library - Python

Source: https://docs.stripe.com/payments/accept-stablecoin-payments

Installs the Stripe Python library using pip. It's recommended to pin a specific version for stability, referencing the changelog.

```bash
# Install through pip
pip3 install --upgrade stripe
```

```bash
# Or find the Stripe package on http://pypi.org/pypi/stripe/

```

```python
# Find the version you want to pin:
# https://github.com/stripe/stripe-python/blob/master/CHANGELOG.md
# Specify that version in your requirements.txt file
stripe>=5.0.0
```

--------------------------------

### Create Stripe Price - Node.js

Source: https://docs.stripe.com/products-prices/pricing-models

Example for creating a Stripe price using the Node.js SDK. Requires the Stripe Node.js package and your secret key. The code defines the price object with product, currency, unit amount, and recurring billing details.

```javascript
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const price = await stripe.prices.create({
  product: '{{PRODUCT_ID}}',
  currency: 'usd',
  unit_amount: 20000,
  billing_scheme: 'per_unit',
  recurring: {
    usage_type: 'licensed',
    interval: 'month',
  },
});
```

--------------------------------

### Create Setup Intent in Node.js

Source: https://docs.stripe.com/treasury/examples/moving-money

Creates a Stripe Setup Intent using the Node.js SDK, specifying customer details, payment method types, and billing information. The code asynchronously handles the creation process.

```node.js
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const setupIntent = await stripe.setupIntents.create(
  {
    customer: '{{CUSTOMER_ID}}',
    flow_directions: ['outbound'],
    payment_method_types: ['us_bank_account'],
    payment_method_data: {
      type: 'us_bank_account',
      us_bank_account: {
        routing_number: '110000000',
        account_number: '000123456789',
        account_holder_type: 'individual',
      },
      billing_details: {
        name: 'John doe',
      },
    },
    confirm: true,
  },
  {
    stripeAccount: '{{CONNECTEDACCOUNT_ID}}',
  }
);
```

--------------------------------

### Install Stripe React Native SDK with NPM

Source: https://docs.stripe.com/payments/mobile/collect-addresses

This command installs the Stripe React Native SDK using the NPM package manager. Ensure you have NPM installed and configured in your project.

```bash
npm install @stripe/stripe-react-native
```

--------------------------------

### Create Stripe Setup Intent in Go

Source: https://docs.stripe.com/treasury/examples/moving-money

This Go code snippet demonstrates how to create a Stripe Setup Intent. It initializes the Stripe client with your secret key and then uses the V1SetupIntents.Create method to create the intent with specified customer, payment method, and billing details. It also includes setting the Stripe account for connected accounts.

```Go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SetupIntentCreateParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  FlowDirections: []*string{stripe.String(stripe.SetupIntentFlowDirectionOutbound)},
  PaymentMethodTypes: []*string{stripe.String("us_bank_account")},
  PaymentMethodData: &stripe.SetupIntentCreatePaymentMethodDataParams{
    Type: stripe.String("us_bank_account"),
    USBankAccount: &stripe.SetupIntentCreatePaymentMethodDataUSBankAccountParams{
      RoutingNumber: stripe.String("110000000"),
      AccountNumber: stripe.String("000123456789"),
      AccountHolderType: stripe.String("individual"),
    },
    BillingDetails: &stripe.SetupIntentCreatePaymentMethodDataBillingDetailsParams{
      Name: stripe.String("John doe"),
    },
  },
  Confirm: stripe.Bool(true),
}
params.SetStripeAccount("{{CONNECTEDACCOUNT_ID}}")
result, err := sc.V1SetupIntents.Create(context.TODO(), params)
```

--------------------------------

### Install Stripe React Native SDK with Yarn

Source: https://docs.stripe.com/payments/mobile/collect-addresses

This command installs the Stripe React Native SDK using the Yarn package manager. Ensure you have Yarn installed and configured in your project.

```bash
yarn add @stripe/stripe-react-native
```

--------------------------------

### Create Tiered Metered Price (Node.js)

Source: https://docs.stripe.com/products-prices/pricing-models

Provides an example of creating a metered Stripe price with graduated tiers using the Stripe Node.js library. This snippet requires an asynchronous context (`async/await`). Remember to set your Stripe secret key and replace `{{PRODUCT_ID}}`.

```javascript
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const price = await stripe.prices.create({
  nickname: 'Per-minute pricing',
  tiers: [
    {
      unit_amount: 700,
      up_to: 5,
    },
    {
      unit_amount: 650,
      up_to: 10,
    },
    {
      unit_amount: 600,
      up_to: 'inf',
    },
  ],
  currency: 'usd',
  recurring: {
    interval: 'month',
    usage_type: 'metered',
  },
  product: '{{PRODUCT_ID}}',
  tiers_mode: 'graduated',
  billing_scheme: 'tiered',
  expand: ['tiers'],
});
```

--------------------------------

### Ruby Client Example (StripeClient)

Source: https://docs.stripe.com/financial-connections/ownership

Example of creating a PaymentIntent using the Ruby Stripe client with StripeClient.

```APIDOC
## Ruby Client Example (StripeClient)

### Description
Demonstrates creating a PaymentIntent using the Ruby Stripe client with an instance of StripeClient.

### Code
```ruby
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

payment_intent = client.v1.payment_intents.create({
  amount: 20000,
  currency: 'usd',
  customer: '{{CUSTOMER_ID}}',
  payment_method_types: ['us_bank_account'],
  payment_method_options: {
    us_bank_account: {
      financial_connections: {permissions: ['ownership', 'payment_method']},
    },
  },
})
```
```

--------------------------------

### Create Customer using Stripe API (v1)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Creates a new customer with a specified name using the Stripe Go SDK, targeting the v1 API. Initializes a new Stripe client and uses the V1Customers.Create method.

```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.CustomerCreateParams{Name: stripe.String("John Doe")}
result, err := sc.V1Customers.Create(context.TODO(), params)
```

--------------------------------

### Create 'Per-seat' Product using Stripe API

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates how to create a product named 'Per-seat' using the Stripe API. This involves setting the product name. Examples are provided for various clients and languages.

```curl
curl https://api.stripe.com/v1/products \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d name=Per-seat
```

```cli
stripe products create  \
  --name=Per-seat
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

product = Stripe::Product.create({name: 'Per-seat'})
```

```ruby_client
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

product = client.v1.products.create({name: 'Per-seat'})
```

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

product = stripe.Product.create(name="Per-seat")
```

```python_client
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = StripeClient("<<YOUR_SECRET_KEY>>")

# For SDK versions 12.4.0 or lower, remove '.v1' from the following line.
product = client.v1.products.create({"name": "Per-seat"})
```

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$product = $stripe->products->create(['name' => 'Per-seat']);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

ProductCreateParams params = ProductCreateParams.builder().setName("Per-seat").build();

Product product = Product.create(params);
```

```java_client
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

ProductCreateParams params = ProductCreateParams.builder().setName("Per-seat").build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Product product = client.v1().products().create(params);
```

```node
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const product = await stripe.products.create({
  name: 'Per-seat',
});
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.ProductParams{Name: stripe.String("Per-seat")}
result, err := product.New(params)
```

```go_client
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.ProductCreateParams{Name: stripe.String("Per-seat")}
result, err := sc.V1Products.Create(context.TODO(), params)
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new ProductCreateOptions { Name = "Per-seat" };
var service = new ProductService();
Product product = service.Create(options);
```

```dotnet_client
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new ProductCreateOptions { Name = "Per-seat" };
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Products;
Product product = service.Create(options);
```

--------------------------------

### Install Stripe React Native SDK

Source: https://docs.stripe.com/issuing/cards/digital-wallets

Instructions for installing the Stripe React Native SDK using either Yarn or npm package managers.

```bash
yarn add @stripe/stripe-react-native
```

```bash
npm install @stripe/stripe-react-native
```

--------------------------------

### Create New .NET Console Project

Source: https://docs.stripe.com/get-started/development-environment

Command to create a new .NET console application project. This serves as the base for integrating the Stripe.NET SDK.

```bash
dotnet new console
```

--------------------------------

### Create Stripe Account with Type Standard (CLI)

Source: https://docs.stripe.com/connect/hosted-onboarding

Creates a Stripe account of type 'standard' using the Stripe CLI. Requires the Stripe CLI to be installed and configured with your API key.

```bash
stripe accounts create \
  --type=standard
```

--------------------------------

### Capture Stripe Issuing Authorization (.NET)

Source: https://docs.stripe.com/issuing/testing

Captures an Stripe Issuing authorization using the Stripe .NET SDK. Examples are provided for both the direct service and the client-based approach.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var service = new Stripe.TestHelpers.Issuing.AuthorizationService();
Stripe.Issuing.Authorization authorization = service.Capture(
    "{{ISSUINGAUTHORIZATION_ID}}");
```

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.TestHelpers.Issuing.Authorizations;
Stripe.Issuing.Authorization authorization = service.Capture(
    "{{ISSUINGAUTHORIZATION_ID}}");
```

--------------------------------

### Stripe Delivery Estimate Examples

Source: https://docs.stripe.com/payments/during-payment/charge-shipping

Provides examples of how to define delivery estimates for shipping rates using `minimum` and `maximum` values. These are represented as JSON objects with `unit` and `value` properties, accommodating various timeframes from hours to business days.

```es6
{
    unit: 'day',
    value: 1,
  }
```

```es6
{
    unit: 'business_day',
    value: 1,
  }
```

```es6
{
    unit: 'business_day',
    value: 2,
  }
```

```es6
{
    unit: 'day',
    value: 3,
  }
```

```es6
{
    unit: 'day',
    value: 7,
  }
```

```es6
{
    unit: 'hour',
    value: 4,
  }
```

```es6
{
    unit: 'hour',
    value: 8,
  }
```

```es6
{
    unit: 'business_day',
    value: 2,
  }
```

--------------------------------

### Create Stripe Issuing Cardholder (Java with Client)

Source: https://docs.stripe.com/issuing/testing

Creates an issuing cardholder using the Stripe Java SDK with a client instance. Requires the `stripe-java` library and a valid secret key. This example shows how to instantiate the client and pass parameters to the create method.

```java
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

CardholderCreateParams params =
  CardholderCreateParams.builder()
    .setName("Jenny Rosen")
    .setEmail("jenny.rosen@example.com")
    .setPhoneNumber("+18008675309")
    .setStatus(CardholderCreateParams.Status.ACTIVE)
    .setType(CardholderCreateParams.Type.INDIVIDUAL)
    .setIndividual(
      CardholderCreateParams.Individual.builder()
        .setFirstName("Jenny")
        .setLastName("Rosen")
        .setDob(
          CardholderCreateParams.Individual.Dob.builder()
            .setDay(1L)
            .setMonth(11L)
            .setYear(1981L)
            .build()
        )
        .build()
    )
    .setBilling(
      CardholderCreateParams.Billing.builder()
        .setAddress(
          CardholderCreateParams.Billing.Address.builder()
            .setLine1("123 Main Street")
            .setCity("San Francisco")
            .setState("CA")
            .setPostalCode("94111")
            .setCountry("US")
            .build()
        )
        .build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Cardholder cardholder = client.v1().issuing().cardholders().create(params);
```

--------------------------------

### .NET Client Example (StripeClient)

Source: https://docs.stripe.com/financial-connections/ownership

Example of creating a PaymentIntent using the .NET Stripe client library with StripeClient.

```APIDOC
## .NET Client Example (StripeClient)

### Description
Demonstrates creating a PaymentIntent using the .NET Stripe client with an instance of StripeClient.

### Code
```csharp
var options = new SetupIntentCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    PaymentMethodTypes = new List<string> { "us_bank_account" },
    PaymentMethodOptions = new SetupIntentPaymentMethodOptionsOptions
    {
        UsBankAccount = new SetupIntentPaymentMethodOptionsUsBankAccountOptions
        {
            FinancialConnections = new SetupIntentPaymentMethodOptionsUsBankAccountFinancialConnectionsOptions
            {
                Permissions = new List<string> { "ownership", "payment_method" },
            },
        },
    },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.SetupIntents;
SetupIntent setupIntent = service.Create(options);
```
```

--------------------------------

### Create Stripe Subscription with Multiple Prices (cURL)

Source: https://docs.stripe.com/products-prices/pricing-models

Example using cURL to create a Stripe subscription that includes both a flat-rate monthly fee and a metered usage price. Requires customer ID and price IDs.

```bash
curl https://api.stripe.com/v1/subscriptions \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d customer={{CUSTOMER_ID}} \
  -d "items[0][price]"={{FLAT_MONTHLY_FEE_PRICE_ID}} \
  -d "items[0][quantity]"=1 \
  -d "items[1][price]"={{METERED_USAGE_PRICE_ID}}
```

--------------------------------

### Create Setup Intent in PHP

Source: https://docs.stripe.com/treasury/examples/moving-money

Creates a Stripe Setup Intent using the PHP SDK, configuring customer, payment method, and billing details. It also includes the option to confirm the intent.

```php
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$setupIntent = $stripe->setupIntents->create(
  [
    'customer' => '{{CUSTOMER_ID}}',
    'flow_directions' => ['outbound'],
    'payment_method_types' => ['us_bank_account'],
    'payment_method_data' => [
      'type' => 'us_bank_account',
      'us_bank_account' => [
        'routing_number' => '110000000',
        'account_number' => '000123456789',
        'account_holder_type' => 'individual',
      ],
      'billing_details' => ['name' => 'John doe'],
    ],
    'confirm' => true,
  ],
  ['stripe_account' => '{{CONNECTEDACCOUNT_ID}}']
);
```

--------------------------------

### Create Stripe SetupIntent with US Bank Account (.NET)

Source: https://docs.stripe.com/financial-connections/balances

Provides examples for creating a Stripe SetupIntent using the .NET SDK. It covers setting the secret key, customer ID, payment method types, and financial connections options including permissions.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new SetupIntentCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    PaymentMethodTypes = new List<string> { "us_bank_account" },
    PaymentMethodOptions = new SetupIntentPaymentMethodOptionsOptions
    {
        UsBankAccount = new SetupIntentPaymentMethodOptionsUsBankAccountOptions
        {
            FinancialConnections = new SetupIntentPaymentMethodOptionsUsBankAccountFinancialConnectionsOptions
            {
                Permissions = new List<string> { "balances", "payment_method" },
            },
        },
    },
};
var service = new SetupIntentService();
SetupIntent setupIntent = service.Create(options);
```

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new SetupIntentCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    PaymentMethodTypes = new List<string> { "us_bank_account" },
    PaymentMethodOptions = new SetupIntentPaymentMethodOptionsOptions
    {
        UsBankAccount = new SetupIntentPaymentMethodOptionsUsBankAccountOptions
        {
            FinancialConnections = new SetupIntentPaymentMethodOptionsUsBankAccountFinancialConnectionsOptions
            {
                Permissions = new List<string> { "balances", "payment_method" },
            },
        },
    },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.SetupIntents;
SetupIntent setupIntent = service.Create(options);
```

--------------------------------

### Install Stripe Ruby Gem

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe Ruby gem for server-side API access. Ensures you have the necessary library to interact with Stripe services.

```bash
sudo gem install stripe
```

--------------------------------

### Create Monthly Price for Product using Stripe API

Source: https://docs.stripe.com/products-prices/pricing-models

Shows how to create a price for a product, specifically a monthly recurring fee. It requires the product ID, unit amount, currency, and recurring interval. Examples are provided for Curl and CLI.

```curl
curl https://api.stripe.com/v1/prices \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d product="{{PRODUCT_ID}}" \
  -d unit_amount=1000 \
  -d currency=usd \
  -d "recurring[interval]"=month
```

```cli
stripe prices create  \
  --product="{{PRODUCT_ID}}" \
  --unit-amount=1000 \
  --currency=usd \
  -d "recurring[interval]"=month
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

price = Stripe::Price.create({
  product: '{{PRODUCT_ID}}',
  unit_amount: 1000,
```

--------------------------------

### Create Metered Price (Ruby)

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates how to create a metered price with a graduated rate using the Stripe Ruby SDK. It shows the necessary parameters for setting up tiered usage-based billing.

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

price = Stripe::Price.create({
  product: '{{PRODUCT_ID}}',
  currency: 'usd',
  billing_scheme: 'tiered',
  recurring: {
    usage_type: 'metered',
    interval: 'month',
    meter: '{{METER_ID}}',
  },
  tiers_mode: 'graduated',
  tiers: [
    {
      up_to: 100000,
      unit_amount_decimal: '0',
    },
    {
      up_to: 'inf',
      unit_amount_decimal: '0.1',
    },
  ],
})
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

price = client.v1.prices.create({
  product: '{{PRODUCT_ID}}',
  currency: 'usd',
  billing_scheme: 'tiered',
  recurring: {
    usage_type: 'metered',
    interval: 'month',
    meter: '{{METER_ID}}',
  },
  tiers_mode: 'graduated',
  tiers: [
    {
      up_to: 100000,
      unit_amount_decimal: 0,
    },
    {
      up_to: 'inf',
      unit_amount_decimal: 0.1,
    },
  ],
})
```

--------------------------------

### Create Setup Intent (cURL)

Source: https://docs.stripe.com/financial-connections/balances

This cURL command demonstrates how to create a SetupIntent with Stripe, including specifying customer details, payment method types, and advanced options like US bank account financial connections permissions.

```APIDOC
## POST /v1/setup_intents

### Description
Creates a SetupIntent object. A SetupIntent is an object that represents your intention to set up a payment method for future use. This is useful for saving card details for later.

### Method
POST

### Endpoint
https://api.stripe.com/v1/setup_intents

### Parameters
#### Query Parameters
- **customer** (string) - Optional - The ID of the Customer this SetupIntent is for.
- **payment_method_types** (array of strings) - Required - An array of strings representing the payment method types that this SetupIntent can be used for.
- **payment_method_options** (object) - Optional - Extra options for specific payment method types.
  - **us_bank_account** (object) - Optional - Options for `us_bank_account` payment method type.
    - **financial_connections** (object) - Optional - Options for `financial_connections` associated with `us_bank_account`.
      - **permissions** (array of strings) - Optional - A list of permissions to grant to the connected account. Valid values are `balances` and `payment_method`.

### Request Example
```curl
curl https://api.stripe.com/v1/setup_intents \
  -u "<<YOUR_SECRET_KEY>>:" \
  -d customer="{{CUSTOMER_ID}}" \
  -d "payment_method_types[]"=us_bank_account \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][0]"=balances \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][1]"=payment_method
```

### Response
#### Success Response (200)
- **id** (string) - Unique identifier for the SetupIntent.
- **customer** (string) - The ID of the Customer associated with this SetupIntent.
- **status** (string) - The status of the SetupIntent.
- **usage** (string) - Indicates the intended use of the SetupIntent. ('one_time' or 'continuous')

#### Response Example
```json
{
  "id": "seti_12345",
  "customer": "{{CUSTOMER_ID}}",
  "status": "requires_payment_method",
  "usage": "one_time"
}
```
```

--------------------------------

### Capture Stripe Issuing Authorization (Java)

Source: https://docs.stripe.com/issuing/testing

Captures an Stripe Issuing authorization using the Stripe Java SDK. This example first retrieves the authorization resource and then captures it.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

Authorization resource = Authorization.retrieve("{{ISSUINGAUTHORIZATION_ID}}");

AuthorizationCaptureParams params = AuthorizationCaptureParams.builder().build();

Authorization authorization = resource.getTestHelpers().capture(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

AuthorizationCaptureParams params = AuthorizationCaptureParams.builder().build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Authorization authorization =
  client.v1().testHelpers().issuing().authorizations().capture(
    "{{ISSUINGAUTHORIZATION_ID}}",
    params
  );
```

--------------------------------

### Guides Container Grid Layout

Source: https://stripe.com/payments/elements

Defines a grid container for guide lines, setting up columns based on a variable `--columnCountMax` and positioning it centrally within the layout. It also defines the background for individual guide elements.

```css
.Guides__container{display:grid;grid:1fr/repeat(var(--columnCountMax),1fr);position:relative;max-width:var(--layoutWidth);height:100%;margin:0 auto}.Guides__guide{width:1px;background:linear-gradient(180deg,var(--guideDashedColor),var(--guideDashedColor) 50%,transparen
```

--------------------------------

### Create Recurring Price in Java

Source: https://docs.stripe.com/products-prices/pricing-models

This Java example shows how to create a monthly recurring price using the Stripe Java library. It includes setting the API key and configuring the price creation parameters.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

PriceCreateParams params = 
  PriceCreateParams.builder()
    .setProduct("{{PRODUCT_ID}}")
    .setUnitAmount(1000L)
    .setCurrency("usd")
    .setRecurring(
      PriceCreateParams.Recurring.builder()
        .setInterval(PriceCreateParams.Recurring.Interval.MONTH)
        .build()
    )
    .build();

Price price = Price.create(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

PriceCreateParams params = 
  PriceCreateParams.builder()
    .setProduct("{{PRODUCT_ID}}")
    .setUnitAmount(1000L)
    .setCurrency("usd")
    .setRecurring(
      PriceCreateParams.Recurring.builder()
        .setInterval(PriceCreateParams.Recurring.Interval.MONTH)
        .build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Price price = client.v1().prices().create(params);
```

--------------------------------

### Project Dependencies: server package.json

Source: https://docs.stripe.com/checkout/quickstart

This `package.json` file outlines the dependencies for a Node.js backend project, including `express` for server functionality and `@stripe/stripe-js` for Stripe integration. It also defines scripts for starting the client and server concurrently, building the project, and testing.

```json
{
  "name": "stripe-sample",
  "version": "0.1.0",
  "dependencies": {
    "@stripe/react-stripe-js": "^3.7.0",
    "@stripe/stripe-js": "^7.3.0",
    "express": "^4.17.1",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-scripts": "^3.4.0",
    "stripe": "^8.202.0"
  },
  "devDependencies": {
    "concurrently": "4.1.2"
  },
  "homepage": "http://localhost:3000/checkout",
  "proxy": "http://localhost:4242",
  "scripts": {
    "start-client": "react-scripts start",
    "start-server": "node server.js",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject",
    "start": "concurrently \"yarn start-client\" \"yarn start-server\""
  },
  "eslintConfig": {
    "extends": "react-app"
  },
  "browserslist": {
    "production": [
      ">0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  }
}
```

--------------------------------

### Create Stripe Issuing Card (Go)

Source: https://docs.stripe.com/issuing/testing

Creates a virtual issuing card using the Stripe Go SDK. Requires the 'stripe' package. Demonstrates two methods: using a global API key or a client instance with API versioning.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.IssuingCardParams{
  Cardholder: stripe.String("{{ISSUINGCARDHOLDER_ID}}"),
  Type: stripe.String(stripe.IssuingCardTypeVirtual),
  Currency: stripe.String(stripe.CurrencyUSD),
  Status: stripe.String(stripe.IssuingCardStatusActive),
}
result, err := card.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.IssuingCardCreateParams{
  Cardholder: stripe.String("{{ISSUINGCARDHOLDER_ID}}"),
  Type: stripe.String(stripe.IssuingCardTypeVirtual),
  Currency: stripe.String(stripe.CurrencyUSD),
  Status: stripe.String(stripe.IssuingCardStatusActive),
}
result, err := sc.V1IssuingCards.Create(context.TODO(), params)
```

--------------------------------

### Create Stripe Setup Intent (Java)

Source: https://docs.stripe.com/financial-connections/balances

This Java code demonstrates creating a Stripe Setup Intent with financial connections enabled for US bank accounts. It utilizes the Stripe Java SDK and requires setting the API key and providing customer and permission details. Note the builder pattern used for constructing the parameters.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

SetupIntentCreateParams params =
  SetupIntentCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addPaymentMethodType("us_bank_account")
    .setPaymentMethodOptions(
      SetupIntentCreateParams.PaymentMethodOptions.builder()
        .setUsBankAccount(
          SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.builder()
            .setFinancialConnections(
              SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.builder()
                .addPermission(
                  SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.Permission.BALANCES
                )
                .addPermission(
                  SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.Permission.PAYMENT_METHOD
                )
                .build()
            )
            .build()
        )
        .build()
    )
    .build();

SetupIntent setupIntent = SetupIntent.create(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

SetupIntentCreateParams params =
  SetupIntentCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addPaymentMethodType("us_bank_account")
    .setPaymentMethodOptions(
      SetupIntentCreateParams.PaymentMethodOptions.builder()
        .setUsBankAccount(
          SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.builder()
            .setFinancialConnections(
              SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.builder()
                .addPermission(
                  SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.Permission.BALANCES
                )
                .addPermission(
                  SetupIntentCreateParams.PaymentMethodOptions.UsBankAccount.FinancialConnections.Permission.PAYMENT_METHOD
                )
                .build()
            )
            .build()
        )
        .build()
    )
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
SetupIntent setupIntent = client.v1().setupIntents().create(params);
```

--------------------------------

### Create Stripe Top-up with Go SDK

Source: https://docs.stripe.com/treasury/moving-money/payouts

Shows how to create a top-up using the Stripe Go SDK. This example uses both the global configuration and a client-specific approach.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.TopupParams{
  Amount: stripe.Int64(2000),
  Currency: stripe.String(stripe.CurrencyUSD),
  Description: stripe.String("Top-up"),
  StatementDescriptor: stripe.String("Top-up"),
}
result, err := topup.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.TopupCreateParams{
  Amount: stripe.Int64(2000),
  Currency: stripe.String(stripe.CurrencyUSD),
  Description: stripe.String("Top-up"),
  StatementDescriptor: stripe.String("Top-up"),
}
result, err := sc.V1Topups.Create(context.TODO(), params)
```

--------------------------------

### Install Stripe Library (Python)

Source: https://docs.stripe.com/invoicing/integration

Installs the Stripe Python library via pip for API integration. It's recommended to specify a version in requirements.txt.

```bash
# Install through pip
pip3 install --upgrade stripe
```

```bash
# Or find the Stripe package on http://pypi.python.org/pypi/stripe/
```

```python
# Find the version you want to pin:
# https://github.com/stripe/stripe-python/blob/master/CHANGELOG.md
# Specify that version in your requirements.txt file
stripe>=5.0.0
```

--------------------------------

### Execute PHP Script to Create Stripe Product and Price

Source: https://docs.stripe.com/get-started/development-environment

Executes the `create_price.php` script from the command line to create a Stripe product and price. The output shows the success messages and the generated product and price IDs.

```bash
php create_price.php
```

--------------------------------

### Create Stripe Subscription (Java)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Creates a new Stripe subscription using the Stripe Java SDK. Requires setting the API key and providing customer and price IDs. This example uses the direct API.

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import com.stripe.Stripe;
import com.stripe.param.SubscriptionCreateParams;
import com.stripe.model.Subscription;

Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

SubscriptionCreateParams params = 
  SubscriptionCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addItem(SubscriptionCreateParams.Item.builder().setPrice("{{PRICE_ID}}").build())
    .build();

Subscription subscription = Subscription.create(params);
```

```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import com.stripe.StripeClient;
import com.stripe.param.SubscriptionCreateParams;
import com.stripe.model.Subscription;

StripeClient client = new StripeClient("<<YOUR_SECRET_KEY>>");

SubscriptionCreateParams params = 
  SubscriptionCreateParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .addItem(SubscriptionCreateParams.Item.builder().setPrice("{{PRICE_ID}}").build())
    .build();

// For SDK versions 29.4.0 or lower, remove '.v1()' from the following line.
Subscription subscription = client.v1().subscriptions().create(params);
```

--------------------------------

### Create Customer (Python)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

This Python code demonstrates creating a customer in Stripe. It shows how to set the API key and then create a customer object with a name.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

customer = stripe.Customer.create(name="John Doe")
```

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = StripeClient("<<YOUR_SECRET_KEY>>")

```

--------------------------------

### Install Stripe Server-Side (Python)

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe Python package using pip for server-side integration. Includes instructions for specifying versions in requirements.txt.

```bash
# Install through pip
pip3 install --upgrade stripe
```

```bash
# Or find the Stripe package on http://pypi.org/pypi/stripe/
```

```python
# Find the version you want to pin:
# https://github.com/stripe/stripe-python/blob/master/CHANGELOG.md
# Specify that version in your requirements.txt file
stripe>=5.0.0
```

--------------------------------

### Create Customer (CLI)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

This CLI command shows how to create a customer in Stripe using the Stripe CLI. It specifies the customer's name.

```bash
stripe customers create  \
  --name="John Doe"
```

--------------------------------

### Retrieve SetupIntent using Node.js

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Retrieve a SetupIntent object using the Stripe Node.js SDK. Initialize the SDK with your secret key and then use the setupIntents.retrieve method with the SetupIntent ID.

```node
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<YOUR_SECRET_KEY>')

const setupIntent = await stripe.setupIntents.retrieve('seti_1EzVO3HssDVaQm2PJjXHmLlM');
```

--------------------------------

### Create Account Link (Upfront Onboarding - Ruby Client)

Source: https://docs.stripe.com/connect/hosted-onboarding

Shows how to create a Stripe Account Link for upfront onboarding using the Stripe Ruby client library. This method utilizes the `StripeClient` for API interactions and specifies 'eventually_due' for collection.

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

account_link = client.v1.account_links.create({
  account: '{{CONNECTEDACCOUNT_ID}}',
  refresh_url: 'https://example.com/refresh',
  return_url: 'https://example.com/return',
  type: 'account_onboarding',
  collection_options: {fields: 'eventually_due'},
})
```

--------------------------------

### Create Customer (Ruby)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

This Ruby code demonstrates creating a customer in Stripe. It shows how to set the API key and then create a customer object with a name.

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<YOUR_SECRET_KEY>'

customer = Stripe::Customer.create({name: 'John Doe'})
```

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

customer = client.v1.customers.create({name: 'John Doe'})
```

--------------------------------

### Create Stripe Subscription (Python)

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

Creates a new Stripe subscription using the Stripe Python SDK. Requires setting the API key and providing customer and price IDs. This example uses the direct API call.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

subscription = stripe.Subscription.create(
  customer="{{CUSTOMER_ID}}",
  items=[{"price": "{{PRICE_ID}}"}],
)
```

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
from stripe import StripeClient

client = StripeClient("<<YOUR_SECRET_KEY>>")

# For SDK versions 12.4.0 or lower, remove '.v1' from the following line.
subscription = client.v1.subscriptions.create({
  "customer": "{{CUSTOMER_ID}}",
  "items": [{"price": "{{PRICE_ID}}"}],
})
```

--------------------------------

### Initialize Node.js Project

Source: https://docs.stripe.com/get-started/development-environment

Initializes a new Node.js project using npm. This command creates a package.json file to manage project dependencies and scripts.

```bash
npm init
```

--------------------------------

### Create Stripe Customer (Go)

Source: https://docs.stripe.com/invoicing/customer

Provides examples for creating Stripe customers in Go, demonstrating two approaches: directly using the customer package and using a client with versioned API access. Both require setting the Stripe API key.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.CustomerParams{
  Email: stripe.String("jenny.rosen@example.com"),
  PaymentMethod: stripe.String("pm_card_visa"),
  InvoiceSettings: &stripe.CustomerInvoiceSettingsParams{
    DefaultPaymentMethod: stripe.String("pm_card_visa"),
  },
}
result, err := customer.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.CustomerCreateParams{
  Email: stripe.String("jenny.rosen@example.com"),
  PaymentMethod: stripe.String("pm_card_visa"),
  InvoiceSettings: &stripe.CustomerCreateInvoiceSettingsParams{
    DefaultPaymentMethod: stripe.String("pm_card_visa"),
  },
}
result, err := sc.V1Customers.Create(context.TODO(), params)
```

--------------------------------

### Install Stripe Python Package

Source: https://docs.stripe.com/payments/accept-stablecoin-payments

Installs the Stripe Python library via pip, necessary for server-side operations in Python. It's recommended to pin a specific version for stability.

```bash
# Install through pip
pip3 install --upgrade stripe
```

```bash
# Or find the Stripe package on http://pypi.python.org/pypi/stripe/

```

```python
# Find the version you want to pin:
# https://github.com/stripe/stripe-python/blob/master/CHANGELOG.md
# Specify that version in your requirements.txt file
stripe>=5.0.0
```

--------------------------------

### Stripe Coupon Deletion Examples

Source: https://docs.stripe.com/billing/subscriptions/coupons

Code examples for deleting Stripe coupons using the Stripe API across different languages.

```APIDOC
## Stripe Coupon Deletion Examples

### Ruby
```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

deleted = Stripe::Coupon.delete('free-period')
```

### Python
```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

deleted = stripe.Coupon.delete("free-period")
```

### PHP
```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$deleted = $stripe->coupons->delete('free-period', []);
```

### Java
```java
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
Stripe.apiKey = "<<YOUR_SECRET_KEY>>";

Coupon resource = Coupon.retrieve("free-period");

Coupon coupon = resource.delete();
```

### Node.js
```javascript
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
const stripe = require('stripe')('<<YOUR_SECRET_KEY>>');

const deleted = await stripe.coupons.del('free-period');
```

### Go
```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.CouponParams{}
result, err := coupon.Del("free-period", params)
```

### .NET
```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var service = new CouponService();
Coupon deleted = service.Delete("free-period");
```
```

--------------------------------

### Create Stripe Subscription using .NET

Source: https://docs.stripe.com/api/subscriptions/create

This .NET example demonstrates creating a Stripe subscription. It involves setting the Stripe API key via `StripeConfiguration`, defining subscription creation options including customer and item details, and then using the `SubscriptionService` to create the subscription.

```csharp
StripeConfiguration.ApiKey = '<<YOUR_SECRET_KEY>>

var options = new SubscriptionCreateOptions
{
    Customer = "cus_Na6dX7aXxi11N4",
    Items = new List<SubscriptionItemOptions>
    {
        new SubscriptionItemOptions { Price = "price_1MowQULkdIwHu7ixraBm864M" },
    },
};
var service = new SubscriptionService();
Subscription subscription = service.Create(options);
```

--------------------------------

### Create VerificationSession (Go)

Source: https://docs.stripe.com/identity/verification-sessions

Provides Go code examples for creating a VerificationSession with Stripe. It demonstrates usage with both the global API key and the StripeClient.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.IdentityVerificationSessionParams{
  Type: stripe.String(stripe.IdentityVerificationSessionTypeDocument),
}
result, err := verificationsession.New(params)
```

```go
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.IdentityVerificationSessionCreateParams{
  Type: stripe.String(stripe.IdentityVerificationSessionTypeDocument),
}
result, err := sc.V1IdentityVerificationSessions.Create(context.TODO(), params)
```

--------------------------------

### Create Stripe Subscription (PHP)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a Stripe subscription using the PHP SDK. It requires setting the secret API key and then calling the subscriptions create method with customer and item details.

```php
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
$stripe = new \Stripe\StripeClient('<<YOUR_SECRET_KEY>>');

$subscription = $stripe->subscriptions->create([
  'customer' => '{{CUSTOMER_ID}}',
  'items' => [['price' => '{{RECURRING_PRICE_ID}}']],
]);
```

--------------------------------

### Create Stripe Subscription in Go (stripe-go)

Source: https://docs.stripe.com/products-prices/pricing-models

This snippet demonstrates how to create a new Stripe subscription using the stripe-go library. It requires your secret key, customer ID, and price ID. The function returns a Subscription object and an error.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.SubscriptionParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Items: []*stripe.SubscriptionItemsParams{
    &stripe.SubscriptionItemsParams{
      Price: stripe.String("{{per_seat_price_id}}"),
      Quantity: stripe.Int64(12),
    },
  },
}
result, err := subscription.New(params)
```

--------------------------------

### Create Stripe Checkout Session in Ruby (Setup Mode)

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Illustrates how to create a Stripe Checkout Session in setup mode using the Ruby SDK. This is useful for onboarding users and preparing them for future payments. The code sets the API key and defines the session parameters including mode, UI mode, and currency.

```ruby
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

session = Stripe::Checkout::Session.create({
  mode: 'setup',
  ui_mode: 'custom',
  currency: 'usd',
})
```

```ruby
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

session = client.v1.checkout.sessions.create({
  mode: 'setup',
  ui_mode: 'custom',
  currency: 'usd',
})
```

--------------------------------

### Create Stripe Issuing Cardholder (Go)

Source: https://docs.stripe.com/issuing/testing

Initializes the Go Stripe SDK with a secret key and prepares parameters for creating an issuing cardholder. This snippet focuses on setting up the request parameters and does not include the actual API call.

```go
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.IssuingCardholderParams{
  Name: stripe.String("Jenny Rosen"),

```

--------------------------------

### Create Yearly Price (CLI)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a yearly price for a Stripe product using the Stripe CLI. Requires the Stripe API key and product ID.

```CLI
stripe prices create  \
  --product="{{PRODUCT_ID}}" \
  --unit-amount=10000 \
  --currency=usd \
  -d "recurring[interval]"=year
```

--------------------------------

### Install React Stripe.js

Source: https://docs.stripe.com/checkout/embedded/quickstart

Installs the necessary packages for integrating Stripe.js with a React application. This ensures PCI compliance by handling payment details directly with Stripe.

```bash
npm install --save @stripe/react-stripe-js @stripe/stripe-js
```

--------------------------------

### Activity Setup for Stripe Verification (Kotlin)

Source: https://docs.stripe.com/identity/verify-identity-documents

Demonstrates the basic setup for an Android Activity in Kotlin that will host the Stripe verification process. It includes lazy initialization of view binding for a button and a loading indicator.

```kotlin
class MyHostingActivity : AppCompatActivity() {
  // binding has a button and a loading indicator
  private val binding by lazy {
    MyHostingActivityBinding.inflate(layoutInflater)
  }
}
```

--------------------------------

### Create Stripe Price with Tiered Volume Pricing (Go)

Source: https://docs.stripe.com/products-prices/pricing-models

Demonstrates how to create a new Stripe price with volume-based tiered pricing using the Go Stripe client library. It configures recurring monthly billing, specifies tier amounts and thresholds, and expands the 'tiers' parameter for retrieval.

```go
import (
	"context"

	"github.com/stripe/stripe-go/v76"
	"github.com/stripe/stripe-go/v76/price"
)

func createTieredPrice() {
	stripe.NewClient("<<YOUR_SECRET_KEY>>")

	params := &price.Params{
		Nickname: stripe.String("Font Volume Pricing"),
		Tiers: []*price.TierParams{
			{UnitAmount: stripe.Int64(700), UpTo: stripe.Int64(5)},
			{UnitAmount: stripe.Int64(650), UpTo: stripe.Int64(10)},
			{UnitAmount: stripe.Int64(600), UpToInf: stripe.String("inf")},
		},
		Currency: stripe.String(stripe.CurrencyUSD),
		Recurring: &price.RecurringParams{
			Interval: stripe.String(price.RecurringIntervalMonth),
			UsageType: stripe.String(price.RecurringUsageTypeMetered),
		},
		Product: stripe.String("{{PRODUCT_ID}}"),
		TiersMode: stripe.String(price.TiersModeVolume),
		BillingScheme: stripe.String(price.BillingSchemeTiered),
	}
	params.AddExpand("tiers")
	_, err := price.New(params)
	if err != nil {
		// Handle error
	}
}
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.PriceCreateParams{
	Nickname: stripe.String("Font Volume Pricing"),
	Tiers: []*stripe.PriceCreateTierParams{
		&stripe.PriceCreateTierParams{UnitAmount: stripe.Int64(700), UpTo: stripe.Int64(5)},
		&stripe.PriceCreateTierParams{UnitAmount: stripe.Int64(650), UpTo: stripe.Int64(10)},
		&stripe.PriceCreateTierParams{
			UnitAmount: stripe.Int64(600),
			UpToInf: stripe.String("inf"),
		},
	},
	Currency: stripe.String(stripe.CurrencyUSD),
	Recurring: &stripe.PriceCreateRecurringParams{
		Interval: stripe.String(stripe.PriceRecurringIntervalMonth),
		UsageType: stripe.String(stripe.PriceRecurringUsageTypeMetered),
	},
	Product: stripe.String("{{PRODUCT_ID}}"),
	TiersMode: stripe.String(stripe.PriceTiersModeVolume),
	BillingScheme: stripe.String(stripe.PriceBillingSchemeTiered),
}
params.AddExpand("tiers")
result, err := sc.V1Prices.Create(context.TODO(), params)
```

--------------------------------

### Create a Meter using Stripe Ruby SDK

Source: https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide

This Ruby code snippet demonstrates creating a meter using the Stripe SDK. It sets up a meter named 'Alpaca AI tokens' with a 'sum' aggregation and defines how customer and value data are extracted from events.

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
Stripe.api_key = '<<YOUR_SECRET_KEY>>'

meter = Stripe::Billing::Meter.create({
  display_name: 'Alpaca AI tokens',
  event_name: 'alpaca_ai_tokens',
  default_aggregation: {formula: 'sum'},
  customer_mapping: {
    event_payload_key: 'stripe_customer_id',
    type: 'by_id',
  },
  value_settings: {event_payload_key: 'value'},
})
```

--------------------------------

### POST /v1/account_links

Source: https://docs.stripe.com/baas/start-integration/sample-app

Creates an account link for Stripe Connect onboarding. This link is used to redirect users to Stripe to collect necessary information.

```APIDOC
## POST /v1/account_links

### Description
Creates an account link for Stripe Connect onboarding. This link is used to redirect users to Stripe to collect necessary information.

### Method
POST

### Endpoint
/v1/account_links

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
- **type** (string) - Required - The type of account link ('account_onboarding' for onboarding).
- **account** (string) - Required - The ID of the connected account for which the link is created.
- **refresh_url** (string) - Required - The URL to redirect to if the link needs to be refreshed.
- **return_url** (string) - Required - The URL to redirect to after the onboarding process is completed.

### Request Example
```json
{
  "type": "account_onboarding",
  "account": "acct_12345",
  "refresh_url": "https://your-platform.com/onboard",
  "return_url": "https://your-platform.com/onboard"
}
```

### Response
#### Success Response (200)
- **url** (string) - The URL to redirect the user to for onboarding.
- **object** (string) - The type of object, usually 'account_link'.

#### Response Example
```json
{
  "url": "https://connect.stripe.com/onboarding/...,
  "object": "account_link"
}
```
```

--------------------------------

### Create Stripe SetupIntent (Go Client)

Source: https://docs.stripe.com/payments/save-and-reuse

Demonstrates creating a Stripe SetupIntent using the Stripe Go client, which allows for client-specific configurations. It involves creating a StripeClient and calling V1SetupIntents.Create with parameters. Note the version-specific comment regarding '.v1()'.

```Go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
import (
	"context"
	"github.com/stripe/stripe-go/v74/client"
	"github.com/stripe/stripe-go/v74/setupintent"
)

sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.SetupIntentCreateParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  PaymentMethodTypes: []*string{
    stripe.String("bancontact"),
    stripe.String("card"),
    stripe.String("ideal"),
  },
}
result, err := sc.V1SetupIntents.Create(context.TODO(), params)

```

--------------------------------

### Create Stripe Invoice (Python)

Source: https://docs.stripe.com/products-prices/pricing-models

Creates a Stripe invoice using the Python Stripe client library for managing customer credits or pre-payments.

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
import stripe
stripe.api_key = "<<YOUR_SECRET_KEY>>"

invoice = stripe.Invoice.create(
  description="Alpaca AI Credits",
  customer="{{CUSTOMER_ID}}",
  collection_method="charge_automatically",
)
```

```python
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
from stripe import StripeClient
client = StripeClient("<<YOUR_SECRET_KEY>>")


```

--------------------------------

### Create Stripe Subscription in .NET (StripeClient)

Source: https://docs.stripe.com/products-prices/pricing-models

This .NET snippet illustrates creating a Stripe subscription using the StripeClient. It requires your secret key, customer ID, and price ID. The function returns a Subscription object.

```csharp
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new SubscriptionCreateOptions
{
    Customer = "{{CUSTOMER_ID}}",
    Items = new List<SubscriptionItemOptions>
    {
        new SubscriptionItemOptions { Price = "{{per_seat_price_id}}", Quantity = 12 },
    },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Subscriptions;
Subscription subscription = service.Create(options);
```

--------------------------------

### Create Stripe Checkout Session in Stripe CLI (Setup Mode)

Source: https://docs.stripe.com/payments/checkout/save-and-reuse

Demonstrates creating a Stripe Checkout Session in setup mode using the Stripe CLI. This command is equivalent to the cURL request for setting up customer payment details for future use. It requires specifying the mode, UI mode, and currency.

```bash
stripe checkout sessions create  \
  --mode=setup \
  --ui-mode=custom \
  --currency=usd
```

--------------------------------

### Create Stripe Customer in Go

Source: https://docs.stripe.com/financial-connections/fundamentals

Shows how to create a Stripe customer using the Stripe Go library. This includes examples using the global API key and a `StripeClient`. Error handling is important in Go applications.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
stripe.Key = "<<YOUR_SECRET_KEY>>"

params := &stripe.CustomerParams{Email: stripe.String("{{CUSTOMER_EMAIL}}")}
result, err := customer.New(params)
```

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
sc := stripe.NewClient("<<YOUR_SECRET_KEY>>")
params := &stripe.CustomerCreateParams{Email: stripe.String("{{CUSTOMER_EMAIL}}")}
result, err := sc.V1Customers.Create(context.TODO(), params)
```

--------------------------------

### Create Account Session (Go - Static API Version)

Source: https://docs.stripe.com/connect/supported-embedded-components/capital-financing-application

Go example for creating a Stripe Connect account session. This snippet shows how to set the Stripe API key and version globally before creating the session. It configures the capital financing application component.

```go
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
// This example uses the beta SDK. See https://github.com/stripe/stripe-go#public-preview-sdks
stripe.Key = "<<YOUR_SECRET_KEY>>"

// Only beta releases of stripe-go support setting API version. See https://github.com/stripe/stripe-go/blob/beta/README.md#beta-sdks for more information.
stripe.APIVersion = "2025-08-27.preview; embedded_connect_beta=v2;"

params := &stripe.AccountSessionParams{
  Account: stripe.String("{{CONNECTEDACCOUNT_ID}}"),
  Components: &stripe.AccountSessionComponentsParams{
    CapitalFinancingApplication: &stripe.AccountSessionComponentsCapitalFinancingApplicationParams{
      Enabled: stripe.Bool(true),
    },
  },
}
result, err := accountsession.New(params)

```

--------------------------------

### React: Install Stripe.js Dependencies

Source: https://docs.stripe.com/payments/accept-stablecoin-payments

Installs the necessary npm packages for integrating Stripe with a React application: `@stripe/react-stripe-js` for React components and `@stripe/stripe-js` for Stripe.js functionality.

```bash
npm install --save @stripe/react-stripe-js @stripe/stripe-js

```

--------------------------------

### Create Stripe Account with Controller Properties (Ruby Client)

Source: https://docs.stripe.com/connect/hosted-onboarding

Creates a connected Stripe account using the Ruby Stripe client, specifying controller properties for fees, losses, and Stripe dashboard type. Requires your secret key for authentication. This example uses the StripeClient.

```ruby
# Set your secret key. Remember to switch to your live secret key in production.
# See your keys here: https://dashboard.stripe.com/apikeys
client = Stripe::StripeClient.new("<<YOUR_SECRET_KEY>>")

account = client.v1.accounts.create({
  controller: {
    fees: {payer: 'application'},
    losses: {payments: 'application'},
    stripe_dashboard: {type: 'express'},
  },
})
```

--------------------------------

### Create Stripe Product Feature (.NET)

Source: https://docs.stripe.com/billing/entitlements

This .NET example shows how to create a product feature. It requires setting the Stripe API key and then using the ProductFeatureService.

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new ProductFeatureCreateOptions { Product = "{{PRODUCT_ID}}", EntitlementFeature = "{{FEATURE_ID}}" };
var service = new ProductFeatureService();
service.Create(options);
```

--------------------------------

### MX Bank Transfer Transaction Example

Source: https://docs.stripe.com/payments/bank-transfers

Example of a customer cash balance transaction for a funded bank transfer within Mexico.

```APIDOC
## MX Bank Transfer Transaction Example

### Description
This example shows a `customer_cash_balance_transaction` object for a funded bank transfer in MXN, specific to Mexico. It includes details relevant to Mexican bank transfers like CLABE and sender bank.

### Method
N/A (This is a response example)

### Endpoint
N/A

### Parameters
N/A

### Request Example
N/A

### Response
#### Success Response (200)
- **id** (string) - Unique identifier for the transaction.
- **object** (string) - Type of object, 'customer_cash_balance_transaction'.
- **created** (integer) - Unix timestamp of when the transaction was created.
- **currency** (string) - The currency of the transaction (e.g., 'mxn').
- **customer** (string) - Identifier for the customer.
- **ending_balance** (integer) - The customer's balance after this transaction.
- **funded** (object) - Details about the funding source.
  - **bank_transfer** (object)
    - **mx_bank_transfer** (object)
      - **clabe_last4** (string) - Last 4 digits of the CLABE number.
      - **sender_bank** (string) - The name of the sender's bank.
      - **sender_name** (string) - The name of the sender.
    - **reference** (string) - A reference for the bank transfer.
    - **type** (string) - The type of bank transfer (e.g., 'mx_bank_transfer').
- **livemode** (boolean) - Indicates if the transaction is in live mode.
- **net_amount** (integer) - The net amount of the transaction.
- **type** (string) - The type of transaction ('funded').

#### Response Example
```json
{
    "id": "ccsbtxn_1Nkr8vGH59QTMK2f9CIA34L5",
    "object": "customer_cash_balance_transaction",
    "created": 1693412481,
    "currency": "mxn",
    "customer": "cus_OVD6ezUsYGBILH",
    "ending_balance": 10000,
    "funded": {
      "bank_transfer": {
        "mx_bank_transfer": {
          "clabe_last4": "4567",
          "sender_bank": "Citi",
          "sender_name": "JOHN DOE"
        },
        "reference": "REF-4242",
        "type": "mx_bank_transfer"
      }
    },
    "livemode": false,
    "net_amount": 12300,
    "type": "funded"
}
```
```

--------------------------------

### Create Stripe Setup Intent (Python)

Source: https://docs.stripe.com/financial-connections/balances

This Python code snippet demonstrates how to create a Stripe Setup Intent for a customer, specifying 'us_bank_account' as the payment method type and enabling financial connections with balances and payment method permissions. It requires the Stripe Python SDK.

```python
# For SDK versions 12.4.0 or lower, remove '.v1' from the following line.
setup_intent = client.v1.setup_intents.create({
  "customer": "{{CUSTOMER_ID}}",
  "payment_method_types": ["us_bank_account"],
  "payment_method_options": {
    "us_bank_account": {
      "financial_connections": {"permissions": ["balances", "payment_method"]},
    },
  },
})
```

--------------------------------

### JP Bank Transfer Transaction Example

Source: https://docs.stripe.com/payments/bank-transfers

Example of a customer cash balance transaction for a funded bank transfer within Japan.

```APIDOC
## JP Bank Transfer Transaction Example

### Description
This example provides a `customer_cash_balance_transaction` object for a funded bank transfer in JPY, specific to Japan. It includes details such as sender bank and branch name.

### Method
N/A (This is a response example)

### Endpoint
N/A

### Parameters
N/A

### Request Example
N/A

### Response
#### Success Response (200)
- **id** (string) - Unique identifier for the transaction.
- **object** (string) - Type of object, 'customer_cash_balance_transaction'.
- **created** (integer) - Unix timestamp of when the transaction was created.
- **currency** (string) - The currency of the transaction (e.g., 'jpy').
- **customer** (string) - Identifier for the customer.
- **ending_balance** (integer) - The customer's balance after this transaction.
- **funded** (object) - Details about the funding source.
  - **bank_transfer** (object)
    - **jp_bank_transfer** (object)
      - **sender_branch** (string) - The branch of the sender's bank.
      - **sender_bank** (string) - The name of the sender's bank.
      - **sender_name** (string) - The name of the sender.
    - **reference** (string) - A reference for the bank transfer.
    - **type** (string) - The type of bank transfer (e.g., 'jp_bank_transfer').
- **livemode** (boolean) - Indicates if the transaction is in live mode.
- **net_amount** (integer) - The net amount of the transaction.
- **type** (string) - The type of transaction ('funded').

#### Response Example
```json
{
    "id": "ccsbtxn_1Nkr8vGH59QTMK2f9CIA34L5",
    "object": "customer_cash_balance_transaction",
    "created": 1693412481,
    "currency": "jpy",
    "customer": "cus_OVD6ezUsYGBILH",
    "ending_balance": 10000,
    "funded": {
      "bank_transfer": {
        "jp_bank_transfer": {
          "sender_branch": "",
          "sender_bank": "",
          "sender_name": "John Doe"
        },
        "reference": "REF-4242",
        "type": "jp_bank_transfer"
      }
    },
    "livemode": false,
    "net_amount": 12300,
    "type": "funded"
}
```
```

--------------------------------

### Create Stripe SetupIntent with Go

Source: https://docs.stripe.com/financial-connections/ownership

Demonstrates how to create a Stripe SetupIntent using the Go client library. It specifies customer details, payment method types, and financial connection permissions for US bank accounts. Requires the Stripe Go SDK.

```go
params := &stripe.SetupIntentCreateParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  PaymentMethodTypes: []*string{stripe.String("us_bank_account")},
  PaymentMethodOptions: &stripe.SetupIntentCreatePaymentMethodOptionsParams{
    USBankAccount: &stripe.SetupIntentCreatePaymentMethodOptionsUSBankAccountParams{
      FinancialConnections: &stripe.SetupIntentCreatePaymentMethodOptionsUSBankAccountFinancialConnectionsParams{
        Permissions: []*string{
          stripe.String(stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsPermissionOwnership),
          stripe.String(stripe.SetupIntentPaymentMethodOptionsUSBankAccountFinancialConnectionsPermissionPaymentMethod),
        },
      },
    },
  },
}
result, err := sc.V1SetupIntents.Create(context.TODO(), params)
```

--------------------------------

### Create Stripe Setup Intent with US Bank Account (CLI)

Source: https://docs.stripe.com/financial-connections/balances

Creates a Stripe Setup Intent using the Stripe CLI. This command sets up the intent for a US bank account, specifying customer ID and financial connections permissions for balances and payment methods.

```bash
stripe setup_intents create  \
  --customer="{{CUSTOMER_ID}}" \
  -d "payment_method_types[0]"=us_bank_account \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][0]"=balances \
  -d "payment_method_options[us_bank_account][financial_connections][permissions][1]"=payment_method
```

--------------------------------

### Create Stripe Subscription using Stripe CLI

Source: https://docs.stripe.com/billing/subscriptions/quantities

Example of creating a Stripe subscription using the Stripe command-line interface (CLI). Requires customer and price IDs.

```bash
stripe subscriptions create  \
  --customer=cus_4fdAW5ftNQow1a \
  -d "items[0][price]"=price_CZB1AX3KOacNJw
```

--------------------------------

### US Bank Transfer Transaction Example

Source: https://docs.stripe.com/payments/bank-transfers

Example of a customer cash balance transaction for a funded bank transfer within the US.

```APIDOC
## US Bank Transfer Transaction Example

### Description
This example shows a `customer_cash_balance_transaction` object for a funded bank transfer in USD. It details transaction specifics and the funding source.

### Method
N/A (This is a response example)

### Endpoint
N/A

### Parameters
N/A

### Request Example
N/A

### Response
#### Success Response (200)
- **id** (string) - Unique identifier for the transaction.
- **object** (string) - Type of object, 'customer_cash_balance_transaction'.
- **created** (integer) - Unix timestamp of when the transaction was created.
- **currency** (string) - The currency of the transaction (e.g., 'usd').
- **customer** (string) - Identifier for the customer.
- **ending_balance** (integer) - The customer's balance after this transaction.
- **funded** (object) - Details about the funding source.
  - **bank_transfer** (object)
    - **reference** (string) - A reference for the bank transfer.
    - **type** (string) - The type of bank transfer (e.g., 'us_bank_transfer').
    - **us_bank_transfer** (object)
      - **network** (string) - The network used for the transfer (e.g., 'ach', 'domestic_wire_us').
      - **sender_name** (string) - The name of the sender.
- **livemode** (boolean) - Indicates if the transaction is in live mode.
- **net_amount** (integer) - The net amount of the transaction.
- **type** (string) - The type of transaction ('funded').

#### Response Example
```json
{
    "id": "ccsbtxn_1Nkr8vGH59QTMK2f9CIA34L5",
    "object": "customer_cash_balance_transaction",
    "created": 1693412481,
    "currency": "usd",
    "customer": "cus_OVD6ezUsYGBILH",
    "ending_balance": 10000,
    "funded": {
      "bank_transfer": {
        "reference": "REF-4242",
        "type": "us_bank_transfer",
        "us_bank_transfer": {
          "network": "ach",
          "sender_name": "John Doe"
        }
      }
    },
    "livemode": false,
    "net_amount": 12300,
    "type": "funded"
}
```
```

--------------------------------

### Create Recurring Price in .NET

Source: https://docs.stripe.com/products-prices/pricing-models

Provides examples for creating a recurring price using Stripe's .NET library. It involves setting the API key, defining price options including product ID, amount, currency, and recurring interval, and then creating the price using the PriceService.

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new PriceCreateOptions
{
    Product = "{{PRODUCT_ID}}",
    UnitAmount = 10000,
    Currency = "usd",
    Recurring = new PriceRecurringOptions { Interval = "year" },
};
var service = new PriceService();
Price price = service.Create(options)
```

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
var options = new PriceCreateOptions
{
    Product = "{{PRODUCT_ID}}",
    UnitAmount = 10000,
    Currency = "usd",
    Recurring = new PriceRecurringOptions { Interval = "year" },
};
var client = new StripeClient("<<YOUR_SECRET_KEY>>");
var service = client.V1.Prices;
Price price = service.Create(options)
```

--------------------------------

### Install Stripe React Native SDK

Source: https://docs.stripe.com/identity/verify-identity-documents

Installs the Stripe Identity React Native SDK using npm. This is the first step for integrating Stripe Identity features into a React Native application.

```bash
npm install @stripe/stripe-identity-react-native
```

--------------------------------

### Create Recurring Price in .NET

Source: https://docs.stripe.com/products-prices/pricing-models

This .NET code example shows how to create a monthly recurring price using the Stripe .NET library. It involves setting the API key and configuring the price creation options.

```dotnet
// Set your secret key. Remember to switch to your live secret key in production.
// See your keys here: https://dashboard.stripe.com/apikeys
StripeConfiguration.ApiKey = "<<YOUR_SECRET_KEY>>";

var options = new PriceCreateOptions
{
    Product = "{{PRODUCT_ID}}",
    UnitAmount = 1000,
    Currency = "usd",
    Recurring = new PriceRecurringOptions { Interval = "month" },
};
var service = new PriceService();
```